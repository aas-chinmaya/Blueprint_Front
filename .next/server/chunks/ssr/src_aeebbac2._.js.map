{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/components/ui/card.jsx"],"sourcesContent":["// import * as React from \"react\"\r\n\r\n// import { cn } from \"@/lib/utils\"\r\n\r\n// function Card({\r\n//   className,\r\n//   ...props\r\n// }) {\r\n//   return (\r\n//     <div\r\n//       data-slot=\"card\"\r\n//       className={cn(\r\n//         \"bg-card text-card-foreground flex flex-col gap-6   py-6 shadow-sm\",\r\n//         className\r\n//       )}\r\n//       {...props} />\r\n//   );\r\n// }\r\n\r\n// function CardHeader({\r\n//   className,\r\n//   ...props\r\n// }) {\r\n//   return (\r\n//     <div\r\n//       data-slot=\"card-header\"\r\n//       className={cn(\r\n//         \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n//         className\r\n//       )}\r\n//       {...props} />\r\n//   );\r\n// }\r\n\r\n// function CardTitle({\r\n//   className,\r\n//   ...props\r\n// }) {\r\n//   return (\r\n//     <div\r\n//       data-slot=\"card-title\"\r\n//       className={cn(\"leading-none font-semibold\", className)}\r\n//       {...props} />\r\n//   );\r\n// }\r\n\r\n// function CardDescription({\r\n//   className,\r\n//   ...props\r\n// }) {\r\n//   return (\r\n//     <div\r\n//       data-slot=\"card-description\"\r\n//       className={cn(\"text-muted-foreground text-sm\", className)}\r\n//       {...props} />\r\n//   );\r\n// }\r\n\r\n// function CardAction({\r\n//   className,\r\n//   ...props\r\n// }) {\r\n//   return (\r\n//     <div\r\n//       data-slot=\"card-action\"\r\n//       className={cn(\r\n//         \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n//         className\r\n//       )}\r\n//       {...props} />\r\n//   );\r\n// }\r\n\r\n// function CardContent({\r\n//   className,\r\n//   ...props\r\n// }) {\r\n//   return (<div data-slot=\"card-content\" className={cn(\"px-6\", className)} {...props} />);\r\n// }\r\n\r\n// function CardFooter({\r\n//   className,\r\n//   ...props\r\n// }) {\r\n//   return (\r\n//     <div\r\n//       data-slot=\"card-footer\"\r\n//       className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\r\n//       {...props} />\r\n//   );\r\n// }\r\n\r\n// export {\r\n//   Card,\r\n//   CardHeader,\r\n//   CardFooter,\r\n//   CardTitle,\r\n//   CardAction,\r\n//   CardDescription,\r\n//   CardContent,\r\n// }\r\n'use client';\r\n\r\nimport * as React from 'react';\r\n\r\nimport { cn } from '@/lib/utils';\r\n\r\nexport const Card = React.forwardRef(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      'rounded-lg border bg-card text-card-foreground shadow-sm',\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCard.displayName = 'Card';\r\nexport  function CardAction({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\nexport const CardHeader = React.forwardRef(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\r\n    {...props}\r\n  />\r\n));\r\nCardHeader.displayName = 'CardHeader';\r\n\r\nexport const CardTitle = React.forwardRef(({ className, ...props }, ref) => (\r\n  <h3\r\n    ref={ref}\r\n    className={cn(\r\n      'text-2xl font-semibold leading-none tracking-tight',\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCardTitle.displayName = 'CardTitle';\r\n\r\nexport const CardDescription = React.forwardRef(({ className, ...props }, ref) => (\r\n  <p\r\n    ref={ref}\r\n    className={cn('text-sm text-muted-foreground', className)}\r\n    {...props}\r\n  />\r\n));\r\nCardDescription.displayName = 'CardDescription';\r\n\r\nexport const CardContent = React.forwardRef(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\r\n));\r\nCardContent.displayName = 'CardContent';\r\n\r\nexport const CardFooter = React.forwardRef(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn('flex items-center p-6 pt-0', className)}\r\n    {...props}\r\n  />\r\n));\r\nCardFooter.displayName = 'CardFooter';"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/components/ui/dialog.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { XIcon } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Dialog({\r\n  ...props\r\n}) {\r\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />;\r\n}\r\n\r\nfunction DialogTrigger({\r\n  ...props\r\n}) {\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\r\n}\r\n\r\nfunction DialogPortal({\r\n  ...props\r\n}) {\r\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />;\r\n}\r\n\r\nfunction DialogClose({\r\n  ...props\r\n}) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\r\n}\r\n\r\nfunction DialogOverlay({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <DialogPrimitive.Overlay\r\n      data-slot=\"dialog-overlay\"\r\n      className={cn(\r\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction DialogContent({\r\n  className,\r\n  children,\r\n  showCloseButton = true,\r\n  ...props\r\n}) {\r\n  return (\r\n    <DialogPortal data-slot=\"dialog-portal\">\r\n      <DialogOverlay />\r\n      <DialogPrimitive.Content\r\n        data-slot=\"dialog-content\"\r\n        className={cn(\r\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\r\n          className\r\n        )}\r\n        {...props}>\r\n        {children}\r\n        {showCloseButton && (\r\n          <DialogPrimitive.Close\r\n            data-slot=\"dialog-close\"\r\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\r\n            <XIcon />\r\n            <span className=\"sr-only\">Close</span>\r\n          </DialogPrimitive.Close>\r\n        )}\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  );\r\n}\r\n\r\nfunction DialogHeader({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction DialogFooter({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction DialogTitle({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn(\"text-lg leading-none font-semibold\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogOverlay,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OACJ;IACC,qBAAO,8OAAC,kKAAA,CAAA,OAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACJ;IACC,qBAAO,8OAAC,kKAAA,CAAA,UAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACJ;IACC,qBAAO,8OAAC,kKAAA,CAAA,SAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACJ;IACC,qBAAO,8OAAC,kKAAA,CAAA,QAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,kKAAA,CAAA,UAAuB;QACtB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OACJ;IACC,qBACE,8OAAC;QAAa,aAAU;;0BACtB,8OAAC;;;;;0BACD,8OAAC,kKAAA,CAAA,UAAuB;gBACtB,aAAU;gBACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+WACA;gBAED,GAAG,KAAK;;oBACR;oBACA,iCACC,8OAAC,kKAAA,CAAA,QAAqB;wBACpB,aAAU;wBACV,WAAU;;0CACV,8OAAC,gMAAA,CAAA,QAAK;;;;;0CACN,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,0DAA0D;QACvE,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,kKAAA,CAAA,QAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,kKAAA,CAAA,cAA2B;QAC1B,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/components/ui/progress.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Progress({\r\n  className,\r\n  value,\r\n  ...props\r\n}) {\r\n  return (\r\n    <ProgressPrimitive.Root\r\n      data-slot=\"progress\"\r\n      className={cn(\r\n        \"bg-primary/20 relative h-2 w-full overflow-hidden rounded-full\",\r\n        className\r\n      )}\r\n      {...props}>\r\n      <ProgressPrimitive.Indicator\r\n        data-slot=\"progress-indicator\"\r\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\r\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }} />\r\n    </ProgressPrimitive.Root>\r\n  );\r\n}\r\n\r\nexport { Progress }\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACJ;IACC,qBACE,8OAAC,oKAAA,CAAA,OAAsB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;kBACT,cAAA,8OAAC,oKAAA,CAAA,YAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAGlE","debugId":null}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/components/ui/textarea.jsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Textarea({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,ucACA;QAED,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 436, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/components/ui/select.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\r\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Select({\r\n  ...props\r\n}) {\r\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />;\r\n}\r\n\r\nfunction SelectGroup({\r\n  ...props\r\n}) {\r\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />;\r\n}\r\n\r\nfunction SelectValue({\r\n  ...props\r\n}) {\r\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />;\r\n}\r\n\r\nfunction SelectTrigger({\r\n  className,\r\n  size = \"default\",\r\n  children,\r\n  ...props\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Trigger\r\n      data-slot=\"select-trigger\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      {...props}>\r\n      {children}\r\n      <SelectPrimitive.Icon asChild>\r\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\r\n      </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n  );\r\n}\r\n\r\nfunction SelectContent({\r\n  className,\r\n  children,\r\n  position = \"popper\",\r\n  ...props\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        data-slot=\"select-content\"\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\r\n          position === \"popper\" &&\r\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n          className\r\n        )}\r\n        position={position}\r\n        {...props}>\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\"p-1\", position === \"popper\" &&\r\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\")}>\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  );\r\n}\r\n\r\nfunction SelectLabel({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Label\r\n      data-slot=\"select-label\"\r\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction SelectItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\r\n        className\r\n      )}\r\n      {...props}>\r\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\r\n        <SelectPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </SelectPrimitive.ItemIndicator>\r\n      </span>\r\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n  );\r\n}\r\n\r\nfunction SelectSeparator({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction SelectScrollUpButton({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <SelectPrimitive.ScrollUpButton\r\n      data-slot=\"select-scroll-up-button\"\r\n      className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\r\n      {...props}>\r\n      <ChevronUpIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n  );\r\n}\r\n\r\nfunction SelectScrollDownButton({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <SelectPrimitive.ScrollDownButton\r\n      data-slot=\"select-scroll-down-button\"\r\n      className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\r\n      {...props}>\r\n      <ChevronDownIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n  );\r\n}\r\n\r\nexport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectScrollDownButton,\r\n  SelectScrollUpButton,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 663, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/components/ui/calendar.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport {\r\n  ChevronDownIcon,\r\n  ChevronLeftIcon,\r\n  ChevronRightIcon,\r\n} from \"lucide-react\"\r\nimport { DayPicker, getDefaultClassNames } from \"react-day-picker\";\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { Button, buttonVariants } from \"@/components/ui/button\"\r\n\r\nfunction Calendar({\r\n  className,\r\n  classNames,\r\n  showOutsideDays = true,\r\n  captionLayout = \"label\",\r\n  buttonVariant = \"ghost\",\r\n  formatters,\r\n  components,\r\n  ...props\r\n}) {\r\n  const defaultClassNames = getDefaultClassNames()\r\n\r\n  return (\r\n    <DayPicker\r\n      showOutsideDays={showOutsideDays}\r\n      className={cn(\r\n        \"bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent\",\r\n        String.raw`rtl:**:[.rdp-button\\_next>svg]:rotate-180`,\r\n        String.raw`rtl:**:[.rdp-button\\_previous>svg]:rotate-180`,\r\n        className\r\n      )}\r\n      captionLayout={captionLayout}\r\n      formatters={{\r\n        formatMonthDropdown: (date) =>\r\n          date.toLocaleString(\"default\", { month: \"short\" }),\r\n        ...formatters,\r\n      }}\r\n      classNames={{\r\n        root: cn(\"w-fit\", defaultClassNames.root),\r\n        months: cn(\"flex gap-4 flex-col md:flex-row relative\", defaultClassNames.months),\r\n        month: cn(\"flex flex-col w-full gap-4\", defaultClassNames.month),\r\n        nav: cn(\r\n          \"flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between\",\r\n          defaultClassNames.nav\r\n        ),\r\n        button_previous: cn(\r\n          buttonVariants({ variant: buttonVariant }),\r\n          \"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none\",\r\n          defaultClassNames.button_previous\r\n        ),\r\n        button_next: cn(\r\n          buttonVariants({ variant: buttonVariant }),\r\n          \"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none\",\r\n          defaultClassNames.button_next\r\n        ),\r\n        month_caption: cn(\r\n          \"flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)\",\r\n          defaultClassNames.month_caption\r\n        ),\r\n        dropdowns: cn(\r\n          \"w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5\",\r\n          defaultClassNames.dropdowns\r\n        ),\r\n        dropdown_root: cn(\r\n          \"relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md\",\r\n          defaultClassNames.dropdown_root\r\n        ),\r\n        dropdown: cn(\"absolute bg-popover inset-0 opacity-0\", defaultClassNames.dropdown),\r\n        caption_label: cn(\"select-none font-medium\", captionLayout === \"label\"\r\n          ? \"text-sm\"\r\n          : \"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5\", defaultClassNames.caption_label),\r\n        table: \"w-full border-collapse\",\r\n        weekdays: cn(\"flex\", defaultClassNames.weekdays),\r\n        weekday: cn(\r\n          \"text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none\",\r\n          defaultClassNames.weekday\r\n        ),\r\n        week: cn(\"flex w-full mt-2\", defaultClassNames.week),\r\n        week_number_header: cn(\"select-none w-(--cell-size)\", defaultClassNames.week_number_header),\r\n        week_number: cn(\r\n          \"text-[0.8rem] select-none text-muted-foreground\",\r\n          defaultClassNames.week_number\r\n        ),\r\n        day: cn(\r\n          \"relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none\",\r\n          defaultClassNames.day\r\n        ),\r\n        range_start: cn(\"rounded-l-md bg-accent\", defaultClassNames.range_start),\r\n        range_middle: cn(\"rounded-none\", defaultClassNames.range_middle),\r\n        range_end: cn(\"rounded-r-md bg-accent\", defaultClassNames.range_end),\r\n        today: cn(\r\n          \"bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none\",\r\n          defaultClassNames.today\r\n        ),\r\n        outside: cn(\r\n          \"text-muted-foreground aria-selected:text-muted-foreground\",\r\n          defaultClassNames.outside\r\n        ),\r\n        disabled: cn(\"text-muted-foreground opacity-50\", defaultClassNames.disabled),\r\n        hidden: cn(\"invisible\", defaultClassNames.hidden),\r\n        ...classNames,\r\n      }}\r\n      components={{\r\n        Root: ({ className, rootRef, ...props }) => {\r\n          return (<div data-slot=\"calendar\" ref={rootRef} className={cn(className)} {...props} />);\r\n        },\r\n        Chevron: ({ className, orientation, ...props }) => {\r\n          if (orientation === \"left\") {\r\n            return (<ChevronLeftIcon className={cn(\"size-4\", className)} {...props} />);\r\n          }\r\n\r\n          if (orientation === \"right\") {\r\n            return (<ChevronRightIcon className={cn(\"size-4\", className)} {...props} />);\r\n          }\r\n\r\n          return (<ChevronDownIcon className={cn(\"size-4\", className)} {...props} />);\r\n        },\r\n        DayButton: CalendarDayButton,\r\n        WeekNumber: ({ children, ...props }) => {\r\n          return (\r\n            <td {...props}>\r\n              <div\r\n                className=\"flex size-(--cell-size) items-center justify-center text-center\">\r\n                {children}\r\n              </div>\r\n            </td>\r\n          );\r\n        },\r\n        ...components,\r\n      }}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CalendarDayButton({\r\n  className,\r\n  day,\r\n  modifiers,\r\n  ...props\r\n}) {\r\n  const defaultClassNames = getDefaultClassNames()\r\n\r\n  const ref = React.useRef(null)\r\n  React.useEffect(() => {\r\n    if (modifiers.focused) ref.current?.focus()\r\n  }, [modifiers.focused])\r\n\r\n  return (\r\n    <Button\r\n      ref={ref}\r\n      variant=\"ghost\"\r\n      size=\"icon\"\r\n      data-day={day.date.toLocaleDateString()}\r\n      data-selected-single={\r\n        modifiers.selected &&\r\n        !modifiers.range_start &&\r\n        !modifiers.range_end &&\r\n        !modifiers.range_middle\r\n      }\r\n      data-range-start={modifiers.range_start}\r\n      data-range-end={modifiers.range_end}\r\n      data-range-middle={modifiers.range_middle}\r\n      className={cn(\r\n        \"data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70\",\r\n        defaultClassNames.day,\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nexport { Calendar, CalendarDayButton }\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 829, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/components/ui/command.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Command as CommandPrimitive } from \"cmdk\"\r\nimport { SearchIcon } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\n\r\nfunction Command({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <CommandPrimitive\r\n      data-slot=\"command\"\r\n      className={cn(\r\n        \"bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CommandDialog({\r\n  title = \"Command Palette\",\r\n  description = \"Search for a command to run...\",\r\n  children,\r\n  className,\r\n  showCloseButton = true,\r\n  ...props\r\n}) {\r\n  return (\r\n    <Dialog {...props}>\r\n      <DialogHeader className=\"sr-only\">\r\n        <DialogTitle>{title}</DialogTitle>\r\n        <DialogDescription>{description}</DialogDescription>\r\n      </DialogHeader>\r\n      <DialogContent\r\n        className={cn(\"overflow-hidden p-0\", className)}\r\n        showCloseButton={showCloseButton}>\r\n        <Command\r\n          className=\"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\r\n          {children}\r\n        </Command>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction CommandInput({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"command-input-wrapper\"\r\n      className=\"flex h-9 items-center gap-2 border-b px-3\">\r\n      <SearchIcon className=\"size-4 shrink-0 opacity-50\" />\r\n      <CommandPrimitive.Input\r\n        data-slot=\"command-input\"\r\n        className={cn(\r\n          \"placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        {...props} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CommandList({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <CommandPrimitive.List\r\n      data-slot=\"command-list\"\r\n      className={cn(\"max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CommandEmpty({\r\n  ...props\r\n}) {\r\n  return (<CommandPrimitive.Empty data-slot=\"command-empty\" className=\"py-6 text-center text-sm\" {...props} />);\r\n}\r\n\r\nfunction CommandGroup({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <CommandPrimitive.Group\r\n      data-slot=\"command-group\"\r\n      className={cn(\r\n        \"text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CommandSeparator({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <CommandPrimitive.Separator\r\n      data-slot=\"command-separator\"\r\n      className={cn(\"bg-border -mx-1 h-px\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CommandItem({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <CommandPrimitive.Item\r\n      data-slot=\"command-item\"\r\n      className={cn(\r\n        \"data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CommandShortcut({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <span\r\n      data-slot=\"command-shortcut\"\r\n      className={cn(\"text-muted-foreground ml-auto text-xs tracking-widest\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nexport {\r\n  Command,\r\n  CommandDialog,\r\n  CommandInput,\r\n  CommandList,\r\n  CommandEmpty,\r\n  CommandGroup,\r\n  CommandItem,\r\n  CommandShortcut,\r\n  CommandSeparator,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AACA;AAPA;;;;;;;AAeA,SAAS,QAAQ,EACf,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,sIAAA,CAAA,UAAgB;QACf,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,6FACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,cAAc,EACrB,QAAQ,iBAAiB,EACzB,cAAc,gCAAgC,EAC9C,QAAQ,EACR,SAAS,EACT,kBAAkB,IAAI,EACtB,GAAG,OACJ;IACC,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAE,GAAG,KAAK;;0BACf,8OAAC,kIAAA,CAAA,eAAY;gBAAC,WAAU;;kCACtB,8OAAC,kIAAA,CAAA,cAAW;kCAAE;;;;;;kCACd,8OAAC,kIAAA,CAAA,oBAAiB;kCAAE;;;;;;;;;;;;0BAEtB,8OAAC,kIAAA,CAAA,gBAAa;gBACZ,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;gBACrC,iBAAiB;0BACjB,cAAA,8OAAC;oBACC,WAAU;8BACT;;;;;;;;;;;;;;;;;AAKX;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAU;;0BACV,8OAAC,0MAAA,CAAA,aAAU;gBAAC,WAAU;;;;;;0BACtB,8OAAC,sIAAA,CAAA,UAAgB,CAAC,KAAK;gBACrB,aAAU;gBACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4JACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAGjB;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,sIAAA,CAAA,UAAgB,CAAC,IAAI;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,+DAA+D;QAC5E,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,aAAa,EACpB,GAAG,OACJ;IACC,qBAAQ,8OAAC,sIAAA,CAAA,UAAgB,CAAC,KAAK;QAAC,aAAU;QAAgB,WAAU;QAA4B,GAAG,KAAK;;;;;;AAC1G;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,sIAAA,CAAA,UAAgB,CAAC,KAAK;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0NACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,sIAAA,CAAA,UAAgB,CAAC,SAAS;QACzB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,wBAAwB;QACrC,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,sIAAA,CAAA,UAAgB,CAAC,IAAI;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,uYACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,yDAAyD;QACtE,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 1015, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/task/components/sub-task/CreateSubTaskModal.jsx"],"sourcesContent":["\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// \"use client\";\r\n\r\n// import { useState, useEffect, useMemo, useCallback, useRef } from \"react\";\r\n// import { useDispatch, useSelector } from \"react-redux\";\r\n// import { createSubTask } from \"@/modules/project-management/task/slices/subTaskSlice\";\r\n// import {\r\n//   Plus,\r\n//   User,\r\n//   Flag,\r\n//   Info,\r\n//   X,\r\n//   Loader,\r\n//   CalendarIcon,\r\n// } from \"lucide-react\";\r\n// import { toast } from \"sonner\";\r\n// import { Textarea } from \"@/components/ui/textarea\";\r\n// import { Button } from \"@/components/ui/button\";\r\n// import {\r\n//   Select,\r\n//   SelectContent,\r\n//   SelectItem,\r\n//   SelectTrigger,\r\n//   SelectValue,\r\n// } from \"@/components/ui/select\";\r\n// import {\r\n//   Popover,\r\n//   PopoverContent,\r\n//   PopoverTrigger,\r\n// } from \"@/components/ui/popover\";\r\n// import { Calendar } from \"@/components/ui/calendar\";\r\n// import {\r\n//   Dialog,\r\n//   DialogContent,\r\n//   DialogHeader,\r\n//   DialogTitle,\r\n//   DialogClose,\r\n// } from \"@/components/ui/dialog\";\r\n// import {\r\n//   Command,\r\n//   CommandEmpty,\r\n//   CommandGroup,\r\n//   CommandInput,\r\n//   CommandItem,\r\n// } from \"@/components/ui/command\";\r\n// import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n// import { format } from \"date-fns\";\r\n// import { cn } from \"@/lib/utils\";\r\n\r\n// const priorityConfig = {\r\n//   Low: { color: \"bg-emerald-100 text-emerald-800\", badge: \"Low\" },\r\n//   Medium: { color: \"bg-amber-100 text-amber-800\", badge: \"Medium\" },\r\n//   High: { color: \"bg-rose-100 text-rose-800\", badge: \"High\" },\r\n// };\r\n\r\n// const getInitials = (name) => {\r\n//   if (!name) return \"??\";\r\n//   const parts = name.trim().split(\" \").filter(Boolean);\r\n//   if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();\r\n//   return parts.map((p) => p[0]).join(\"\").toUpperCase().slice(0, 2);\r\n// };\r\n\r\n// const CreateSubtaskModal = ({ open, setOpen, taskId, projectId }) => {\r\n//   const dispatch = useDispatch();\r\n//   const { currentTask } = useSelector((state) => state.task);\r\n//   const { loading: subTaskLoading, error: subTaskError } = useSelector(\r\n//     (state) => state.subTask\r\n//   );\r\n\r\n//   // Track previous open value to detect real \"open\" transitions\r\n//   const prevOpenRef = useRef(open);\r\n//   const [internalOpen, setInternalOpen] = useState(false);\r\n\r\n//   const resolvedProjectId = currentTask?.projectId || projectId || \"\";\r\n\r\n//   const assigneesList = useMemo(() => {\r\n//     if (!currentTask?.assignedTo) return [];\r\n//     return Array.isArray(currentTask.assignedTo)\r\n//       ? currentTask.assignedTo\r\n//       : [currentTask.assignedTo];\r\n//   }, [currentTask?.assignedTo]);\r\n\r\n//   // Form states\r\n//   const [formData, setFormData] = useState({\r\n//     title: \"\",\r\n//     description: \"\",\r\n//     priority: \"Medium\",\r\n//     projectId: resolvedProjectId,\r\n//   });\r\n\r\n//   const [selectedAssignee, setSelectedAssignee] = useState(null);\r\n//   const [selectedDateTime, setSelectedDateTime] = useState(null);\r\n//   const [errors, setErrors] = useState({});\r\n//   const [searchOpen, setSearchOpen] = useState(false);\r\n//   const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n//   // Reset form every time modal truly opens (false â†’ true)\r\n//   useEffect(() => {\r\n//     const justOpened = open && !prevOpenRef.current;\r\n\r\n//     if (justOpened) {\r\n//       setFormData({\r\n//         title: \"\",\r\n//         description: \"\",\r\n//         priority: \"Medium\",\r\n//         projectId: resolvedProjectId,\r\n//       });\r\n//       setSelectedAssignee(null);\r\n//       setSelectedDateTime(null);\r\n//       setErrors({});\r\n//       setSearchQuery(\"\");\r\n//       setSearchOpen(false);\r\n//     }\r\n\r\n//     setInternalOpen(open);\r\n//     prevOpenRef.current = open;\r\n//   }, [open, resolvedProjectId]);\r\n\r\n//   const filteredMembers = useMemo(() => {\r\n//     const q = searchQuery.toLowerCase();\r\n//     return assigneesList\r\n//       .filter((m) => m.memberName?.toLowerCase().includes(q))\r\n//       .map((m) => ({\r\n//         memberId: m.memberId || m.id,\r\n//         memberName: m.memberName || m.name,\r\n//         role: m.role || \"Member\",\r\n//       }));\r\n//   }, [assigneesList, searchQuery]);\r\n\r\n//   const validate = useCallback(() => {\r\n//     const newErrors = {};\r\n//     if (!formData.title.trim()) newErrors.title = \"Title is required\";\r\n//     if (!formData.description.trim())\r\n//       newErrors.description = \"Description is required\";\r\n//     if (!selectedDateTime) newErrors.deadline = \"Deadline is required\";\r\n//     if (!selectedAssignee) newErrors.assignedTo = \"Please assign a member\";\r\n//     setErrors(newErrors);\r\n//     return Object.keys(newErrors).length === 0;\r\n//   }, [formData, selectedDateTime, selectedAssignee]);\r\n\r\n//   const handleCreate = useCallback(\r\n//     async (e) => {\r\n//       e.preventDefault();\r\n//       if (!validate()) {\r\n//         toast.error(\"Please fill all required fields\");\r\n//         return;\r\n//       }\r\n\r\n//       const deadline = selectedDateTime\r\n//         ? selectedDateTime.toISOString().slice(0, 16) + \":00\"\r\n//         : null;\r\n\r\n//       const subTaskData = {\r\n//         ...formData,\r\n//         deadline,\r\n//         task_id: taskId,\r\n//         assignedTo: selectedAssignee\r\n//           ? {\r\n//               memberId: selectedAssignee.memberId,\r\n//               memberName: selectedAssignee.memberName,\r\n//               role: selectedAssignee.role,\r\n//             }\r\n//           : null,\r\n//       };\r\n\r\n//       try {\r\n//         await dispatch(createSubTask({ taskId, subTaskData })).unwrap();\r\n//         toast.success(\"Subtask created successfully\");\r\n//         setOpen(false); // Close modal\r\n//       } catch (err) {\r\n//         toast.error(subTaskError || \"Failed to create subtask\");\r\n//       }\r\n//     },\r\n//     [\r\n//       validate,\r\n//       formData,\r\n//       selectedDateTime,\r\n//       selectedAssignee,\r\n//       taskId,\r\n//       dispatch,\r\n//       subTaskError,\r\n//       setOpen,\r\n//     ]\r\n//   );\r\n\r\n//   const displayDateTime = selectedDateTime\r\n//     ? format(selectedDateTime, \"MMM dd, yyyy 'at' HH:mm\")\r\n//     : \"Select date & time\";\r\n\r\n//   const isSaveEnabled =\r\n//     formData.title.trim() &&\r\n//     formData.description.trim() &&\r\n//     selectedDateTime &&\r\n//     selectedAssignee;\r\n\r\n//   return (\r\n//     <Dialog open={internalOpen} onOpenChange={setOpen}>\r\n//       <DialogContent className=\"w-full max-w-full h-[100vh] max-h-[100vh] sm:max-w-6xl sm:max-h-[85vh] bg-white shadow-lg border border-gray-200 rounded-lg text-black p-2\">\r\n//         <DialogHeader className=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-2 border-b border-gray-200 sticky top-0 z-10\">\r\n//           <div className=\"flex justify-between items-center\">\r\n//             <DialogTitle className=\"text-base sm:text-lg font-bold text-gray-800 flex items-center\">\r\n//               <Plus className=\"mr-2 h-4 w-4 text-blue-500\" />\r\n//               Add New Subtask\r\n//             </DialogTitle>\r\n//             <DialogClose asChild>\r\n//               <Button\r\n//                 variant=\"ghost\"\r\n//                 size=\"icon\"\r\n//                 className=\"text-gray-500 hover:bg-gray-100 rounded-full h-7 w-7\"\r\n//               >\r\n//                 <X className=\"h-3 w-3\" />\r\n//               </Button>\r\n//             </DialogClose>\r\n//           </div>\r\n//         </DialogHeader>\r\n\r\n//         <div className=\"p-4 sm:p-6 overflow-y-auto max-h-[calc(85vh-60px)]\">\r\n//           <form onSubmit={handleCreate} className=\"space-y-4\">\r\n//             {/* Title */}\r\n//             <div className=\"w-full\">\r\n//               <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n//                 <Plus className=\"h-4 w-4 text-blue-500 mr-2\" /> Subtask Title{\" \"}\r\n//                 <span className=\"text-red-500 ml-1\">*</span>\r\n//               </label>\r\n//               <Textarea\r\n//                 value={formData.title}\r\n//                 onChange={(e) =>\r\n//                   setFormData((prev) => ({ ...prev, title: e.target.value }))\r\n//                 }\r\n//                 className=\"w-full h-24 sm:h-28 md:h-32 bg-white border border-gray-300 rounded-lg text-sm resize-vertical focus:ring-2 focus:ring-blue-200 focus:border-blue-500 p-3\"\r\n//                 placeholder=\"Enter subtask title...\"\r\n//               />\r\n//               {errors.title && (\r\n//                 <p className=\"text-red-500 text-xs mt-1 flex items-center\">\r\n//                   <X className=\"h-3 w-3 mr-1\" /> {errors.title}\r\n//                 </p>\r\n//               )}\r\n//             </div>\r\n\r\n//             {/* Priority & Deadline */}\r\n//             <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n//               <div>\r\n//                 <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n//                   <Flag className=\"h-4 w-4 text-blue-500 mr-2\" /> Priority\r\n//                 </label>\r\n//                 <Select\r\n//                   value={formData.priority}\r\n//                   onValueChange={(v) =>\r\n//                     setFormData((prev) => ({ ...prev, priority: v }))\r\n//                   }\r\n//                 >\r\n//                   <SelectTrigger className=\"w-full h-10\">\r\n//                     <SelectValue>\r\n//                       <span\r\n//                         className={cn(\r\n//                           \"px-2 py-1 rounded-full text-xs font-medium\",\r\n//                           priorityConfig[formData.priority]?.color\r\n//                         )}\r\n//                       >\r\n//                         {priorityConfig[formData.priority]?.badge}\r\n//                       </span>\r\n//                     </SelectValue>\r\n//                   </SelectTrigger>\r\n//                   <SelectContent>\r\n//                     {Object.entries(priorityConfig).map(([key, config]) => (\r\n//                       <SelectItem key={key} value={key}>\r\n//                         <span\r\n//                           className={cn(\r\n//                             \"px-2 py-1 rounded-full text-xs font-medium\",\r\n//                             config.color\r\n//                           )}\r\n//                         >\r\n//                           {config.badge}\r\n//                           </span>\r\n//                         </SelectItem>\r\n//                       ))}\r\n//                   </SelectContent>\r\n//                 </Select>\r\n//               </div>\r\n\r\n//               <div>\r\n//                 <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n//                   <CalendarIcon className=\"h-4 w-4 text-blue-500 mr-2\" /> Deadline{\" \"}\r\n//                   <span className=\"text-red-500 ml-1\">*</span>\r\n//                 </label>\r\n//                 <Popover>\r\n//                   <PopoverTrigger asChild>\r\n//                     <Button\r\n//                       variant=\"outline\"\r\n//                       className={cn(\r\n//                         \"w-full justify-between h-10 text-sm\",\r\n//                         !selectedDateTime && \"text-gray-500\"\r\n//                       )}\r\n//                     >\r\n//                       {displayDateTime}\r\n//                     </Button>\r\n//                   </PopoverTrigger>\r\n//                   <PopoverContent className=\"w-auto p-0 bg-white border border-gray-200 rounded-lg shadow-lg\">\r\n//                     <Calendar\r\n//                       mode=\"single\"\r\n//                       selected={selectedDateTime}\r\n//                       onSelect={setSelectedDateTime}\r\n//                       initialFocus\r\n//                       className=\"rounded-lg\"\r\n//                     />\r\n//                     <div className=\"p-3 border-t flex items-center gap-2\">\r\n//                       <input\r\n//                         type=\"time\"\r\n//                         value={\r\n//                           selectedDateTime\r\n//                             ? format(selectedDateTime, \"HH:mm\")\r\n//                             : \"\"\r\n//                         }\r\n//                         onChange={(e) => {\r\n//                           if (selectedDateTime) {\r\n//                             const [h, m] = e.target.value.split(\":\");\r\n//                             const newDt = new Date(selectedDateTime);\r\n//                             newDt.setHours(parseInt(h), parseInt(m));\r\n//                             setSelectedDateTime(newDt);\r\n//                           }\r\n//                         }}\r\n//                         className=\"h-10 border rounded px-3 text-sm w-full\"\r\n//                       />\r\n//                     </div>\r\n//                   </PopoverContent>\r\n//                 </Popover>\r\n//                 {errors.deadline && (\r\n//                   <p className=\"text-red-500 text-xs mt-1 flex items-center\">\r\n//                     <X className=\"h-3 w-3 mr-1\" /> {errors.deadline}\r\n//                   </p>\r\n//                 )}\r\n//               </div>\r\n//             </div>\r\n\r\n//             {/* Assignee */}\r\n//             <div>\r\n//               <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n//                 <User className=\"h-4 w-4 text-blue-500 mr-2\" /> Assign To{\" \"}\r\n//                 <span className=\"text-red-500 ml-1\">*</span>\r\n//               </label>\r\n//               <Popover open={searchOpen} onOpenChange={setSearchOpen}>\r\n//                 <PopoverTrigger asChild>\r\n//                   <Button\r\n//                     variant=\"outline\"\r\n//                     className=\"w-full justify-between h-12 text-sm\"\r\n//                   >\r\n//                     {selectedAssignee ? (\r\n//                       <div className=\"flex items-center gap-3\">\r\n//                         <Avatar className=\"h-8 w-8\">\r\n//                           <AvatarFallback className=\"bg-teal-600 text-white text-xs\">\r\n//                             {getInitials(selectedAssignee.memberName)}\r\n//                           </AvatarFallback>\r\n//                         </Avatar>\r\n//                         <div className=\"text-left\">\r\n//                           <div className=\"font-medium\">\r\n//                             {selectedAssignee.memberName}\r\n//                           </div>\r\n//                           <div className=\"text-xs text-gray-500\">\r\n//                             {selectedAssignee.role}\r\n//                           </div>\r\n//                         </div>\r\n//                       </div>\r\n//                     ) : (\r\n//                       \"Select team member...\"\r\n//                     )}\r\n//                     <User className=\"h-4 w-4 text-gray-500 ml-auto\" />\r\n//                   </Button>\r\n//                 </PopoverTrigger>\r\n//                 <PopoverContent className=\"w-full p-0\" align=\"start\">\r\n//                   <Command>\r\n//                     <CommandInput\r\n//                       placeholder=\"Search members...\"\r\n//                       value={searchQuery}\r\n//                       onValueChange={setSearchQuery}\r\n//                     />\r\n//                     <CommandEmpty>No members found</CommandEmpty>\r\n//                     <CommandGroup className=\"max-h-64 overflow-auto\">\r\n//                       {filteredMembers.map((m) => (\r\n//                         <CommandItem\r\n//                           key={m.memberId}\r\n//                           onSelect={() => {\r\n//                             setSelectedAssignee(m);\r\n//                             setSearchOpen(false);\r\n//                           }}\r\n//                         >\r\n//                           <Avatar className=\"h-8 w-8 mr-3\">\r\n//                             <AvatarFallback className=\"text-xs bg-teal-600 text-white\">\r\n//                               {getInitials(m.memberName)}\r\n//                             </AvatarFallback>\r\n//                           </Avatar>\r\n//                           <div>\r\n//                             <div className=\"font-medium\">{m.memberName}</div>\r\n//                             <div className=\"text-xs text-gray-500\">\r\n//                               {m.role}\r\n//                             </div>\r\n//                           </div>\r\n//                         </CommandItem>\r\n//                       ))}\r\n//                     </CommandGroup>\r\n//                   </Command>\r\n//                 </PopoverContent>\r\n//               </Popover>\r\n\r\n//               {selectedAssignee && (\r\n//                 <Button\r\n//                   type=\"button\"\r\n//                   variant=\"ghost\"\r\n//                   size=\"sm\"\r\n//                   onClick={() => setSelectedAssignee(null)}\r\n//                   className=\"mt-2 text-red-600\"\r\n//                 >\r\n//                   <X className=\"h-4 w-4 mr-1\" /> Remove assignee\r\n//                 </Button>\r\n//               )}\r\n//               {errors.assignedTo && (\r\n//                 <p className=\"text-red-500 text-xs mt-1 flex items-center\">\r\n//                   <X className=\"h-3 w-3 mr-1\" /> {errors.assignedTo}\r\n//                 </p>\r\n//               )}\r\n//             </div>\r\n\r\n//             {/* Description */}\r\n//             <div className=\"w-full\">\r\n//               <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n//                 <Info className=\"h-4 w-4 text-blue-500 mr-2\" /> Description{\" \"}\r\n//                 <span className=\"text-red-500 ml-1\">*</span>\r\n//               </label>\r\n//               <Textarea\r\n//                 value={formData.description}\r\n//                 onChange={(e) =>\r\n//                   setFormData((prev) => ({\r\n//                     ...prev,\r\n//                     description: e.target.value,\r\n//                   }))\r\n//                 }\r\n//                 className=\"w-full h-40 sm:h-48 md:h-52 bg-white border border-gray-300 rounded-lg text-sm resize-vertical focus:ring-2 focus:ring-blue-200 focus:border-blue-500 p-3\"\r\n//                 placeholder=\"Enter detailed subtask description...\"\r\n//               />\r\n//               {errors.description && (\r\n//                 <p className=\"text-red-500 text-xs mt-1 flex items-center\">\r\n//                   <X className=\"h-3 w-3 mr-1\" /> {errors.description}\r\n//                 </p>\r\n//               )}\r\n//             </div>\r\n\r\n//             {subTaskError && (\r\n//               <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\r\n//                 <p className=\"text-red-600 text-sm flex items-center\">\r\n//                   <X className=\"h-4 w-4 mr-2\" /> {subTaskError}\r\n//                 </p>\r\n//               </div>\r\n//             )}\r\n\r\n//             <div className=\"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t border-gray-200 mt-6\">\r\n//               <Button type=\"button\" variant=\"outline\" onClick={() => setOpen(false)}>\r\n//                 Cancel\r\n//               </Button>\r\n//               <Button\r\n//                 type=\"submit\"\r\n//                 disabled={!isSaveEnabled || subTaskLoading}\r\n//                 className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n//               >\r\n//                 {subTaskLoading ? (\r\n//                   <>\r\n//                     <Loader className=\"mr-2 h-4 w-4 animate-spin\" />\r\n//                     Creating...\r\n//                   </>\r\n//                 ) : (\r\n//                   \"Create Subtask\"\r\n//                 )}\r\n//               </Button>\r\n//             </div>\r\n//           </form>\r\n//         </div>\r\n//       </DialogContent>\r\n//     </Dialog>\r\n//   );\r\n// };\r\n\r\n// export default CreateSubtaskModal;\r\n\r\n\r\n\"use client\";\r\n\r\nimport { useState, useEffect, useMemo, useCallback, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createSubTask } from \"@/modules/project-management/task/slices/subTaskSlice\";\r\nimport {\r\n  Plus,\r\n  User,\r\n  Flag,\r\n  Info,\r\n  X,\r\n  Loader,\r\n  CalendarIcon,\r\n} from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from \"@/components/ui/popover\";\r\nimport { Calendar } from \"@/components/ui/calendar\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogClose,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  Command,\r\n  CommandEmpty,\r\n  CommandGroup,\r\n  CommandInput,\r\n  CommandItem,\r\n} from \"@/components/ui/command\";\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport { format } from \"date-fns\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\n\r\nconst priorityConfig = {\r\n  Low: { color: \"bg-emerald-100 text-emerald-800\", badge: \"Low\" },\r\n  Medium: { color: \"bg-amber-100 text-amber-800\", badge: \"Medium\" },\r\n  High: { color: \"bg-rose-100 text-rose-800\", badge: \"High\" },\r\n};\r\n\r\nconst getInitials = (name) => {\r\n  if (!name) return \"??\";\r\n  const parts = name.trim().split(\" \").filter(Boolean);\r\n  if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();\r\n  return parts.map((p) => p[0]).join(\"\").toUpperCase().slice(0, 2);\r\n};\r\n\r\nconst CreateSubtaskModal = ({ open, setOpen, taskId, projectId }) => {\r\n  const dispatch = useDispatch();\r\n  const { currentTask } = useSelector((state) => state.task);\r\n  const { currentUser } = useCurrentUser(); // Your custom hook\r\n  const { loading: subTaskLoading, error: subTaskError } = useSelector(\r\n    (state) => state.subTask\r\n  );\r\n\r\n  const prevOpenRef = useRef(open);\r\n\r\n  const resolvedProjectId = currentTask?.projectId || projectId || \"\";\r\n\r\n  const assigneesList = useMemo(() => {\r\n    if (!currentTask?.assignedTo) return [];\r\n    return Array.isArray(currentTask.assignedTo)\r\n      ? currentTask.assignedTo\r\n      : [currentTask.assignedTo];\r\n  }, [currentTask?.assignedTo]);\r\n\r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    priority: \"Medium\",\r\n    projectId: resolvedProjectId,\r\n  });\r\n\r\n  const [selectedAssignee, setSelectedAssignee] = useState(null);\r\n  const [selectedDateTime, setSelectedDateTime] = useState(null);\r\n  const [errors, setErrors] = useState({});\r\n  const [searchOpen, setSearchOpen] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  // Reset form when modal opens\r\n  useEffect(() => {\r\n    const justOpened = open && !prevOpenRef.current;\r\n\r\n    if (justOpened) {\r\n      setFormData({\r\n        title: \"\",\r\n        description: \"\",\r\n        priority: \"Medium\",\r\n        projectId: resolvedProjectId,\r\n      });\r\n      setSelectedAssignee(null);\r\n      setSelectedDateTime(null);\r\n      setErrors({});\r\n      setSearchQuery(\"\");\r\n      setSearchOpen(false);\r\n    }\r\n\r\n    prevOpenRef.current = open;\r\n  }, [open, resolvedProjectId]);\r\n\r\n  const filteredMembers = useMemo(() => {\r\n    const q = searchQuery.toLowerCase();\r\n    return assigneesList\r\n      .filter((m) => m?.memberName?.toLowerCase().includes(q))\r\n      .map((m) => ({\r\n        memberId: m.memberId || m._id || m.id,\r\n        memberName: m.memberName || m.name || \"Unknown Member\",\r\n        role: m.role || \"Member\",\r\n      }));\r\n  }, [assigneesList, searchQuery]);\r\n\r\n  const validate = useCallback(() => {\r\n    const newErrors = {};\r\n    if (!formData.title.trim()) newErrors.title = \"Title is required\";\r\n    if (!formData.description.trim()) newErrors.description = \"Description is required\";\r\n    if (!selectedDateTime) newErrors.deadline = \"Deadline is required\";\r\n    if (!selectedAssignee) newErrors.assignedTo = \"Please assign a member\";\r\n\r\n    setErrors(newErrors); // Fixed: was setErrors(newErrors(newErrors); â† syntax error!\r\n    return Object.keys(newErrors).length === 0;\r\n  }, [formData, selectedDateTime, selectedAssignee]);\r\n\r\n  const handleCreate = useCallback(\r\n    async (e) => {\r\n      e.preventDefault();\r\n      if (!validate()) {\r\n        toast.error(\"Please fill all required fields\");\r\n        return;\r\n      }\r\n\r\n      if (!taskId) {\r\n        toast.error(\"Task ID is missing\");\r\n        return;\r\n      }\r\n\r\n      const deadlineISO = selectedDateTime ? selectedDateTime.toISOString() : null;\r\n\r\n      const subTaskData = {\r\n        title: formData.title.trim(),\r\n        description: formData.description.trim(),\r\n        priority: formData.priority,\r\n        projectId: resolvedProjectId,\r\n        task_id: taskId,\r\n        deadline: deadlineISO,\r\n        assignedTo: {\r\n          memberId: selectedAssignee.memberId,\r\n          memberName: selectedAssignee.memberName,\r\n          role: selectedAssignee.role,\r\n        },\r\n        // actionedBy is now properly sent\r\n        actionedBy: {\r\n          note: \"Created subtask\",\r\n          performedBy: currentUser?.name || \"Unknown User\",\r\n          timestamp: new Date().toISOString(),\r\n        },\r\n      };\r\n\r\n      try {\r\n        await dispatch(createSubTask({ taskId, subTaskData })).unwrap();\r\n        toast.success(\"Subtask created successfully!\");\r\n        setOpen(false);\r\n      } catch (err) {\r\n        const msg = subTaskError || err?.message || \"Failed to create subtask\";\r\n        toast.error(msg);\r\n        console.error(\"Create subtask error:\", err);\r\n      }\r\n    },\r\n    [\r\n      validate,\r\n      formData,\r\n      selectedDateTime,\r\n      selectedAssignee,\r\n      taskId,\r\n      resolvedProjectId,\r\n      currentUser,\r\n      dispatch,\r\n      subTaskError,\r\n      setOpen,\r\n    ]\r\n  );\r\n\r\n  const displayDateTime = selectedDateTime\r\n    ? format(selectedDateTime, \"MMM dd, yyyy 'at' HH:mm\")\r\n    : \"Select date & time\";\r\n\r\n  const isSaveEnabled =\r\n    formData.title.trim() &&\r\n    formData.description.trim() &&\r\n    selectedDateTime &&\r\n    selectedAssignee;\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={setOpen}>\r\n      <DialogContent className=\"w-full max-w-full h-[100vh] max-h-[100vh] sm:max-w-6xl sm:max-h-[85vh] bg-white shadow-lg border border-gray-200 rounded-lg text-black p-2\">\r\n        <DialogHeader className=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-2 border-b border-gray-200 sticky top-0 z-10\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <DialogTitle className=\"text-base sm:text-lg font-bold text-gray-800 flex items-center\">\r\n              <Plus className=\"mr-2 h-4 w-4 text-blue-500\" />\r\n              Add New Subtask\r\n            </DialogTitle>\r\n            <DialogClose asChild>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                className=\"text-gray-500 hover:bg-gray-100 rounded-full h-7 w-7\"\r\n              >\r\n                <X className=\"h-3 w-3\" />\r\n              </Button>\r\n            </DialogClose>\r\n          </div>\r\n        </DialogHeader>\r\n\r\n        <div className=\"p-4 sm:p-6 overflow-y-auto max-h-[calc(85vh-60px)]\">\r\n          <form onSubmit={handleCreate} className=\"space-y-4\">\r\n            {/* Title */}\r\n            <div className=\"w-full\">\r\n              <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                <Plus className=\"h-4 w-4 text-blue-500 mr-2\" /> Subtask Title{\" \"}\r\n                <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <Textarea\r\n                value={formData.title}\r\n                onChange={(e) =>\r\n                  setFormData((prev) => ({ ...prev, title: e.target.value }))\r\n                }\r\n                className=\"w-full h-24 sm:h-28 md:h-32 bg-white border border-gray-300 rounded-lg text-sm resize-vertical focus:ring-2 focus:ring-blue-200 focus:border-blue-500 p-3\"\r\n                placeholder=\"Enter subtask title...\"\r\n              />\r\n              {errors.title && (\r\n                <p className=\"text-red-500 text-xs mt-1 flex items-center\">\r\n                  <X className=\"h-3 w-3 mr-1\" /> {errors.title}\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Priority & Deadline */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                  <Flag className=\"h-4 w-4 text-blue-500 mr-2\" /> Priority\r\n                </label>\r\n                <Select\r\n                  value={formData.priority}\r\n                  onValueChange={(v) =>\r\n                    setFormData((prev) => ({ ...prev, priority: v }))\r\n                  }\r\n                >\r\n                  <SelectTrigger className=\"w-full h-10\">\r\n                    <SelectValue>\r\n                      <span\r\n                        className={cn(\r\n                          \"px-2 py-1 rounded-full text-xs font-medium\",\r\n                          priorityConfig[formData.priority]?.color\r\n                        )}\r\n                      >\r\n                        {priorityConfig[formData.priority]?.badge}\r\n                      </span>\r\n                    </SelectValue>\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {Object.entries(priorityConfig).map(([key, config]) => (\r\n                      <SelectItem key={key} value={key}>\r\n                        <span\r\n                          className={cn(\r\n                            \"px-2 py-1 rounded-full text-xs font-medium\",\r\n                            config.color\r\n                          )}\r\n                        >\r\n                          {config.badge}\r\n                        </span>\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div>\r\n                 <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                  <CalendarIcon className=\"h-4 w-4 text-blue-500 mr-2\" /> Deadline    <span className=\"text-red-500 ml-1\">*</span>\r\n                </label>\r\n               \r\n                <Popover>\r\n                  <PopoverTrigger asChild>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      className={cn(\r\n                        \"w-full justify-between h-10 text-sm\",\r\n                        !selectedDateTime && \"text-gray-500\"\r\n                      )}\r\n                    >\r\n                      {displayDateTime}\r\n                    </Button>\r\n                  </PopoverTrigger>\r\n                  <PopoverContent className=\"w-auto p-0 bg-white border border-gray-200 rounded-lg shadow-lg\">\r\n                    <Calendar\r\n                      mode=\"single\"\r\n                      selected={selectedDateTime}\r\n                      onSelect={setSelectedDateTime}\r\n                      initialFocus\r\n                      className=\"rounded-lg\"\r\n                    />\r\n                    <div className=\"p-3 border-t flex items-center gap-2\">\r\n                      <input\r\n                        type=\"time\"\r\n                        value={\r\n                          selectedDateTime\r\n                            ? format(selectedDateTime, \"HH:mm\")\r\n                            : \"\"\r\n                        }\r\n                        onChange={(e) => {\r\n                          if (selectedDateTime) {\r\n                            const [h, m] = e.target.value.split(\":\");\r\n                            const newDt = new Date(selectedDateTime);\r\n                            newDt.setHours(parseInt(h), parseInt(m));\r\n                            setSelectedDateTime(newDt);\r\n                          }\r\n                        }}\r\n                        className=\"h-10 border rounded px-3 text-sm w-full\"\r\n                      />\r\n                    </div>\r\n                  </PopoverContent>\r\n                </Popover>\r\n                {errors.deadline && (\r\n                  <p className=\"text-red-500 text-xs mt-1 flex items-center\">\r\n                    <X className=\"h-3 w-3 mr-1\" /> {errors.deadline}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Assignee */}\r\n            <div>\r\n              <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                <User className=\"h-4 w-4 text-blue-500 mr-2\" /> Assign To{\" \"}\r\n                <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <Popover open={searchOpen} onOpenChange={setSearchOpen}>\r\n                <PopoverTrigger asChild>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"w-full justify-between h-12 text-sm\"\r\n                  >\r\n                    {selectedAssignee ? (\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <Avatar className=\"h-8 w-8\">\r\n                          <AvatarFallback className=\"bg-teal-600 text-white text-xs\">\r\n                            {getInitials(selectedAssignee.memberName)}\r\n                          </AvatarFallback>\r\n                        </Avatar>\r\n                        <div className=\"text-left\">\r\n                          <div className=\"font-medium\">\r\n                            {selectedAssignee.memberName}\r\n                          </div>\r\n                          <div className=\"text-xs text-gray-500\">\r\n                            {selectedAssignee.role}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      \"Select team member...\"\r\n                    )}\r\n                    <User className=\"h-4 w-4 text-gray-500 ml-auto\" />\r\n                  </Button>\r\n                </PopoverTrigger>\r\n                <PopoverContent className=\"w-full p-0\" align=\"start\">\r\n                  <Command>\r\n                    <CommandInput\r\n                      placeholder=\"Search members...\"\r\n                      value={searchQuery}\r\n                      onValueChange={setSearchQuery}\r\n                    />\r\n                    <CommandEmpty>No members found</CommandEmpty>\r\n                    <CommandGroup className=\"max-h-64 overflow-auto\">\r\n                      {filteredMembers.map((m) => (\r\n                        <CommandItem\r\n                          key={m.memberId}\r\n                          onSelect={() => {\r\n                            setSelectedAssignee(m);\r\n                            setSearchOpen(false);\r\n                          }}\r\n                        >\r\n                          <Avatar className=\"h-8 w-8 mr-3\">\r\n                            <AvatarFallback className=\"text-xs bg-teal-600 text-white\">\r\n                              {getInitials(m.memberName)}\r\n                            </AvatarFallback>\r\n                          </Avatar>\r\n                          <div>\r\n                            <div className=\"font-medium\">{m.memberName}</div>\r\n                            <div className=\"text-xs text-gray-500\">\r\n                              {m.role}\r\n                            </div>\r\n                          </div>\r\n                        </CommandItem>\r\n                      ))}\r\n                    </CommandGroup>\r\n                  </Command>\r\n                </PopoverContent>\r\n              </Popover>\r\n\r\n              {selectedAssignee && (\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={() => setSelectedAssignee(null)}\r\n                  className=\"mt-2 text-red-600\"\r\n                >\r\n                  <X className=\"h-4 w-4 mr-1\" /> Remove assignee\r\n                </Button>\r\n              )}\r\n              {errors.assignedTo && (\r\n                <p className=\"text-red-500 text-xs mt-1 flex items-center\">\r\n                  <X className=\"h-3 w-3 mr-1\" /> {errors.assignedTo}\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div className=\"w-full\">\r\n              <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                <Info className=\"h-4 w-4 text-blue-500 mr-2\" /> Description{\" \"}\r\n                <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <Textarea\r\n                value={formData.description}\r\n                onChange={(e) =>\r\n                  setFormData((prev) => ({\r\n                    ...prev,\r\n                    description: e.target.value,\r\n                  }))\r\n                }\r\n                className=\"w-full h-40 sm:h-48 md:h-52 bg-white border border-gray-300 rounded-lg text-sm resize-vertical focus:ring-2 focus:ring-blue-200 focus:border-blue-500 p-3\"\r\n                placeholder=\"Enter detailed subtask description...\"\r\n              />\r\n              {errors.description && (\r\n                <p className=\"text-red-500 text-xs mt-1 flex items-center\">\r\n                  <X className=\"h-3 w-3 mr-1\" /> {errors.description}\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Server Error */}\r\n            {subTaskError && (\r\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\r\n                <p className=\"text-red-600 text-sm flex items-center\">\r\n                  <X className=\"h-4 w-4 mr-2\" /> {subTaskError}\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Buttons */}\r\n            <div className=\"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t border-gray-200 mt-6\">\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => setOpen(false)}>\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={!isSaveEnabled || subTaskLoading}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n              >\r\n                {subTaskLoading ? (\r\n                  <>\r\n                    <Loader className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                    Creating...\r\n                  </>\r\n                ) : (\r\n                  \"Create Subtask\"\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default CreateSubtaskModal;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2404, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/task/components/sub-task/EditSubTaskModal.jsx"],"sourcesContent":["\r\n\r\n\r\n\r\n// \"use client\";\r\n\r\n// import { useState, useEffect, useMemo, useCallback } from \"react\";\r\n// import { useDispatch, useSelector } from \"react-redux\";\r\n// import { updateSubTask } from \"@/modules/project-management/task/slices/subTaskSlice\";\r\n// import { Edit, User, Flag, Info, X, Loader, CalendarIcon } from \"lucide-react\";\r\n// import { toast } from \"sonner\";\r\n// import { Textarea } from \"@/components/ui/textarea\";\r\n// import { Button } from \"@/components/ui/button\";\r\n// import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\n// import { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\r\n// import { Calendar } from \"@/components/ui/calendar\";\r\n// import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogClose } from \"@/components/ui/dialog\";\r\n// import { Command, CommandEmpty, CommandGroup, CommandInput, CommandItem } from \"@/components/ui/command\";\r\n// import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n// import { format } from \"date-fns\";\r\n// import { cn } from \"@/lib/utils\";\r\n\r\n// const priorityConfig = {\r\n//   Low: { color: \"bg-emerald-100 text-emerald-800\", badge: \"Low\" },\r\n//   Medium: { color: \"bg-amber-100 text-amber-800\", badge: \"Medium\" },\r\n//   High: { color: \"bg-rose-100 text-rose-800\", badge: \"High\" },\r\n// };\r\n\r\n// const getInitials = (name) => {\r\n//   if (!name) return \"??\";\r\n//   const parts = name.trim().split(\" \").filter(Boolean);\r\n//   if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();\r\n//   return parts.map((p) => p[0]).join(\"\").toUpperCase().slice(0, 2);\r\n// };\r\n\r\n// const EditSubtaskModal = ({ open, setOpen, subtask, taskId, projectId, onSubtaskEdit }) => {\r\n//   const dispatch = useDispatch();\r\n  \r\n  \r\n//   const { currentTask } = useSelector((state) => state.task);\r\n//   const { loading: subTaskLoading, error: subTaskError } = useSelector((state) => state.subTask);\r\n\r\n//   const resolvedProjectId = projectId || currentTask?.projectId || subtask?.projectId || \"\";\r\n\r\n//   const assigneesList = useMemo(() => {\r\n//     if (!currentTask?.assignedTo) return [];\r\n//     return Array.isArray(currentTask.assignedTo) ? currentTask.assignedTo : [currentTask.assignedTo];\r\n//   }, [currentTask?.assignedTo]);\r\n\r\n//   const [formData, setFormData] = useState({\r\n//     title: \"\",\r\n//     description: \"\",\r\n//     priority: \"Medium\",\r\n//     projectId: resolvedProjectId,\r\n//   });\r\n\r\n//   const [selectedAssignee, setSelectedAssignee] = useState(null); // { memberId, memberName, role }\r\n//   const [selectedDateTime, setSelectedDateTime] = useState(null);\r\n//   const [errors, setErrors] = useState({});\r\n//   const [searchOpen, setSearchOpen] = useState(false);\r\n//   const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n//   // Initialize form when modal opens\r\n//   useEffect(() => {\r\n//     if (open && subtask) {\r\n//       setFormData({\r\n//         title: subtask.title || \"\",\r\n//         description: subtask.description || \"\",\r\n//         priority: subtask.priority || \"Medium\",\r\n//         projectId: resolvedProjectId,\r\n//       });\r\n\r\n//       // Safe assignee handling (supports both object and string)\r\n//       let assigneeObj = {};\r\n//       if (subtask.assignedTo && typeof subtask.assignedTo === \"object\") {\r\n//         assigneeObj = subtask.assignedTo;\r\n//       } else {\r\n//         assigneeObj = {\r\n//           memberId: subtask.assignedTo || subtask.memberId,\r\n//           memberName: subtask.assignedToName || subtask.memberName,\r\n//           role: subtask.memberRole || \"Member\",\r\n//         };\r\n//       }\r\n\r\n//       setSelectedAssignee({\r\n//         memberId: assigneeObj.memberId || assigneeObj._id || subtask.memberId,\r\n//         memberName: assigneeObj.memberName || subtask.assignedToName || subtask.memberName || \"Unknown\",\r\n//         role: assigneeObj.role || subtask.memberRole || \"Member\",\r\n//       });\r\n\r\n//       // Deadline\r\n//       if (subtask.deadline) {\r\n//         setSelectedDateTime(new Date(subtask.deadline));\r\n//       } else {\r\n//         setSelectedDateTime(null);\r\n//       }\r\n\r\n//       setErrors({});\r\n//       setSearchQuery(\"\");\r\n//     }\r\n//   }, [open, subtask, resolvedProjectId]);\r\n// console.log(currentTask);\r\n\r\n//   const filteredMembers = useMemo(() => {\r\n//     const q = searchQuery.toLowerCase();\r\n//     return assigneesList\r\n//       .filter((m) => m.memberName?.toLowerCase().includes(q))\r\n//       .map((m) => ({\r\n//         memberId: m.memberId,\r\n//         memberName: m.memberName,\r\n//         role: m.role || \"Member\",\r\n//       }));\r\n//   }, [assigneesList, searchQuery]);\r\n\r\n//   const handleUpdate = useCallback(\r\n//     async (e) => {\r\n//       e.preventDefault();\r\n\r\n//       if (!formData.title.trim() || !formData.description.trim() || !selectedDateTime || !selectedAssignee?.memberId) {\r\n//         toast.error(\"Please fill all required fields\");\r\n//         return;\r\n//       }\r\n\r\n//       const deadline = selectedDateTime.toISOString().slice(0, 16) + \":00\";\r\n\r\n//       const subTaskData = {\r\n//         ...formData,\r\n//         deadline,\r\n//         assignedTo: {\r\n//           memberId: selectedAssignee.memberId,\r\n//           memberName: selectedAssignee.memberName,\r\n//           role: selectedAssignee.role,\r\n//         },\r\n//       };\r\n\r\n//       try {\r\n//         await dispatch(\r\n//           updateSubTask({\r\n//             taskId,\r\n//             subTaskId: subtask.subtask_id || subtask.id,\r\n//             subTaskData,\r\n//           })\r\n//         ).unwrap();\r\n\r\n//         toast.success(\"Subtask updated successfully\");\r\n//         onSubtaskEdit?.();\r\n//         setOpen(false);\r\n//       } catch (err) {\r\n//         toast.error(subTaskError || \"Failed to update subtask\");\r\n//       }\r\n//     },\r\n//     [formData, selectedDateTime, selectedAssignee, taskId, subtask, dispatch, subTaskError, onSubtaskEdit, setOpen]\r\n//   );\r\n\r\n//   const displayDateTime = selectedDateTime\r\n//     ? format(selectedDateTime, \"MMM dd, yyyy 'at' HH:mm\")\r\n//     : \"Select date & time\";\r\n\r\n//   const isSaveEnabled = formData.title.trim() && formData.description.trim() && selectedDateTime && selectedAssignee?.memberId;\r\n\r\n//   if (!open) return null;\r\n\r\n//   return (\r\n//     <Dialog open={open} onOpenChange={setOpen}>\r\n//       <DialogContent className=\"w-full max-w-full h-[100vh] max-h-[100vh] sm:max-w-6xl sm:max-h-[85vh] bg-white shadow-lg border border-gray-200 rounded-lg text-black p-2\">\r\n//         <DialogHeader className=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-2 border-b border-gray-200 sticky top-0 z-10\">\r\n//           <div className=\"flex justify-between items-center\">\r\n//             <DialogTitle className=\"text-base sm:text-lg font-bold text-gray-800 flex items-center\">\r\n//               <Edit className=\"mr-2 h-4 w-4 text-blue-500\" />\r\n//               Edit Subtask\r\n//             </DialogTitle>\r\n//             <DialogClose asChild>\r\n//               <Button variant=\"ghost\" size=\"icon\" className=\"text-gray-500 hover:bg-gray-100 rounded-full h-7 w-7\">\r\n//                 <X className=\"h-3 w-3\" />\r\n//               </Button>\r\n//             </DialogClose>\r\n//           </div>\r\n//         </DialogHeader>\r\n\r\n//         <div className=\"p-4 sm:p-6 overflow-y-auto max-h-[calc(85vh-60px)]\">\r\n//           <form onSubmit={handleUpdate} className=\"space-y-4\">\r\n//             {/* Title */}\r\n//             <div className=\"w-full\">\r\n//               <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n//                 <Edit className=\"h-4 w-4 text-blue-500 mr-2\" /> Subtask Title <span className=\"text-red-500 ml-1\">*</span>\r\n//               </label>\r\n//               <Textarea\r\n//                 value={formData.title}\r\n//                 onChange={(e) => setFormData((prev) => ({ ...prev, title: e.target.value }))}\r\n//                 className=\"w-full h-24 sm:h-28 md:h-32 bg-white border border-gray-300 rounded-lg text-sm resize-vertical focus:ring-2 focus:ring-blue-200 focus:border-blue-500 p-3\"\r\n//                 placeholder=\"Enter subtask title...\"\r\n//               />\r\n//               {errors.title && <p className=\"text-red-500 text-xs mt-1 flex items-center\"><X className=\"h-3 w-3 mr-1\" /> {errors.title}</p>}\r\n//             </div>\r\n\r\n//             {/* Priority & Deadline (Single Picker) */}\r\n//             <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n//               <div>\r\n//                 <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n//                   <Flag className=\"h-4 w-4 text-blue-500 mr-2\" /> Priority\r\n//                 </label>\r\n//                 <Select value={formData.priority} onValueChange={(v) => setFormData((prev) => ({ ...prev, priority: v }))}>\r\n//                   <SelectTrigger className=\"w-full h-10\">\r\n//                     <SelectValue>\r\n//                       <span className={cn(\"px-2 py-1 rounded-full text-xs font-medium\", priorityConfig[formData.priority]?.color)}>\r\n//                         {priorityConfig[formData.priority]?.badge}\r\n//                       </span>\r\n//                     </SelectValue>\r\n//                   </SelectTrigger>\r\n//                   <SelectContent>\r\n//                     {Object.entries(priorityConfig).map(([k, c]) => (\r\n//                       <SelectItem key={k} value={k}>\r\n//                         <span className={cn(\"px-2 py-1 rounded-full text-xs font-medium\", c.color)}>{c.badge}</span>\r\n//                       </SelectItem>\r\n//                     ))}\r\n//                   </SelectContent>\r\n//                 </Select>\r\n//               </div>\r\n\r\n//               <div>\r\n//                 <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n//                   <CalendarIcon className=\"h-4 w-4 text-blue-500 mr-2\" /> Deadline <span className=\"text-red-500 ml-1\">*</span>\r\n//                 </label>\r\n//                 <Popover>\r\n//                   <PopoverTrigger asChild>\r\n//                     <Button variant=\"outline\" className={cn(\"w-full justify-between h-10 text-sm\", !selectedDateTime && \"text-gray-500\")}>\r\n//                       {displayDateTime}\r\n//                     </Button>\r\n//                   </PopoverTrigger>\r\n//                   <PopoverContent className=\"w-auto p-0 bg-white border border-gray-200 rounded-lg shadow-lg\">\r\n//                     <Calendar mode=\"single\" selected={selectedDateTime} onSelect={setSelectedDateTime} initialFocus className=\"rounded-lg\" />\r\n//                     <div className=\"p-3 border-t flex items-center gap-2\">\r\n//                       <input\r\n//                         type=\"time\"\r\n//                         value={selectedDateTime ? format(selectedDateTime, \"HH:mm\") : \"\"}\r\n//                         onChange={(e) => {\r\n//                           if (selectedDateTime) {\r\n//                             const [h, m] = e.target.value.split(\":\");\r\n//                             const newDt = new Date(selectedDateTime);\r\n//                             newDt.setHours(parseInt(h), parseInt(m));\r\n//                             setSelectedDateTime(newDt);\r\n//                           }\r\n//                         }}\r\n//                         className=\"h-10 border rounded px-3 text-sm w-full\"\r\n//                       />\r\n//                     </div>\r\n//                   </PopoverContent>\r\n//                 </Popover>\r\n//                 {errors.deadline && <p className=\"text-red-500 text-xs mt-1 flex items-center\"><X className=\"h-3 w-3 mr-1\" /> {errors.deadline}</p>}\r\n//               </div>\r\n//             </div>\r\n\r\n//             {/* Assignee */}\r\n//             <div>\r\n//               <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n//                 <User className=\"h-4 w-4 text-blue-500 mr-2\" /> Assign To <span className=\"text-red-500 ml-1\">*</span>\r\n//               </label>\r\n//               <Popover open={searchOpen} onOpenChange={setSearchOpen}>\r\n//                 <PopoverTrigger asChild>\r\n//                   <Button variant=\"outline\" className=\"w-full justify-between h-12 text-sm\">\r\n//                     {selectedAssignee ? (\r\n//                       <div className=\"flex items-center gap-3\">\r\n//                         <Avatar className=\"h-8 w-8\">\r\n//                           <AvatarFallback className=\"bg-teal-600 text-white text-xs\">\r\n//                             {getInitials(selectedAssignee.memberName)}\r\n//                           </AvatarFallback>\r\n//                         </Avatar>\r\n//                         <div className=\"text-left\">\r\n//                           <div className=\"font-medium\">{selectedAssignee.memberName}</div>\r\n//                           <div className=\"text-xs text-gray-500\">{selectedAssignee.role} </div>\r\n//                         </div>\r\n//                       </div>\r\n//                     ) : \"Select team member...\"}\r\n//                     <User className=\"h-4 w-4 text-gray-500 ml-auto\" />\r\n//                   </Button>\r\n//                 </PopoverTrigger>\r\n//                 <PopoverContent className=\"w-full p-0\" align=\"start\">\r\n//                   <Command>\r\n//                     <CommandInput placeholder=\"Search members...\" value={searchQuery} onValueChange={setSearchQuery} />\r\n//                     <CommandEmpty>No members found</CommandEmpty>\r\n//                     <CommandGroup className=\"max-h-64 overflow-auto\">\r\n//                       {filteredMembers.map((m) => (\r\n//                         <CommandItem key={m.memberId} onSelect={() => { setSelectedAssignee(m); setSearchOpen(false); }}>\r\n//                           <Avatar className=\"h-8 w-8 mr-3\">\r\n//                             <AvatarFallback className=\"text-xs bg-teal-600 text-white\">\r\n//                               {getInitials(m.memberName)}\r\n//                             </AvatarFallback>\r\n//                           </Avatar>\r\n//                           <div>\r\n//                             <div className=\"font-medium\">{m.memberName}</div>\r\n//                             <div className=\"text-xs text-gray-500\">{m.role} </div>\r\n//                           </div>\r\n//                         </CommandItem>\r\n//                       ))}\r\n//                     </CommandGroup>\r\n//                   </Command>\r\n//                 </PopoverContent>\r\n//               </Popover>\r\n//               {selectedAssignee && (\r\n//                 <Button type=\"button\" variant=\"ghost\" size=\"sm\" onClick={() => setSelectedAssignee(null)} className=\"mt-2 text-red-600\">\r\n//                   <X className=\"h-4 w-4 mr-1\" /> Remove assignee\r\n//                 </Button>\r\n//               )}\r\n//               {errors.assignedTo && <p className=\"text-red-500 text-xs mt-1 flex items-center\"><X className=\"h-3 w-3 mr-1\" /> {errors.assignedTo}</p>}\r\n//             </div>\r\n\r\n//             {/* Description */}\r\n//             <div className=\"w-full\">\r\n//               <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n//                 <Info className=\"h-4 w-4 text-blue-500 mr-2\" /> Description <span className=\"text-red-500 ml-1\">*</span>\r\n//               </label>\r\n//               <Textarea\r\n//                 value={formData.description}\r\n//                 onChange={(e) => setFormData((prev) => ({ ...prev, description: e.target.value }))}\r\n//                 className=\"w-full h-40 sm:h-48 md:h-52 bg-white border border-gray-300 rounded-lg text-sm resize-vertical focus:ring-2 focus:ring-blue-200 focus:border-blue-500 p-3\"\r\n//                 placeholder=\"Enter detailed subtask description...\"\r\n//               />\r\n//               {errors.description && <p className=\"text-red-500 text-xs mt-1 flex items-center\"><X className=\"h-3 w-3 mr-1\" /> {errors.description}</p>}\r\n//             </div>\r\n\r\n//             {subTaskError && (\r\n//               <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\r\n//                 <p className=\"text-red-600 text-sm flex items-center\">\r\n//                   <X className=\"h-4 w-4 mr-2\" /> {subTaskError}\r\n//                 </p>\r\n//               </div>\r\n//             )}\r\n\r\n//             <div className=\"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t border-gray-200 mt-6\">\r\n//               <Button type=\"button\" variant=\"outline\" onClick={() => setOpen(false)}>\r\n//                 Cancel\r\n//               </Button>\r\n//               <Button type=\"submit\" disabled={!isSaveEnabled || subTaskLoading} className=\"bg-blue-600 hover:bg-blue-700 text-white\">\r\n//                 {subTaskLoading ? (\r\n//                   <>\r\n//                     <Loader className=\"h-4 w-4 animate-spin mr-2\" />\r\n//                     Updating...\r\n//                   </>\r\n//                 ) : (\r\n//                   \"Update Subtask\"\r\n//                 )}\r\n//               </Button>\r\n//             </div>\r\n//           </form>\r\n//         </div>\r\n//       </DialogContent>\r\n//     </Dialog>\r\n//   );\r\n// };\r\n\r\n// export default EditSubtaskModal;\r\n\"use client\";\r\n\r\nimport { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateSubTask } from \"@/modules/project-management/task/slices/subTaskSlice\";\r\nimport { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\nimport {\r\n  Edit,\r\n  User,\r\n  Flag,\r\n  Info,\r\n  X,\r\n  Loader,\r\n  CalendarIcon,\r\n} from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from \"@/components/ui/popover\";\r\nimport { Calendar } from \"@/components/ui/calendar\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogClose,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  Command,\r\n  CommandEmpty,\r\n  CommandGroup,\r\n  CommandInput,\r\n  CommandItem,\r\n} from \"@/components/ui/command\";\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport { format } from \"date-fns\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst priorityConfig = {\r\n  Low: { color: \"bg-emerald-100 text-emerald-800\", badge: \"Low\" },\r\n  Medium: { color: \"bg-amber-100 text-amber-800\", badge: \"Medium\" },\r\n  High: { color: \"bg-rose-100 text-rose-800\", badge: \"High\" },\r\n};\r\n\r\nconst getInitials = (name) => {\r\n  if (!name) return \"??\";\r\n  const parts = name.trim().split(\" \").filter(Boolean);\r\n  if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();\r\n  return parts.map((p) => p[0]).join(\"\").toUpperCase().slice(0, 2);\r\n};\r\n\r\nconst EditSubtaskModal = ({ open, setOpen, subtask, taskId, projectId, onSubtaskEdit }) => {\r\n  const dispatch = useDispatch();\r\n  const { currentTask } = useSelector((state) => state.task);\r\n  const { currentUser } = useCurrentUser(); // For actionedBy\r\n  const { loading: subTaskLoading, error: subTaskError } = useSelector((state) => state.subTask);\r\n\r\n  const resolvedProjectId = projectId || currentTask?.projectId || subtask?.projectId || \"\";\r\n\r\n  const assigneesList = useMemo(() => {\r\n    if (!currentTask?.assignedTo) return [];\r\n    return Array.isArray(currentTask.assignedTo)\r\n      ? currentTask.assignedTo\r\n      : [currentTask.assignedTo];\r\n  }, [currentTask?.assignedTo]);\r\n\r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    priority: \"Medium\",\r\n    projectId: resolvedProjectId,\r\n  });\r\n\r\n  const [selectedAssignee, setSelectedAssignee] = useState(null);\r\n  const [selectedDateTime, setSelectedDateTime] = useState(null);\r\n  const [errors, setErrors] = useState({});\r\n  const [searchOpen, setSearchOpen] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  // Initialize form when modal opens\r\n  useEffect(() => {\r\n    if (!open || !subtask) return;\r\n\r\n    setFormData({\r\n      title: subtask.title || \"\",\r\n      description: subtask.description || \"\",\r\n      priority: subtask.priority || \"Medium\",\r\n      projectId: resolvedProjectId,\r\n    });\r\n\r\n    // Safely extract current assignee â€” supports all possible formats\r\n    const assignedTo = subtask.assignedTo || {};\r\n    const memberId = assignedTo.memberId || assignedTo._id || subtask.memberId;\r\n    const memberName = assignedTo.memberName || assignedTo.name || subtask.assignedToName || subtask.memberName || \"Unknown User\";\r\n    const role = assignedTo.role || subtask.memberRole || \"Member\";\r\n\r\n    setSelectedAssignee(\r\n      memberId\r\n        ? { memberId, memberName, role }\r\n        : null\r\n    );\r\n\r\n    // Deadline\r\n    if (subtask.deadline) {\r\n      setSelectedDateTime(new Date(subtask.deadline));\r\n    } else {\r\n      setSelectedDateTime(null);\r\n    }\r\n\r\n    setErrors({});\r\n    setSearchQuery(\"\");\r\n  }, [open, subtask, resolvedProjectId]);\r\n\r\n  const filteredMembers = useMemo(() => {\r\n    const q = searchQuery.toLowerCase();\r\n    return assigneesList\r\n      .filter((m) => m?.memberName?.toLowerCase().includes(q))\r\n      .map((m) => ({\r\n        memberId: m.memberId || m._id || m.id,\r\n        memberName: m.memberName || m.name || \"Unknown\",\r\n        role: m.role || \"Member\",\r\n      }));\r\n  }, [assigneesList, searchQuery]);\r\n\r\n  const handleUpdate = useCallback(\r\n    async (e) => {\r\n      e.preventDefault();\r\n\r\n      if (!formData.title.trim()) return toast.error(\"Title is required\");\r\n      if (!formData.description.trim()) return toast.error(\"Description is required\");\r\n      if (!selectedDateTime) return toast.error(\"Deadline is required\");\r\n      if (!selectedAssignee?.memberId) return toast.error(\"Please assign a member\");\r\n\r\n      const subTaskData = {\r\n        title: formData.title.trim(),\r\n        description: formData.description.trim(),\r\n        priority: formData.priority,\r\n        deadline: selectedDateTime.toISOString(),\r\n        assignedTo: {\r\n          memberId: selectedAssignee.memberId,\r\n          memberName: selectedAssignee.memberName,\r\n          role: selectedAssignee.role,\r\n        },\r\n        // Send actionedBy so activity log shows who edited\r\n        actionedBy: {\r\n          note: \"Updated subtask details\",\r\n          performedBy: currentUser?.name || currentUser?.email || \"Unknown User\",\r\n          timestamp: new Date().toISOString(),\r\n        },\r\n      };\r\n\r\n      try {\r\n        await dispatch(\r\n          updateSubTask({\r\n            taskId,\r\n            subTaskId: subtask.subtask_id || subtask._id || subtask.id,\r\n            subTaskData,\r\n          })\r\n        ).unwrap();\r\n\r\n        toast.success(\"Subtask updated successfully\");\r\n        onSubtaskEdit?.();\r\n        setOpen(false);\r\n      } catch (err) {\r\n        toast.error(subTaskError || \"Failed to update subtask\");\r\n        console.error(\"Update failed:\", err);\r\n      }\r\n    },\r\n    [\r\n      formData,\r\n      selectedDateTime,\r\n      selectedAssignee,\r\n      taskId,\r\n      subtask,\r\n      currentUser,\r\n      dispatch,\r\n      subTaskError,\r\n      onSubtaskEdit,\r\n      setOpen,\r\n    ]\r\n  );\r\n\r\n  const displayDateTime = selectedDateTime\r\n    ? format(selectedDateTime, \"MMM dd, yyyy 'at' HH:mm\")\r\n    : \"Select date & time\";\r\n\r\n  const isSaveEnabled =\r\n    formData.title.trim() &&\r\n    formData.description.trim() &&\r\n    selectedDateTime &&\r\n    selectedAssignee?.memberId;\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={setOpen}>\r\n      <DialogContent className=\"w-full max-w-full h-[100vh] max-h-[100vh] sm:max-w-6xl sm:max-h-[85vh] bg-white shadow-lg border border-gray-200 rounded-lg text-black p-2\">\r\n        <DialogHeader className=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-2 border-b border-gray-200 sticky top-0 z-10\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <DialogTitle className=\"text-base sm:text-lg font-bold text-gray-800 flex items-center\">\r\n              <Edit className=\"mr-2 h-4 w-4 text-blue-500\" />\r\n              Edit Subtask\r\n            </DialogTitle>\r\n            <DialogClose asChild>\r\n              <Button variant=\"ghost\" size=\"icon\" className=\"text-gray-500 hover:bg-gray-100 rounded-full h-7 w-7\">\r\n                <X className=\"h-3 w-3\" />\r\n              </Button>\r\n            </DialogClose>\r\n          </div>\r\n        </DialogHeader>\r\n\r\n        <div className=\"p-4 sm:p-6 overflow-y-auto max-h-[calc(85vh-60px)]\">\r\n          <form onSubmit={handleUpdate} className=\"space-y-4\">\r\n            {/* Title */}\r\n            <div className=\"w-full\">\r\n              <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                <Edit className=\"h-4 w-4 text-blue-500 mr-2\" /> Subtask Title <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <Textarea\r\n                value={formData.title}\r\n                onChange={(e) => setFormData((prev) => ({ ...prev, title: e.target.value }))}\r\n                className=\"w-full h-24 sm:h-28 md:h-32 bg-white border border-gray-300 rounded-lg text-sm resize-vertical focus:ring-2 focus:ring-blue-200 focus:border-blue-500 p-3\"\r\n                placeholder=\"Enter subtask title...\"\r\n              />\r\n            </div>\r\n\r\n            {/* Priority & Deadline */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                  <Flag className=\"h-4 w-4 text-blue-500 mr-2\" /> Priority\r\n                </label>\r\n                <Select value={formData.priority} onValueChange={(v) => setFormData((prev) => ({ ...prev, priority: v }))}>\r\n                  <SelectTrigger className=\"w-full h-10\">\r\n                    <SelectValue>\r\n                      <span className={cn(\"px-2 py-1 rounded-full text-xs font-medium\", priorityConfig[formData.priority]?.color)}>\r\n                        {priorityConfig[formData.priority]?.badge}\r\n                      </span>\r\n                    </SelectValue>\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {Object.entries(priorityConfig).map(([k, c]) => (\r\n                      <SelectItem key={k} value={k}>\r\n                        <span className={cn(\"px-2 py-1 rounded-full text-xs font-medium\", c.color)}>{c.badge}</span>\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                  <CalendarIcon className=\"h-4 w-4 text-blue-500 mr-2\" /> Deadline <span className=\"text-red-500 ml-1\">*</span>\r\n                </label>\r\n                <Popover>\r\n                  <PopoverTrigger asChild>\r\n                    <Button variant=\"outline\" className={cn(\"w-full justify-between h-10 text-sm\", !selectedDateTime && \"text-gray-500\")}>\r\n                      {displayDateTime}\r\n                    </Button>\r\n                  </PopoverTrigger>\r\n                  <PopoverContent className=\"w-auto p-0 bg-white border border-gray-200 rounded-lg shadow-lg\">\r\n                    <Calendar mode=\"single\" selected={selectedDateTime} onSelect={setSelectedDateTime} initialFocus className=\"rounded-lg\" />\r\n                    <div className=\"p-3 border-t flex items-center gap-2\">\r\n                      <input\r\n                        type=\"time\"\r\n                        value={selectedDateTime ? format(selectedDateTime, \"HH:mm\") : \"\"}\r\n                        onChange={(e) => {\r\n                          if (selectedDateTime) {\r\n                            const [h, m] = e.target.value.split(\":\");\r\n                            const newDt = new Date(selectedDateTime);\r\n                            newDt.setHours(parseInt(h), parseInt(m));\r\n                            setSelectedDateTime(newDt);\r\n                          }\r\n                        }}\r\n                        className=\"h-10 border rounded px-3 text-sm w-full\"\r\n                      />\r\n                    </div>\r\n                  </PopoverContent>\r\n                </Popover>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Assignee */}\r\n            <div>\r\n              <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                <User className=\"h-4 w-4 text-blue-500 mr-2\" /> Assign To <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <Popover open={searchOpen} onOpenChange={setSearchOpen}>\r\n                <PopoverTrigger asChild>\r\n                  <Button variant=\"outline\" className=\"w-full justify-between h-12 text-sm\">\r\n                    {selectedAssignee ? (\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <Avatar className=\"h-8 w-8\">\r\n                          <AvatarFallback className=\"bg-teal-600 text-white text-xs\">\r\n                            {getInitials(selectedAssignee.memberName)}\r\n                          </AvatarFallback>\r\n                        </Avatar>\r\n                        <div className=\"text-left\">\r\n                          <div className=\"font-medium\">{selectedAssignee.memberName}</div>\r\n                          <div className=\"text-xs text-gray-500\">{selectedAssignee.role}</div>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      \"Select team member...\"\r\n                    )}\r\n                    <User className=\"h-4 w-4 text-gray-500 ml-auto\" />\r\n                  </Button>\r\n                </PopoverTrigger>\r\n                <PopoverContent className=\"w-full p-0\" align=\"start\">\r\n                  <Command>\r\n                    <CommandInput placeholder=\"Search members...\" value={searchQuery} onValueChange={setSearchQuery} />\r\n                    <CommandEmpty>No members found</CommandEmpty>\r\n                    <CommandGroup className=\"max-h-64 overflow-auto\">\r\n                      {filteredMembers.map((m) => (\r\n                        <CommandItem\r\n                          key={m.memberId}\r\n                          onSelect={() => {\r\n                            setSelectedAssignee(m);\r\n                            setSearchOpen(false);\r\n                          }}\r\n                        >\r\n                          <Avatar className=\"h-8 w-8 mr-3\">\r\n                            <AvatarFallback className=\"text-xs bg-teal-600 text-white\">\r\n                              {getInitials(m.memberName)}\r\n                            </AvatarFallback>\r\n                          </Avatar>\r\n                          <div>\r\n                            <div className=\"font-medium\">{m.memberName}</div>\r\n                            <div className=\"text-xs text-gray-500\">{m.role}</div>\r\n                          </div>\r\n                        </CommandItem>\r\n                      ))}\r\n                    </CommandGroup>\r\n                  </Command>\r\n                </PopoverContent>\r\n              </Popover>\r\n\r\n              {selectedAssignee && (\r\n                <Button type=\"button\" variant=\"ghost\" size=\"sm\" onClick={() => setSelectedAssignee(null)} className=\"mt-2 text-red-600\">\r\n                  <X className=\"h-4 w-4 mr-1\" /> Remove assignee\r\n                </Button>\r\n              )}\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div className=\"w-full\">\r\n              <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                <Info className=\"h-4 w-4 text-blue-500 mr-2\" /> Description <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <Textarea\r\n                value={formData.description}\r\n                onChange={(e) => setFormData((prev) => ({ ...prev, description: e.target.value }))}\r\n                className=\"w-full h-40 sm:h-48 md:h-52 bg-white border border-gray-300 rounded-lg text-sm resize-vertical focus:ring-2 focus:ring-blue-200 focus:border-blue-500 p-3\"\r\n                placeholder=\"Enter detailed subtask description...\"\r\n              />\r\n            </div>\r\n\r\n            {subTaskError && (\r\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\r\n                <p className=\"text-red-600 text-sm flex items-center\">\r\n                  <X className=\"h-4 w-4 mr-2\" /> {subTaskError}\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t border-gray-200 mt-6\">\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => setOpen(false)}>\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={!isSaveEnabled || subTaskLoading}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n              >\r\n                {subTaskLoading ? (\r\n                  <>\r\n                    <Loader className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                    Updating...\r\n                  </>\r\n                ) : (\r\n                  \"Update Subtask\"\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default EditSubtaskModal;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3574, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/task/components/sub-task/DeleteSubTaskModal.jsx"],"sourcesContent":["\r\n\r\n\r\n\r\n\r\n\r\n'use client';\r\n\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogClose } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { AlertTriangle } from 'lucide-react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteSubTask } from '@/modules/project-management/task/slices/subTaskSlice';\r\nimport { toast } from 'sonner';\r\n\r\nconst DeleteSubtaskModal = ({onSubtaskDelete, open, setOpen, subtask, taskId }) => {\r\n  const dispatch = useDispatch();\r\n  const { loading: subTaskLoading, error: subTaskError } = useSelector((state) => state.subTask);\r\n\r\n  const confirmDelete = async () => {\r\n    try {\r\n      \r\n      await dispatch(deleteSubTask({ taskId, subtaskId: subtask?.subtask_id }));\r\n      toast.success('Subtask deleted successfully');\r\n      setOpen(false);\r\n      onSubtaskDelete()\r\n    } catch (err) {\r\n      toast.error(subTaskError || 'Failed to delete subtask');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={setOpen}>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center\">\r\n            <AlertTriangle className=\"mr-2 h-4 w-4 sm:h-5 sm:w-5 text-red-500\" />\r\n            Delete Subtask\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n        <p className=\"text-xs sm:text-sm\">Are you sure you want to delete?</p>\r\n        {subTaskError && <p className=\"text-red-500 text-xs sm:text-sm\">{subTaskError}</p>}\r\n        <div className=\"flex justify-end gap-2 mt-3\">\r\n          <DialogClose asChild>\r\n            <Button variant=\"outline\" className=\"text-xs sm:text-sm h-8 sm:h-9\">\r\n              Cancel\r\n            </Button>\r\n          </DialogClose>\r\n          <Button\r\n            variant=\"destructive\"\r\n            onClick={confirmDelete}\r\n            disabled={subTaskLoading}\r\n            className=\"bg-red-600 hover:bg-red-700 text-xs sm:text-sm h-8 sm:h-9\"\r\n          >\r\n            {subTaskLoading ? 'Deleting...' : 'Delete'}\r\n          </Button>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default DeleteSubtaskModal;\r\n"],"names":[],"mappings":";;;;AAQA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASA,MAAM,qBAAqB,CAAC,EAAC,eAAe,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE;IAC5E,MAAM,WAAW,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,SAAS,cAAc,EAAE,OAAO,YAAY,EAAE,GAAG,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD,EAAE,CAAC,QAAU,MAAM,OAAO;IAE7F,MAAM,gBAAgB;QACpB,IAAI;YAEF,MAAM,SAAS,CAAA,GAAA,yKAAA,CAAA,gBAAa,AAAD,EAAE;gBAAE;gBAAQ,WAAW,SAAS;YAAW;YACtE,wIAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YACd,QAAQ;YACR;QACF,EAAE,OAAO,KAAK;YACZ,wIAAA,CAAA,QAAK,CAAC,KAAK,CAAC,gBAAgB;QAC9B;IACF;IAEA,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,kIAAA,CAAA,gBAAa;;8BACZ,8OAAC,kIAAA,CAAA,eAAY;8BACX,cAAA,8OAAC,kIAAA,CAAA,cAAW;wBAAC,WAAU;;0CACrB,8OAAC,wNAAA,CAAA,gBAAa;gCAAC,WAAU;;;;;;4BAA4C;;;;;;;;;;;;8BAIzE,8OAAC;oBAAE,WAAU;8BAAqB;;;;;;gBACjC,8BAAgB,8OAAC;oBAAE,WAAU;8BAAmC;;;;;;8BACjE,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,kIAAA,CAAA,cAAW;4BAAC,OAAO;sCAClB,cAAA,8OAAC,kIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAU,WAAU;0CAAgC;;;;;;;;;;;sCAItE,8OAAC,kIAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,SAAS;4BACT,UAAU;4BACV,WAAU;sCAET,iBAAiB,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;AAM9C;uCAEe","debugId":null}},
    {"offset": {"line": 3707, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/task/components/sub-task/SubTaskList.jsx"],"sourcesContent":["\r\n\r\n\r\n// \"use client\";\r\n\r\n// import { useState, useEffect } from \"react\";\r\n// import { Button } from \"@/components/ui/button\";\r\n// import { Badge } from \"@/components/ui/badge\";\r\n// import { Progress } from \"@/components/ui/progress\";\r\n// import { useDispatch, useSelector } from \"react-redux\";\r\n// import {\r\n//   Tooltip,\r\n//   TooltipContent,\r\n//   TooltipTrigger,\r\n// } from \"@/components/ui/tooltip\";\r\n// import {\r\n//   CheckCircle2,\r\n//   Edit,\r\n//   Eye,\r\n//   Plus,\r\n//   Trash2,\r\n//   ChevronLeft,\r\n//   ChevronRight,\r\n//   Lock,\r\n//   ListTodo,\r\n// } from \"lucide-react\";\r\n// import CreateSubtaskModal from \"@/modules/project-management/task/components/sub-task/CreateSubTaskModal\";\r\n// import EditSubtaskModal from \"@/modules/project-management/task/components/sub-task/EditSubTaskModal\";\r\n// import DeleteSubtaskModal from \"@/modules/project-management/task/components/sub-task/DeleteSubTaskModal\";\r\n// import { fetchSubTasksByTaskId } from \"@/modules/project-management/task/slices/subTaskSlice\";\r\n// import { useRouter } from \"next/navigation\";\r\n// import { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\n// import { fetchProjectById } from \"@/modules/project-management/project/slices/projectSlice\";\r\n// import { cn } from \"@/lib/utils\";\r\n\r\n// const SubTaskList = ({ task, taskId, projectId, isTaskClosed }) => {\r\n//     const { project, status, successMessage } = useSelector(\r\n//     (state) => state.project\r\n//   );\r\n\r\n\r\n//     const { currentUser, isTeamLead } = useCurrentUser(project?.data?.teamLeadId);\r\n//   const router = useRouter();\r\n//   const dispatch = useDispatch();\r\n//   const { subtasks, loading, error } = useSelector((state) => state.subTask);\r\n\r\n//   // Pagination state\r\n//   const [currentPage, setCurrentPage] = useState(1);\r\n//   const subtasksPerPage = 5;\r\n//   const safeSubtasks = Array.isArray(subtasks) ? subtasks : [];\r\n//   const totalPages = Math.ceil(safeSubtasks.length / subtasksPerPage);\r\n//   const indexOfLastSubtask = currentPage * subtasksPerPage;\r\n//   const indexOfFirstSubtask = indexOfLastSubtask - subtasksPerPage;\r\n//   const currentSubtasks = safeSubtasks.slice(\r\n//     indexOfFirstSubtask,\r\n//     indexOfLastSubtask\r\n//   );\r\n\r\n//   // Fetch subtasks on mount and when taskId changes\r\n//   useEffect(() => {\r\n//     if (taskId) {\r\n//       dispatch(fetchSubTasksByTaskId(taskId));\r\n     \r\n      \r\n//     }\r\n       \r\n    \r\n//   }, [dispatch, subtasks?.length, taskId]);\r\n//   useEffect(() => {\r\n  \r\n//           dispatch(fetchProjectById(projectId));\r\n   \r\n    \r\n//   }, [dispatch]);\r\n\r\n//   // Modal states\r\n//   const [openEdit, setOpenEdit] = useState(false);\r\n//   const [openAdd, setOpenAdd] = useState(false);\r\n//   const [openDelete, setOpenDelete] = useState(false);\r\n//   const [selectedSubtask, setSelectedSubtask] = useState(null);\r\n\r\n//   // Calculate progress\r\n//   const completedSubtasks = safeSubtasks.filter(\r\n//     (st) => st.status === \"Completed\"\r\n//   ).length;\r\n//   const progress =\r\n//     safeSubtasks.length > 0\r\n//       ? (completedSubtasks / safeSubtasks.length) * 100\r\n//       : 0;\r\n\r\n//   // Handlers\r\n//   // const handleView = (subtask) => {\r\n//   //   router.push(`/task/${taskId}/${subtask.subtask_id}`);\r\n//   // };\r\n//   const handleView = (subtask) => {\r\n//     router.push(`/workspace/task/${taskId}/${subtask.subtask_id}`);\r\n//   };\r\n \r\n\r\n//   const handleEdit = (subtask) => {\r\n//     if (isTaskClosed) return;\r\n//     setSelectedSubtask(subtask);\r\n//     setOpenEdit(true);\r\n//   };\r\n\r\n//   const handleDelete = (subtask) => {\r\n//     if (isTaskClosed) return;\r\n//     setSelectedSubtask(subtask);\r\n//     setOpenDelete(true);\r\n//     // Adjust page if deleting the last subtask on the current page\r\n//     if (currentSubtasks.length === 1 && currentPage > 1) {\r\n//       setCurrentPage(currentPage - 1);\r\n//     }\r\n//   };\r\n\r\n//   const handlePrevPage = () => {\r\n//     if (currentPage > 1) setCurrentPage(currentPage - 1);\r\n//   };\r\n\r\n//   const handleNextPage = () => {\r\n//     if (currentPage < totalPages) setCurrentPage(currentPage + 1);\r\n//   };\r\n\r\n//   const getStatusVariant = (status) => {\r\n//     if (status === \"Completed\") return \"success\";\r\n//     if (status === \"In Progress\") return \"warning\";\r\n//     return \"secondary\"; // For Pending\r\n//   };\r\n\r\n//   return (\r\n//     <section>\r\n//       <div className=\"flex justify-between items-center mb-2\">\r\n//         <h3 className=\"text-base sm:text-lg font-semibold flex items-center\">\r\n//           <ListTodo className=\"mr-2 h-4 w-4 sm:h-5 sm:w-5 text-green-500\" />\r\n//           Subtasks\r\n//         </h3>\r\n      \r\n//         {/* {!isTaskClosed &&  currentUser?.role === \"cpc\"||currentUser?.role === \"Team Lead\" || isTeamLead ? (\r\n//           <Button\r\n//             className=\"bg-blue-600 hover:bg-blue-700 text-xs sm:text-sm px-2 sm:px-3 h-8 sm:h-9\"\r\n//             onClick={() => setOpenAdd(true)}\r\n//             disabled={isTaskClosed}\r\n//           >\r\n//             <Plus className=\"mr-1 h-3 w-3 sm:h-4 sm:w-4\" /> Add\r\n//           </Button>\r\n//         ) : (\r\n//           <Badge\r\n//             variant=\"secondary\"\r\n//             className=\"flex items-center text-xs sm:text-sm\"\r\n//           >\r\n//             <Lock className=\"mr-1 h-3 w-3 sm:h-4 sm:w-4\" /> Read-Only\r\n//           </Badge>\r\n//         )} */}\r\n//         {!isTaskClosed && (\r\n//   <Button\r\n//     className=\"bg-blue-600 hover:bg-blue-700 text-xs sm:text-sm px-2 sm:px-3 h-8 sm:h-9\"\r\n//     onClick={() => setOpenAdd(true)}\r\n//   >\r\n//     <Plus className=\"mr-1 h-3 w-3 sm:h-4 sm:w-4\" /> Add\r\n//   </Button>\r\n// )}\r\n\r\n//       </div>\r\n//       <div className=\"mb-3\">\r\n//         <div className=\"flex justify-between items-center mb-2\">\r\n//           <span className=\"font-medium text-xs sm:text-sm\">\r\n//             Progress: {progress.toFixed(0)}%\r\n//           </span>\r\n//           <Badge\r\n//             variant={progress === 100 ? \"success\" : \"default\"}\r\n//             className=\"text-xs sm:text-sm\"\r\n//           >\r\n//             {completedSubtasks}/{safeSubtasks.length} Completed\r\n//           </Badge>\r\n//         </div>\r\n//         <Progress value={progress} className=\"h-2 bg-gray-200\" />\r\n//       </div>\r\n//       {loading && (\r\n//         <div className=\"text-center text-sm text-gray-500\">\r\n//           Loading subtasks...\r\n//         </div>\r\n//       )}\r\n//       {!loading && !error && safeSubtasks.length === 0 && (\r\n//         <div className=\"text-center text-sm text-gray-500\">\r\n//           No subtasks available\r\n//         </div>\r\n//       )}\r\n//       {!loading && !error && safeSubtasks.length > 0 && (\r\n//         <ul className=\"space-y-2\">\r\n//           {currentSubtasks.map((st) => (\r\n//             <li\r\n//               key={st.subtask_id}\r\n//               className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 p-2 sm:p-3 border rounded-lg bg-muted/50 transition-all hover:shadow-md\"\r\n//             >\r\n//               <div className=\"flex-1 flex items-center\">\r\n//                 <CheckCircle2\r\n//                   className={`mr-2 h-3 w-3 sm:h-4 sm:w-4 ${\r\n//                     st.status === \"Completed\"\r\n//                       ? \"text-green-500\"\r\n//                       : st.status === \"In Progress\"\r\n//                       ? \"text-yellow-500\"\r\n//                       : \"text-gray-400\"\r\n//                   }`}\r\n//                 />\r\n//                 <span className=\"font-medium text-xs sm:text-sm\">\r\n//                   {st.title}\r\n//                 </span>\r\n                \r\n//               </div>\r\n//               <div className=\"flex items-center gap-1 sm:gap-2\">\r\n//                                            {st.isResolved === false && (\r\n//                   <Tooltip>\r\n//                     <TooltipTrigger asChild>\r\n//                       <span\r\n//                         className={cn(\r\n//                           \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium whitespace-nowrap cursor-default\",\r\n//                           \"bg-red-100 text-red-700\"\r\n//                         )}\r\n//                       >\r\n//                         Bug Found\r\n//                       </span>\r\n//                     </TooltipTrigger>\r\n//                     <TooltipContent className=\"text-xs px-2 py-1 rounded shadow-md bg-red-600 text-white\">\r\n//                       Bug is active. Resolve now!\r\n//                     </TooltipContent>\r\n//                   </Tooltip>\r\n//                 )}\r\n//                 <Badge\r\n//                   variant={getStatusVariant(st.status)}\r\n//                   className=\"text-xs sm:text-sm\"\r\n//                 >\r\n//                   {st.status}\r\n//                 </Badge>\r\n//                 <Tooltip>\r\n//                   <TooltipTrigger asChild>\r\n//                     <Button\r\n//                       variant=\"ghost\"\r\n//                       size=\"icon\"\r\n//                       onClick={() => handleView(st)}\r\n//                       className=\"h-7 w-7 sm:h-8 sm:w-8\"\r\n//                     >\r\n//                       <Eye className=\"h-3 w-3 sm:h-4 sm:w-4 text-blue-500\" />\r\n//                     </Button>\r\n//                   </TooltipTrigger>\r\n//                   <TooltipContent>View</TooltipContent>\r\n//                 </Tooltip>\r\n//                 {!isTaskClosed && (\r\n//                   <>\r\n//                     <Tooltip>\r\n//                       <TooltipTrigger asChild>\r\n//                         <Button\r\n//                           variant=\"ghost\"\r\n//                           size=\"icon\"\r\n//                           onClick={() => handleEdit(st)}\r\n//                           disabled={isTaskClosed}\r\n//                           className=\"h-7 w-7 sm:h-8 sm:w-8\"\r\n//                         >\r\n//                           <Edit className=\"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500\" />\r\n//                         </Button>\r\n//                       </TooltipTrigger>\r\n//                       <TooltipContent>Edit</TooltipContent>\r\n//                     </Tooltip>\r\n//                     <Tooltip>\r\n//                       <TooltipTrigger asChild>\r\n//                         <Button\r\n//                           variant=\"ghost\"\r\n//                           size=\"icon\"\r\n//                           onClick={() => handleDelete(st)}\r\n//                           disabled={isTaskClosed}\r\n//                           className=\"h-7 w-7 sm:h-8 sm:w-8\"\r\n//                         >\r\n//                           <Trash2 className=\"h-3 w-3 sm:h-4 sm:w-4 text-red-500\" />\r\n//                         </Button>\r\n//                       </TooltipTrigger>\r\n//                       <TooltipContent>Delete</TooltipContent>\r\n//                     </Tooltip>\r\n//                   </>\r\n//                 )}\r\n//               </div>\r\n//             </li>\r\n//           ))}\r\n//         </ul>\r\n//       )}\r\n//       {totalPages > 1 && (\r\n//         <div className=\"flex justify-center items-center gap-3 mt-3\">\r\n//           <Button\r\n//             variant=\"ghost\"\r\n//             size=\"icon\"\r\n//             onClick={handlePrevPage}\r\n//             disabled={currentPage === 1}\r\n//             className=\"h-8 w-8 sm:h-9 sm:w-9\"\r\n//           >\r\n//             <ChevronLeft className=\"h-4 w-4 sm:h-5 sm:w-5\" />\r\n//           </Button>\r\n//           <span className=\"text-xs sm:text-sm font-medium\">\r\n//             Page {currentPage} of {totalPages}\r\n//           </span>\r\n//           <Button\r\n//             variant=\"ghost\"\r\n//             size=\"icon\"\r\n//             onClick={handleNextPage}\r\n//             disabled={currentPage === totalPages}\r\n//             className=\"h-8 w-8 sm:h-9 sm:w-9\"\r\n//           >\r\n//             <ChevronRight className=\"h-4 w-4 sm:h-5 sm:w-5\" />\r\n//           </Button>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Create, Edit, Delete Modals */}\r\n//       <CreateSubtaskModal\r\n//         open={openAdd}\r\n//         setOpen={setOpenAdd}\r\n//         taskDetails={task}\r\n//         taskId={taskId}\r\n//         projectId={projectId}\r\n//       />\r\n//       {selectedSubtask && (\r\n//         <EditSubtaskModal\r\n//         onSubtaskEdit={() => {\r\n  \r\n//       dispatch(fetchSubTasksByTaskId(taskId)); // optional if subtasks might change\r\n//     }}\r\n//           open={openEdit}\r\n//           setOpen={setOpenEdit}\r\n//           subtask={selectedSubtask}\r\n//           taskId={taskId}\r\n//           isTaskClosed={isTaskClosed}\r\n//           projectId={projectId}\r\n//         />\r\n//       )}\r\n//       {selectedSubtask && (\r\n//         <DeleteSubtaskModal\r\n//              onSubtaskDelete={() => {\r\n  \r\n//       dispatch(fetchSubTasksByTaskId(taskId)); // optional if subtasks might change\r\n//     }}\r\n//           open={openDelete}\r\n//           setOpen={setOpenDelete}\r\n//           subtask={selectedSubtask}\r\n//           taskId={taskId}\r\n//           isTaskClosed={isTaskClosed}\r\n//         />\r\n//       )}\r\n//     </section>\r\n//   );\r\n// };\r\n\r\n// export default SubTaskList;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Progress } from \"@/components/ui/progress\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\";\r\nimport {\r\n  CheckCircle2,\r\n  Edit,\r\n  Eye,\r\n  Plus,\r\n  Trash2,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Lock,\r\n  ListTodo,\r\n} from \"lucide-react\";\r\nimport CreateSubtaskModal from \"@/modules/project-management/task/components/sub-task/CreateSubTaskModal\";\r\nimport EditSubtaskModal from \"@/modules/project-management/task/components/sub-task/EditSubTaskModal\";\r\nimport DeleteSubtaskModal from \"@/modules/project-management/task/components/sub-task/DeleteSubTaskModal\";\r\nimport { fetchSubTasksByTaskId } from \"@/modules/project-management/task/slices/subTaskSlice\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\nimport { fetchProjectById } from \"@/modules/project-management/project/slices/projectSlice\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst SubTaskList = ({ task, taskId, projectId, isTaskClosed }) => {\r\n    const { project, status, successMessage } = useSelector(\r\n    (state) => state.project\r\n  );\r\n\r\n\r\n    const { currentUser, isTeamLead } = useCurrentUser(project?.data?.teamLeadId);\r\n  const router = useRouter();\r\n  const dispatch = useDispatch();\r\n  const { subtasks, loading, error } = useSelector((state) => state.subTask);\r\n\r\n  // Pagination state\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const subtasksPerPage = 5;\r\n  const safeSubtasks = Array.isArray(subtasks) ? subtasks : [];\r\n  const totalPages = Math.ceil(safeSubtasks.length / subtasksPerPage);\r\n  const indexOfLastSubtask = currentPage * subtasksPerPage;\r\n  const indexOfFirstSubtask = indexOfLastSubtask - subtasksPerPage;\r\n  const currentSubtasks = safeSubtasks.slice(\r\n    indexOfFirstSubtask,\r\n    indexOfLastSubtask\r\n  );\r\n\r\n  // Fetch subtasks on mount and when taskId changes\r\n  useEffect(() => {\r\n    if (taskId) {\r\n      dispatch(fetchSubTasksByTaskId(taskId));\r\n     \r\n      \r\n    }\r\n       \r\n    \r\n  }, [dispatch, subtasks?.length, taskId]);\r\n  useEffect(() => {\r\n  \r\n          dispatch(fetchProjectById(projectId));\r\n   \r\n    \r\n  }, [dispatch]);\r\n\r\n  // Modal states\r\n  const [openEdit, setOpenEdit] = useState(false);\r\n  const [openAdd, setOpenAdd] = useState(false);\r\n  const [openDelete, setOpenDelete] = useState(false);\r\n  const [selectedSubtask, setSelectedSubtask] = useState(null);\r\n\r\n  // Calculate progress\r\n  const completedSubtasks = safeSubtasks.filter(\r\n    (st) => st.status === \"Completed\"\r\n  ).length;\r\n  const progress =\r\n    safeSubtasks.length > 0\r\n      ? (completedSubtasks / safeSubtasks.length) * 100\r\n      : 0;\r\n\r\n  // Handlers\r\n  // const handleView = (subtask) => {\r\n  //   router.push(`/task/${taskId}/${subtask.subtask_id}`);\r\n  // };\r\n  const handleView = (subtask) => {\r\n    router.push(`/workspace/task/${taskId}/${subtask.subtask_id}`);\r\n  };\r\n \r\n\r\n  const handleEdit = (subtask) => {\r\n    if (isTaskClosed) return;\r\n    setSelectedSubtask(subtask);\r\n    setOpenEdit(true);\r\n  };\r\n\r\n  const handleDelete = (subtask) => {\r\n    if (isTaskClosed) return;\r\n    setSelectedSubtask(subtask);\r\n    setOpenDelete(true);\r\n    // Adjust page if deleting the last subtask on the current page\r\n    if (currentSubtasks.length === 1 && currentPage > 1) {\r\n      setCurrentPage(currentPage - 1);\r\n    }\r\n  };\r\n\r\n  const handlePrevPage = () => {\r\n    if (currentPage > 1) setCurrentPage(currentPage - 1);\r\n  };\r\n\r\n  const handleNextPage = () => {\r\n    if (currentPage < totalPages) setCurrentPage(currentPage + 1);\r\n  };\r\n\r\n  const getStatusVariant = (status) => {\r\n    if (status === \"Completed\") return \"success\";\r\n    if (status === \"In Progress\") return \"warning\";\r\n    return \"secondary\"; // For Pending\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <div className=\"flex justify-between items-center mb-2\">\r\n        <h3 className=\"text-base sm:text-lg font-semibold flex items-center\">\r\n          <ListTodo className=\"mr-2 h-4 w-4 sm:h-5 sm:w-5 text-green-500\" />\r\n          Subtasks\r\n        </h3>\r\n      \r\n\r\n{/* Single Add Button â€“ handles ALL cases with proper UI feedback */}\r\n{isTeamLead && task?.status !== \"Completed\" && (\r\n  <Tooltip>\r\n    <TooltipTrigger asChild>\r\n      <div className=\"inline-block\">\r\n        <Button\r\n          className={cn(\r\n            \"bg-blue-600 text-xs sm:text-sm px-2 sm:px-3 h-8 sm:h-9 transition-all\",\r\n            task?.status === \"Pending\" \r\n              ? \"hover:bg-blue-600/80 cursor-not-allowed opacity-70\" \r\n              : \"hover:bg-blue-700\"\r\n          )}\r\n          onClick={() => task?.status === \"In Progress\" && setOpenAdd(true)}\r\n          disabled={task?.status !== \"In Progress\"}\r\n        >\r\n          <Plus className=\"mr-1 h-3 w-3 sm:h-4 sm:w-4\" /> Add\r\n        </Button>\r\n      </div>\r\n    </TooltipTrigger>\r\n\r\n    {/* Tooltip message changes based on task status */}\r\n    {task?.status === \"Pending\" && (\r\n      <TooltipContent className=\"text-xs\">\r\n        Start the tasks to add subtasks\r\n      </TooltipContent>\r\n    )}\r\n  </Tooltip>\r\n)}\r\n\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <div className=\"flex justify-between items-center mb-2\">\r\n          <span className=\"font-medium text-xs sm:text-sm\">\r\n            Progress: {progress.toFixed(0)}%\r\n          </span>\r\n          <Badge\r\n            variant={progress === 100 ? \"success\" : \"default\"}\r\n            className=\"text-xs sm:text-sm\"\r\n          >\r\n            {completedSubtasks}/{safeSubtasks.length} Completed\r\n          </Badge>\r\n        </div>\r\n        <Progress value={progress} className=\"h-2 bg-gray-200\" />\r\n      </div>\r\n      {loading && (\r\n        <div className=\"text-center text-sm text-gray-500\">\r\n          Loading subtasks...\r\n        </div>\r\n      )}\r\n      {!loading && !error && safeSubtasks.length === 0 && (\r\n        <div className=\"text-center text-sm text-gray-500\">\r\n          No subtasks available\r\n        </div>\r\n      )}\r\n      {!loading && !error && safeSubtasks.length > 0 && (\r\n        <ul className=\"space-y-2\">\r\n          {currentSubtasks.map((st) => (\r\n            <li\r\n              key={st.subtask_id}\r\n              className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 p-2 sm:p-3 border rounded-lg bg-muted/50 transition-all hover:shadow-md\"\r\n            >\r\n              <div className=\"flex-1 flex items-center\">\r\n                <CheckCircle2\r\n                  className={`mr-2 h-3 w-3 sm:h-4 sm:w-4 ${\r\n                    st.status === \"Completed\"\r\n                      ? \"text-green-500\"\r\n                      : st.status === \"In Progress\"\r\n                      ? \"text-yellow-500\"\r\n                      : \"text-gray-400\"\r\n                  }`}\r\n                />\r\n                <span className=\"font-medium text-xs sm:text-sm\">\r\n                  {st.title}\r\n                </span>\r\n                \r\n              </div>\r\n              <div className=\"flex items-center gap-1 sm:gap-2\">\r\n                                           {st.isResolved === false && (\r\n                  <Tooltip>\r\n                    <TooltipTrigger asChild>\r\n                      <span\r\n                        className={cn(\r\n                          \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium whitespace-nowrap cursor-default\",\r\n                          \"bg-red-100 text-red-700\"\r\n                        )}\r\n                      >\r\n                        Bug Found\r\n                      </span>\r\n                    </TooltipTrigger>\r\n                    <TooltipContent className=\"text-xs px-2 py-1 rounded shadow-md bg-red-600 text-white\">\r\n                      Bug is active. Resolve now!\r\n                    </TooltipContent>\r\n                  </Tooltip>\r\n                )}\r\n                <Badge\r\n                  variant={getStatusVariant(st.status)}\r\n                  className=\"text-xs sm:text-sm\"\r\n                >\r\n                  {st.status}\r\n                </Badge>\r\n                <Tooltip>\r\n                  <TooltipTrigger asChild>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      onClick={() => handleView(st)}\r\n                      className=\"h-7 w-7 sm:h-8 sm:w-8\"\r\n                    >\r\n                      <Eye className=\"h-3 w-3 sm:h-4 sm:w-4 text-blue-500\" />\r\n                    </Button>\r\n                  </TooltipTrigger>\r\n                  <TooltipContent>View</TooltipContent>\r\n                </Tooltip>\r\n              {/* Edit & Delete - Only show if Team Lead AND task is exactly \"In Progress\" */}\r\n{isTeamLead && task?.status === \"In Progress\" && (\r\n  <>\r\n    <Button\r\n      variant=\"ghost\"\r\n      size=\"icon\"\r\n      onClick={() => handleEdit(st)}\r\n      className=\"h-7 w-7 sm:h-8 sm:w-8\"\r\n    >\r\n      <Edit className=\"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500\" />\r\n    </Button>\r\n\r\n    <Button\r\n      variant=\"ghost\"\r\n      size=\"icon\"\r\n      onClick={() => handleDelete(st)}\r\n      className=\"h-7 w-7 sm:h-8 sm:w-8\"\r\n    >\r\n      <Trash2 className=\"h-3 w-3 sm:h-4 sm:w-4 text-red-500\" />\r\n    </Button>\r\n  </>\r\n)}\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n      {totalPages > 1 && (\r\n        <div className=\"flex justify-center items-center gap-3 mt-3\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={handlePrevPage}\r\n            disabled={currentPage === 1}\r\n            className=\"h-8 w-8 sm:h-9 sm:w-9\"\r\n          >\r\n            <ChevronLeft className=\"h-4 w-4 sm:h-5 sm:w-5\" />\r\n          </Button>\r\n          <span className=\"text-xs sm:text-sm font-medium\">\r\n            Page {currentPage} of {totalPages}\r\n          </span>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={handleNextPage}\r\n            disabled={currentPage === totalPages}\r\n            className=\"h-8 w-8 sm:h-9 sm:w-9\"\r\n          >\r\n            <ChevronRight className=\"h-4 w-4 sm:h-5 sm:w-5\" />\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Create, Edit, Delete Modals */}\r\n      <CreateSubtaskModal\r\n        open={openAdd}\r\n        setOpen={setOpenAdd}\r\n        taskDetails={task}\r\n        taskId={taskId}\r\n        projectId={projectId}\r\n      />\r\n      {selectedSubtask && (\r\n        <EditSubtaskModal\r\n        onSubtaskEdit={() => {\r\n  \r\n      dispatch(fetchSubTasksByTaskId(taskId)); // optional if subtasks might change\r\n    }}\r\n          open={openEdit}\r\n          setOpen={setOpenEdit}\r\n          subtask={selectedSubtask}\r\n          taskId={taskId}\r\n          isTaskClosed={isTaskClosed}\r\n          projectId={projectId}\r\n        />\r\n      )}\r\n      {selectedSubtask && (\r\n        <DeleteSubtaskModal\r\n             onSubtaskDelete={() => {\r\n  \r\n      dispatch(fetchSubTasksByTaskId(taskId)); // optional if subtasks might change\r\n    }}\r\n          open={openDelete}\r\n          setOpen={setOpenDelete}\r\n          subtask={selectedSubtask}\r\n          taskId={taskId}\r\n          isTaskClosed={isTaskClosed}\r\n        />\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default SubTaskList;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4558, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/utils/formatDate.js"],"sourcesContent":["// lib/formatRange.js\r\nexport function formatRange(start, end) {\r\n  const options = { month: 'short', day: 'numeric' };\r\n  const startStr = start.toLocaleDateString(undefined, options);\r\n  const endStr = end.toLocaleDateString(undefined, options);\r\n\r\n  return `${startStr} â€“ ${endStr}`;\r\n}\r\n\r\n\r\n\r\n\r\n// utils/date.js\r\nexport function formatDateUTC(dateString) {\r\n    if (!dateString) return '';\r\n    return new Date(dateString).toLocaleDateString('en-GB', {\r\n        timeZone: 'UTC',\r\n        day: '2-digit',\r\n        month: 'short',\r\n        year: 'numeric'\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function formatDateTimeIST(dateString) {\r\n  if (!dateString) return '';\r\n\r\n  const date = new Date(dateString);\r\n\r\n  return date.toLocaleString('en-GB', {\r\n    timeZone: 'Asia/Kolkata', // âœ… IST\r\n    day: '2-digit',\r\n    month: 'short',\r\n    year: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n    second: '2-digit',\r\n    hour12: true, // shows AM/PM\r\n  });\r\n}\r\n\r\nexport function formatDateTimeUTC(dateString) {\r\n  if (!dateString) return '';\r\n  return new Date(dateString).toLocaleString('en-GB', {\r\n    timeZone: 'UTC',\r\n    day: '2-digit',\r\n    month: 'short',\r\n    year: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n     second: '2-digit', \r\n    hour12: true, // âœ… shows AM/PM\r\n  });\r\n}\r\n"],"names":[],"mappings":"AAAA,qBAAqB;;;;;;;AACd,SAAS,YAAY,KAAK,EAAE,GAAG;IACpC,MAAM,UAAU;QAAE,OAAO;QAAS,KAAK;IAAU;IACjD,MAAM,WAAW,MAAM,kBAAkB,CAAC,WAAW;IACrD,MAAM,SAAS,IAAI,kBAAkB,CAAC,WAAW;IAEjD,OAAO,GAAG,SAAS,GAAG,EAAE,QAAQ;AAClC;AAMO,SAAS,cAAc,UAAU;IACpC,IAAI,CAAC,YAAY,OAAO;IACxB,OAAO,IAAI,KAAK,YAAY,kBAAkB,CAAC,SAAS;QACpD,UAAU;QACV,KAAK;QACL,OAAO;QACP,MAAM;IACV;AACJ;AAMO,SAAS,kBAAkB,UAAU;IAC1C,IAAI,CAAC,YAAY,OAAO;IAExB,MAAM,OAAO,IAAI,KAAK;IAEtB,OAAO,KAAK,cAAc,CAAC,SAAS;QAClC,UAAU;QACV,KAAK;QACL,OAAO;QACP,MAAM;QACN,MAAM;QACN,QAAQ;QACR,QAAQ;QACR,QAAQ;IACV;AACF;AAEO,SAAS,kBAAkB,UAAU;IAC1C,IAAI,CAAC,YAAY,OAAO;IACxB,OAAO,IAAI,KAAK,YAAY,cAAc,CAAC,SAAS;QAClD,UAAU;QACV,KAAK;QACL,OAAO;QACP,MAAM;QACN,MAAM;QACN,QAAQ;QACP,QAAQ;QACT,QAAQ;IACV;AACF","debugId":null}},
    {"offset": {"line": 4616, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/task/components/ViewTask.jsx"],"sourcesContent":["\r\n\r\n\r\n\r\n\r\n\r\n\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n} from \"@/components/ui/dialog\";\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport {\r\n  ChevronLeft,\r\n  Play,\r\n  CheckCircle,\r\n  RotateCcw,\r\n  Clock,\r\n  AlertCircle,\r\n  User,\r\n  Calendar,\r\n  Flag,\r\n  Tag,\r\n  FileText,\r\n  ChevronDown,\r\n  ChevronUp,\r\n} from \"lucide-react\";\r\n\r\nimport SubTaskList from \"@/modules/project-management/task/components/sub-task/SubTaskList\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  fetchTaskById,\r\n  updateTaskStatus,\r\n} from \"@/modules/project-management/task/slices/taskSlice\";\r\nimport { fetchSubTasksByTaskId } from \"@/modules/project-management/task/slices/subTaskSlice\";\r\nimport { formatDateTimeIST } from \"@/utils/formatDate\";\r\nimport { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\nimport { toast } from \"sonner\";\r\n\r\nconst TaskView = () => {\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n  const { id: task_id } = useParams();\r\n\r\n  const task = useSelector((state) => state.task.currentTask);\r\n  const { subtasks } = useSelector((state) => state.subTask);\r\n  const loading = useSelector((state) => state.task.status === \"loading\");\r\n  const updating = useSelector((state) => state.task.updating);\r\n  const { currentUser } = useCurrentUser();\r\n\r\n  const [showFullDesc, setShowFullDesc] = useState(false);\r\n  const [delayDialog, setDelayDialog] = useState(false);\r\n  const [delayReason, setDelayReason] = useState(\"\");\r\n  const [confirmCompleteOpen, setConfirmCompleteOpen] = useState(false);\r\n  const [initialLoading, setInitialLoading] = useState(true);\r\n  const [assigneeOpen, setAssigneeOpen] = useState(false);\r\n  const [selectedPerson, setSelectedPerson] = useState(null);\r\n  const isTeamLead = task?.teamLeadId === currentUser?.id;\r\n  const canEdit = isTeamLead;\r\n  const allSubtasksDone = subtasks?.every((s) => s.status === \"Completed\") ?? true;\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setInitialLoading(false), 1200);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (task_id) {\r\n      dispatch(fetchTaskById(task_id));\r\n      dispatch(fetchSubTasksByTaskId(task_id));\r\n    }\r\n  }, [task_id, dispatch]);\r\n\r\n  const handleStatusChange = async (newStatus) => {\r\n    if (updating || !canEdit) return;\r\n\r\n    if (newStatus === \"Completed\") {\r\n      setConfirmCompleteOpen(true);\r\n      return;\r\n    }\r\n\r\n    if (newStatus === \"Pending\") {\r\n      await dispatch(updateTaskStatus({ taskId: task_id, status: \"Pending\" }));\r\n      toast.success(\"Task reopened successfully\");\r\n      dispatch(fetchTaskById(task_id));\r\n      return;\r\n    }\r\n\r\n    if (newStatus === \"In Progress\") {\r\n      await dispatch(updateTaskStatus({ taskId: task_id, status: \"In Progress\" }));\r\n      toast.success(\"Task is now In Progress\");\r\n      dispatch(fetchTaskById(task_id));\r\n    }\r\n  };\r\n\r\n  const confirmComplete = async () => {\r\n    setConfirmCompleteOpen(false);\r\n\r\n    if (task.deadline && new Date() > new Date(task.deadline)) {\r\n      setDelayDialog(true);\r\n      return;\r\n    }\r\n\r\n    await dispatch(updateTaskStatus({ taskId: task_id, status: \"Completed\" }));\r\n    toast.success(\"Task marked as Completed\");\r\n    dispatch(fetchTaskById(task_id));\r\n  };\r\n\r\n  const submitDelay = async () => {\r\n    if (!delayReason.trim()) return;\r\n\r\n    await dispatch(\r\n      updateTaskStatus({\r\n        taskId: task_id,\r\n        status: \"Completed\",\r\n        delayReason: delayReason.trim(),\r\n      })\r\n    );\r\n    toast.success(\"Task completed with delay reason\");\r\n    setDelayDialog(false);\r\n    setDelayReason(\"\");\r\n    dispatch(fetchTaskById(task_id));\r\n  };\r\n\r\n  const getInitials = (name = \"\") =>\r\n    name.split(\" \").map((n) => n[0]).join(\"\").slice(0, 2).toUpperCase();\r\n\r\n  // SMART ACTION BUTTON â€” Shows exact next step\r\n  const getActionButton = () => {\r\n    if (!canEdit || !task?.status) return null;\r\n\r\n    if (task.status === \"Pending\") {\r\n      return {\r\n        text: \"Start Task\",\r\n        subtitle: \"Move to In Progress\",\r\n        color: \"bg-blue-600 hover:bg-blue-700\",\r\n        icon: Play,\r\n        next: \"In Progress\",\r\n      };\r\n    }\r\n\r\n    if (task.status === \"In Progress\") {\r\n      return {\r\n        text: \"Mark Complete\",\r\n        subtitle: \"Finish this task\",\r\n        color: allSubtasksDone ? \"bg-teal-600 hover:bg-teal-700\" : \"bg-gray-500\",\r\n        icon: CheckCircle,\r\n        next: \"Completed\",\r\n        disabled: !allSubtasksDone,\r\n      };\r\n    }\r\n\r\n    if (task.status === \"Completed\") {\r\n      return {\r\n        text: \"Reopen Task\",\r\n        subtitle: \"Back to Pending\",\r\n        color: \"bg-purple-600 hover:bg-purple-700\",\r\n        icon: RotateCcw,\r\n        next: \"Pending\",\r\n      };\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  const actionBtn = getActionButton();\r\n\r\n  // Loading & Not Found\r\n  if (initialLoading || loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <div className=\"bg-teal-600 text-white py-8 px-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"h-10 w-28 bg-teal-700 rounded-lg animate-pulse\" />\r\n            <div className=\"h-6 w-48 bg-teal-400 rounded animate-pulse\" />\r\n          </div>\r\n        </div>\r\n        <Card className=\"shadow-xl border-0 min-h-screen\">\r\n          <CardContent className=\"p-8 space-y-10 animate-pulse\">\r\n            <div className=\"h-12 w-64 bg-gray-300 rounded-lg self-end\" />\r\n            <div className=\"space-y-6\">\r\n              <div className=\"h-8 w-96 bg-gray-200 rounded\" />\r\n              <div className=\"space-y-3\">\r\n                <div className=\"h-5 w-32 bg-gray-300 rounded\" />\r\n                <div className=\"h-20 w-full bg-gray-200 rounded\" />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!task) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <Card className=\"text-center p-12 shadow-xl\">\r\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-4\">Task Not Found</h1>\r\n          <Button onClick={() => router.back()} className=\"bg-teal-600 hover:bg-teal-700\">\r\n            Back\r\n          </Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Clean Header */}\r\n      <div className=\"bg-teal-600 text-white py-8 px-6\">\r\n        \r\n        <div className=\"flex items-center gap-4\">\r\n            <Button size=\"sm\" onClick={() => router.back()} className=\"bg-teal-700 hover:bg-teal-800 rounded-lg\">\r\n                      <ChevronLeft className=\"w-5 h-5 mr-1\" /> Back\r\n                    </Button>\r\n          <p className=\"text-teal-100 text-sm\">Task ID: {task.task_id}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <Card className=\"shadow-xl border-0 min-h-screen\">\r\n        <CardContent className=\"p-6 sm:p-8 space-y-5\">\r\n\r\n          {/* Smart Action Button â€” Tells user exactly whatâ€™s next */}\r\n          {actionBtn && (\r\n            <div className=\"flex justify-end\">\r\n              <div className=\"text-right\">\r\n                <Button\r\n                  onClick={() => handleStatusChange(actionBtn.next)}\r\n                  disabled={updating || actionBtn.disabled}\r\n                  className={`${actionBtn.color} text-white font-medium px-6 py-3`}\r\n                >\r\n                  <actionBtn.icon className=\"w-5 h-5 mr-2\" />\r\n                  {actionBtn.text}\r\n                </Button>\r\n                <p className=\"text-xs text-gray-500 mt-2\">\r\n                  {actionBtn.subtitle}\r\n                  {actionBtn.disabled && \" â€” Complete all subtasks first\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Task Title */}\r\n          <div>\r\n            <p className=\"text-sm  font-bold text-gray-900\"> Title</p>\r\n            <h1 className=\"text-sm text-gray-900\">{task.title}</h1>\r\n          </div>\r\n\r\n          {/* Description */}\r\n          {task.description && (\r\n            <div>\r\n              <p className=\"text-sm text-gray-900  font-bold\">Description</p>\r\n              <div className=\"text-gray-700 leading-relaxed prose max-w-none\">\r\n                {task.description.length > 600 && !showFullDesc ? (\r\n                  <>\r\n                    <div dangerouslySetInnerHTML={{ __html: task.description.slice(0, 600).replace(/\\n/g, \"<br/>\") + \"...\" }} />\r\n                    <button onClick={() => setShowFullDesc(true)} className=\"text-teal-600 text-sm font-medium mt-3 flex items-center hover:underline\">\r\n                      Show more <ChevronDown className=\"w-4 h-4 ml-1\" />\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div dangerouslySetInnerHTML={{ __html: task.description.replace(/\\n/g, \"<br/>\") }} />\r\n                    {task.description.length > 600 && (\r\n                      <button onClick={() => setShowFullDesc(false)} className=\"text-teal-600 text-sm font-medium mt-3 flex items-center hover:underline\">\r\n                        Show less <ChevronUp className=\"w-4 h-4 ml-1\" />\r\n                      </button>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Info Grid */}\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 text-sm\">\r\n            {task.projectName && (\r\n              <div><p className=\"text-gray-900  font-bold\">Project</p><p className=\"font-medium text-gray-800 mt-0.5\">{task.projectName}</p></div>\r\n            )}\r\n            {task.priority && (\r\n              <div><p className=\"text-gray-900  font-bold\">Priority</p>\r\n                <span className={`mt-1 inline-block px-3 py-1 rounded-full text-xs font-medium text-white ${\r\n                  task.priority === \"High\" ? \"bg-red-600\" : task.priority === \"Medium\" ? \"bg-amber-500\" : \"bg-emerald-600\"\r\n                }`}>{task.priority}</span>\r\n              </div>\r\n            )}\r\n            <div>\r\n              <p className=\"text-gray-900  font-bold\">Status</p>\r\n              <span className={`mt-1 inline-block px-3 py-1 rounded-full text-xs font-medium text-white ${\r\n                task.status === \"Completed\" ? \"bg-gray-700\" :\r\n                task.status === \"In Progress\" ? \"bg-blue-600\" : \"bg-orange-600\"\r\n              }`}>\r\n                {task.status}\r\n              </span>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-gray-900  font-bold\">Assigne</p>\r\n              <div className=\"flex -space-x-3 mt-1.5\">\r\n                {task.assignedTo?.length > 0 ? task.assignedTo.map((p) => (\r\n                  <Avatar key={p._id || p.memberId} className=\"w-10 h-10 ring-4 ring-white border-2 border-white cursor-pointer hover:z-10 transition-all\" onClick={() => { setSelectedPerson(p); setAssigneeOpen(true); }}>\r\n                    <AvatarFallback className=\"bg-teal-600 text-white text-sm font-bold\">\r\n                      {getInitials(p.memberName || p.name || \"NA\")}\r\n                    </AvatarFallback>\r\n                  </Avatar>\r\n                )) : <span className=\"text-gray-500 text-sm mt-1\">Unassigned</span>}\r\n              </div>\r\n            </div>\r\n            <div><p className=\"text-gray-900  font-bold\">Created</p><p className=\"font-medium text-gray-800 mt-0.5\">{formatDateTimeIST(task.createdAt)}</p></div>\r\n            {task.deadline && <div><p className=\"text-gray-900  font-bold\">Deadline</p><p className=\"font-medium text-gray-800 mt-0.5\">{formatDateTimeIST(task.deadline)}</p></div>}\r\n          </div>\r\n\r\n          {task.delayReason && (\r\n            <div className=\"bg-amber-50 border border-amber-200 rounded-lg p-6\">\r\n              <p className=\"text-gray-900 flex items-center gap-2  font-bold\">\r\n                <AlertCircle className=\"w-5 h-5\" /> Delay Reason\r\n              </p>\r\n              <p className=\"mt-2 text-amber-800 leading-relaxed\">{task.delayReason}</p>\r\n            </div>\r\n          )}\r\n\r\n          <Separator className=\"my-10\" />\r\n\r\n          {/* Subtasks */}\r\n          <div>\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Subtasks</h3>\r\n            <SubTaskList\r\n              isTaskClosed={task.status === \"Completed\"}\r\n              task={task}\r\n              taskId={task.task_id}\r\n              projectId={task.projectId}\r\n            />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Dialogs */}\r\n      <Dialog open={assigneeOpen} onOpenChange={setAssigneeOpen}>\r\n        <DialogContent>\r\n          <DialogHeader><DialogTitle>Team Member Details</DialogTitle></DialogHeader>\r\n          {selectedPerson && (\r\n            <div className=\"flex items-center gap-6 py-6\">\r\n              <Avatar className=\"w-24 h-24\"><AvatarFallback className=\"bg-teal-600 text-white text-3xl font-bold\">{getInitials(selectedPerson.memberName || selectedPerson.name)}</AvatarFallback></Avatar>\r\n              <div>\r\n                <p className=\"text-2xl font-bold\">{selectedPerson.memberName || selectedPerson.name || \"Unknown\"}</p>\r\n                <p className=\"text-gray-600 text-lg\">{selectedPerson.role || \"Team Member\"}</p>\r\n                <p className=\"text-sm text-gray-500 mt-2\">ID: {selectedPerson.memberId || selectedPerson._id || \"â€”\"}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={confirmCompleteOpen} onOpenChange={setConfirmCompleteOpen}>\r\n        <DialogContent>\r\n          <DialogHeader><DialogTitle>Mark Task as Complete?</DialogTitle></DialogHeader>\r\n          <p className=\"text-gray-600 text-lg\">Are you sure all work is finished and this task should be marked as <strong>Completed</strong>?</p>\r\n          <DialogFooter className=\"mt-6\">\r\n            <Button variant=\"outline\" onClick={() => setConfirmCompleteOpen(false)}>Cancel</Button>\r\n            <Button onClick={confirmComplete} className=\"bg-teal-600 hover:bg-teal-700\">Yes, Mark Complete</Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={delayDialog} onOpenChange={setDelayDialog}>\r\n        <DialogContent>\r\n          <DialogHeader><DialogTitle className=\"text-red-600\">Deadline Missed</DialogTitle></DialogHeader>\r\n          <div className=\"py-4\">\r\n            <label className=\"text-sm font-medium block mb-2\">Reason for delay (required)</label>\r\n            <textarea value={delayReason} onChange={(e) => setDelayReason(e.target.value)}\r\n              className=\"w-full p-4 border rounded-lg min-h-32 resize-none focus:ring-2 focus:ring-teal-500\"\r\n              placeholder=\"Please explain why this task was completed after the deadline...\" />\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setDelayDialog(false)}>Cancel</Button>\r\n            <Button onClick={submitDelay} disabled={!delayReason.trim()} className=\"bg-teal-600 hover:bg-teal-700\">\r\n              Complete with Reason\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskView;"],"names":[],"mappings":"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","debugId":null}}]
}