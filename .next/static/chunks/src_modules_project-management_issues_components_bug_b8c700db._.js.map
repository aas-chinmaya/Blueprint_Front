{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/issues/components/bug/BugDetailsViewModal.jsx"],"sourcesContent":["\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\"use client\";\r\n\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from \"@/components/ui/dialog\";\r\nimport { formatDateTimeIST } from \"@/utils/formatDate\";\r\nimport { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { resolveBug, clearErrors, getBugById } from \"@/modules/project-management/issues/slices/bugSlice\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Loader2, Bug, Calendar, User, Clock, AlertCircle, FileText, CheckCircle, Clock as ClockIcon, ExternalLinkIcon } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst BugDetailsViewModal = ({ isOpen, onOpenChange, bugId }) => {\r\n  const { currentUser } = useCurrentUser();\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n\r\n  const { bugDetails } = useSelector((state) => state.bugs);\r\n  const loading = useSelector((state) => state.bugs.loading?.bugResolve);\r\n  const error = useSelector((state) => state.bugs.error?.bugResolve);\r\n  const [delayReason, setDelayReason] = useState(bugDetails?.delayReason || \"\");\r\n  const [resolutionNote, setResolutionNote] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (bugId) {\r\n      dispatch(getBugById(bugId));\r\n    }\r\n  }, [dispatch, bugId]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (isOpen && bugDetails) {\r\n      setDelayReason(bugDetails?.delayReason || \"\");\r\n      setResolutionNote(\"\");\r\n    }\r\n\r\n    return () => {\r\n      if (error) {\r\n        dispatch(clearErrors());\r\n      }\r\n    };\r\n  }, [dispatch, isOpen, bugDetails, error]);\r\n\r\n  const handleResolveBug = () => {\r\n    if (!bugDetails) return;\r\n\r\n    if (!resolutionNote.trim()) {\r\n      toast.error(\"Please provide a resolution note.\");\r\n      return;\r\n    }\r\n\r\n    // Convert bug deadline to Date object\r\n    const bugDeadlineDate = new Date(bugDetails.deadline);\r\n    // Get current date and time\r\n    const now = new Date();\r\n    // Check if deadline has passed\r\n    const isPastDeadline = now > bugDeadlineDate;\r\n\r\n    // ISO strings for logging\r\n    const bugDeadlineISO = bugDeadlineDate.toISOString();\r\n    const nowISO = now.toISOString();\r\n\r\n    if (isPastDeadline && !delayReason.trim()) {\r\n      toast.error(\"Please provide a reason for the delay.\");\r\n      return;\r\n    }\r\n    \r\n    const payload = {\r\n      bugId: bugDetails.bug_id,\r\n      resolutionNote,\r\n      ...(isPastDeadline && { delayReason }),\r\n    };\r\n\r\n    dispatch(resolveBug(payload)).then((result) => {\r\n      if (result.error) {\r\n        toast.error(`Failed to resolve bug: ${result.error.message}`);\r\n      } else {\r\n        toast.success(\"Issue resolved successfully!\");\r\n        onOpenChange(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  if (!bugDetails) {\r\n    return null;\r\n  }\r\n\r\n  const isAssignedToCurrentUser = currentUser?.id === bugDetails?.assignedTo;\r\n  const isResolved = (bugDetails?.status || \"\").toLowerCase() === \"resolved\";\r\n  // const isResolved = bugDetails?.status === \"resolved\";\r\n\r\n  // Convert bug deadline to Date object\r\n  const bugDeadlineDate = bugDetails.deadline ? new Date(bugDetails.deadline) : null;\r\n  // Get current date and time\r\n  const now = new Date();\r\n  // Check if deadline has passed\r\n  const isOverdue = bugDeadlineDate && now > bugDeadlineDate;\r\n\r\n  // ISO strings for logging\r\n  if (bugDeadlineDate) {\r\n    const bugDeadlineISO = bugDeadlineDate.toISOString();\r\n    const nowISO = now.toISOString();\r\n  }\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"w-full max-w-full h-[100vh] sm:max-w-4xl sm:max-h-[90vh] md:max-w-5xl bg-white shadow-lg border-gray-200 rounded-lg text-black overflow-y-auto\">\r\n        <DialogHeader className=\"px-4 py-3 sm:px-6 sm:py-4 sticky top-0\">\r\n          <DialogTitle className=\"text-gray-800 text-lg font-bold flex items-center gap-2\">\r\n            <Bug className=\"h-5 w-5\" />\r\n            Issue Details\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 py-2 px-4 sm:px-6\">\r\n          {/* Bug ID */}\r\n          <div className=\"flex flex-col\">\r\n            <Label className=\"text-xs font-bold text-gray-800 mb-1 flex items-center gap-1\">\r\n              <FileText className=\"h-3 w-3\" />\r\n              Issue ID\r\n            </Label>\r\n            <p className=\"text-xs text-black p-2\">{bugDetails.bug_id}</p>\r\n          </div>\r\n\r\n          {/* Status */}\r\n          <div className=\"flex flex-col\">\r\n            <Label className=\"text-xs font-bold text-gray-800 mb-1 flex items-center gap-1\">\r\n              <CheckCircle className=\"h-3 w-3\" />\r\n              Status\r\n            </Label>\r\n            <p className=\"text-xs text-black p-2\">{bugDetails.status || \"N/A\"}</p>\r\n          </div>\r\n\r\n          {/* Priority */}\r\n          <div className=\"flex flex-col\">\r\n            <Label className=\"text-xs font-bold text-gray-800 mb-1 flex items-center gap-1\">\r\n              <AlertCircle className=\"h-3 w-3\" />\r\n              Priority\r\n            </Label>\r\n            <p className=\"text-xs text-black p-2\">{bugDetails.priority || \"N/A\"}</p>\r\n          </div>\r\n\r\n          {/* Deadline */}\r\n          {bugDetails.deadline && (\r\n            <div className=\"flex flex-col\">\r\n              <Label className=\"text-xs font-bold text-gray-800 mb-1 flex items-center gap-1\">\r\n                <Calendar className=\"h-3 w-3\" />\r\n                Deadline\r\n              </Label>\r\n              <div className=\"flex items-center gap-2\">\r\n                <p className=\"text-xs text-black p-2\">\r\n                  {formatDateTimeIST(bugDetails.deadline) || \"N/A\"}\r\n                </p>\r\n                {/* Overdue indicator */}\r\n                {isOverdue && bugDetails?.status !== \"Resolved\" && (\r\n                  <span className=\"px-2 py-1 rounded-full bg-red-100 text-red-600 text-xs font-medium flex items-center gap-1\">\r\n                    <AlertCircle className=\"h-3 w-3\" />\r\n                    Overdue\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Assigned To */}\r\n          {bugDetails?.assignedToDetails?.memberName && (\r\n            <div className=\"flex flex-col\">\r\n              <Label className=\"text-xs font-bold text-gray-800 mb-1 flex items-center gap-1\">\r\n                <User className=\"h-3 w-3\" />\r\n                Assigned To\r\n              </Label>\r\n              <p className=\"text-xs text-black p-2\">{bugDetails.assignedToDetails.memberName}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Project Id */}\r\n          {bugDetails.projectId && (\r\n            <div className=\"flex flex-col\">\r\n              <Label className=\"text-xs font-bold text-gray-800 mb-1 flex items-center gap-1\">\r\n                <FileText className=\"h-3 w-3\" />\r\n                Project Id\r\n              </Label>\r\n              <p className=\"text-xs text-black p-2\">{bugDetails.projectId}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Created At */}\r\n          {bugDetails.createdAt && (\r\n            <div className=\"flex flex-col\">\r\n              <Label className=\"text-xs font-bold text-gray-800 mb-1 flex items-center gap-1\">\r\n                <ClockIcon className=\"h-3 w-3\" />\r\n                Created At\r\n              </Label>\r\n              <p className=\"text-xs text-black p-2\">{formatDateTimeIST(bugDetails.createdAt)}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Download Attachment */}\r\n          {bugDetails.attachmentLinks && (\r\n            <div className=\"mt-2\">\r\n              <Label className=\"text-xs font-bold text-gray-800 mb-1\">Attachment</Label>\r\n              <a\r\n                href={bugDetails.attachmentLinks}\r\n                download\r\n                className=\"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 border border-gray-300 rounded-md text-sm text-gray-800 font-medium transition-colors\"\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  className=\"h-4 w-4 text-blue-600\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5m0 0l5-5m-5 5V4\" />\r\n                </svg>\r\n                <span>Download</span>\r\n              </a>\r\n            </div>\r\n          )}\r\n\r\n          {/* Task Ref - Clickable */}\r\n          <div className=\"flex flex-col relative\">\r\n            <Label className=\"text-xs font-bold text-gray-800 mb-1 flex items-center gap-1\">\r\n              <FileText className=\"h-3 w-3\" />\r\n              Reference\r\n            </Label>\r\n            <div className=\"inline-flex items-center gap-2\">\r\n              {/* Task ID chip */}\r\n              <span className=\"px-2 py-0.5 rounded-full bg-blue-500 text-white text-xs\">\r\n                {bugDetails.taskRef}\r\n              </span>\r\n              {/* Redirect icon with tooltip */}\r\n              <span className=\"relative group cursor-pointer text-blue-500\">\r\n                <ExternalLinkIcon className=\"w-4 h-4\" />\r\n                <span className=\"absolute -top-7 left-1/2 transform -translate-x-1/2 px-2 py-1 text-xs bg-gray-800 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap\">\r\n                  Click to view full task\r\n                </span>\r\n                <span\r\n                  onClick={() => router.push(`/task/${bugDetails.taskRef}`)}\r\n                  className=\"absolute inset-0\"\r\n                />\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Title - Larger Area */}\r\n          <div className=\"sm:col-span-2 lg:col-span-3 flex flex-col\">\r\n            <Label className=\"text-xs font-bold text-gray-800 mb-1 flex items-center gap-1\">\r\n              <FileText className=\"h-3 w-3\" />\r\n              Title\r\n            </Label>\r\n            <p className=\"text-sm text-black p-3\">{bugDetails.title}</p>\r\n          </div>\r\n\r\n          {/* Description - Larger Area */}\r\n          {bugDetails.description && (\r\n            <div className=\"sm:col-span-2 lg:col-span-3 flex flex-col\">\r\n              <Label className=\"text-xs font-bold text-gray-800 mb-1 flex items-center gap-1\">\r\n                <FileText className=\"h-3 w-3\" />\r\n                Description\r\n              </Label>\r\n              <p className=\"text-sm text-black p-3 rounded-md border border-gray-200 whitespace-pre-wrap break-words\">\r\n                {bugDetails.description}\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Delay Reason - View or Input, Larger Area */}\r\n          {(isOverdue && !isResolved && isAssignedToCurrentUser) || bugDetails.delayReason ? (\r\n            <div className=\"sm:col-span-2 lg:col-span-3 flex flex-col\">\r\n              <Label className=\"text-xs font-bold text-gray-800 mb-1 flex items-center gap-1\">\r\n                <Clock className=\"h-3 w-3\" />\r\n                Delay Reason\r\n              </Label>\r\n              {isResolved || bugDetails.delayReason ? (\r\n                <p className=\"text-sm text-black p-3 rounded-md border border-gray-200\">\r\n                  {bugDetails.delayReason || \"N/A\"}\r\n                </p>\r\n              ) : (\r\n                <Textarea\r\n                  className=\"text-sm text-black p-3 rounded-md border border-gray-200 min-h-[4rem] max-h-40 resize-y focus:border-gray-500 focus:ring focus:ring-gray-200\"\r\n                  value={delayReason}\r\n                  onChange={(e) => setDelayReason(e.target.value)}\r\n                  placeholder=\"Enter reason for delay\"\r\n                />\r\n              )}\r\n            </div>\r\n          ) : null}\r\n\r\n          {/* Resolution Note - Input if Resolving, View if Resolved, Larger Area */}\r\n          {(!isResolved && isAssignedToCurrentUser) || bugDetails.resolutionNote ? (\r\n            <div className=\"sm:col-span-2 lg:col-span-3 flex flex-col\">\r\n              <Label className=\"text-xs font-bold text-gray-800 mb-sticky top-0 1 flex items-center gap-1\">\r\n                <CheckCircle className=\"h-3 w-3\" />\r\n                Resolution Note\r\n              </Label>\r\n              {!isResolved && isAssignedToCurrentUser ? (\r\n                <Textarea\r\n                  className=\"text-sm text-black p-3 rounded-md border border-gray-200 min-h-[6rem] max-h-40 resize-y focus:border-gray-500 focus:ring focus:ring-gray-200\"\r\n                  value={resolutionNote}\r\n                  onChange={(e) => setResolutionNote(e.target.value)}\r\n                  placeholder=\"Enter resolution note\"\r\n                />\r\n              ) : (\r\n                <p className=\"text-sm text-black p-3 rounded-md border border-gray-200\">\r\n                  {bugDetails.resolutionNote}\r\n                </p>\r\n              )}\r\n            </div>\r\n          ) : null}\r\n\r\n          {/* Error Message */}\r\n          {error && (\r\n            <div className=\"sm:col-span-2 lg:col-span-3 text-xs text-red-600 font-medium bg-red-50 border border-red-200 rounded p-3\">\r\n              {error}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <DialogFooter className=\"px-4 sm:px-6 py-4 border-t border-gray-200\">\r\n          {!isResolved && isAssignedToCurrentUser && (\r\n            <Button\r\n              onClick={handleResolveBug}\r\n              className=\"bg-blue-700 text-white hover:bg-blue-700 font-semibold\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\r\n                  Resolving...\r\n                </>\r\n              ) : (\r\n                \"Resolve Bug\"\r\n              )}\r\n            </Button>\r\n          )}\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default BugDetailsViewModal;\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 803, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/issues/components/bug/BugEditModal.jsx"],"sourcesContent":["\r\n\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogClose,\r\n} from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\r\nimport { Calendar } from \"@/components/ui/calendar\";\r\nimport { Bug, X, Loader, Flag, CalendarIcon, Clock, Info } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { format, parseISO } from \"date-fns\";\r\nimport { getBugById, editBug } from \"@/modules/project-management/issues/slices/bugSlice\";\r\n\r\nconst EditBugModal = ({bugId, isOpen, onOpenChange }) => {\r\n    \r\n\r\n \r\n   \r\n\r\n  const dispatch = useDispatch();\r\n  const { bugDetails, loading } = useSelector((state) => state.bugs);\r\n\r\n  const [bugTitle, setBugTitle] = useState(\"\");\r\n  const [bugDescription, setBugDescription] = useState(\"\");\r\n  const [priority, setPriority] = useState(\"Medium\");\r\n  const [selectedDate, setSelectedDate] = useState(null);\r\n  const [selectedTime, setSelectedTime] = useState(\"\");\r\n  const [attachment, setAttachment] = useState(null);\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  // Fetch bug details when modal opens or bugId changes\r\n  useEffect(() => {\r\n   \r\n    \r\n    if (bugId && isOpen) {\r\n      dispatch(getBugById(bugId));\r\n    }\r\n  }, [bugId, isOpen, dispatch]);\r\n\r\n  \r\n   \r\n  // Auto-fill form when bugDetails are loaded\r\n  useEffect(() => {\r\n    if (bugDetails) {\r\n      setBugTitle(bugDetails.title || \"\");\r\n      setBugDescription(bugDetails.description || \"\");\r\n      setPriority(bugDetails.priority || \"Medium\");\r\n\r\n      if (bugDetails.deadline) {\r\n        const dateObj = parseISO(bugDetails.deadline);\r\n        setSelectedDate(dateObj);\r\n        setSelectedTime(`${String(dateObj.getHours()).padStart(2, \"0\")}:${String(dateObj.getMinutes()).padStart(2, \"0\")}`);\r\n      }\r\n\r\n      // Cannot prefill file input for security reasons\r\n      setAttachment(null);\r\n    }\r\n  }, [bugDetails]);\r\n\r\n  const resetForm = () => {\r\n    setBugTitle(\"\");\r\n    setBugDescription(\"\");\r\n    setPriority(\"Medium\");\r\n    setSelectedDate(null);\r\n    setSelectedTime(\"\");\r\n    setAttachment(null);\r\n    setErrors({});\r\n  };\r\n\r\n  const handleClose = () => {\r\n    resetForm();\r\n    onOpenChange(false);\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    if (!bugTitle.trim()) newErrors.title = \"Bug title is required.\";\r\n    if (!bugDescription.trim()) newErrors.description = \"Bug description is required.\";\r\n    if (!priority) newErrors.priority = \"Please select a priority.\";\r\n    if (!selectedDate) newErrors.deadline = \"Please select a deadline date.\";\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleEditBug = async () => {\r\n    if (!validateForm()) return;\r\n\r\n    setIsSubmitting(true);\r\n\r\n    const pad = (n) => (n < 10 ? \"0\" + n : n);\r\n\r\n    let combinedDateTime = null;\r\n    if (selectedDate) {\r\n      const dateObj = new Date(selectedDate);\r\n      const [hours, minutes] = selectedTime\r\n        ? selectedTime.split(\":\").map(Number)\r\n        : [23, 59];\r\n      dateObj.setHours(hours, minutes, 0, 0);\r\n      combinedDateTime =\r\n        dateObj.getFullYear() +\r\n        \"-\" +\r\n        pad(dateObj.getMonth() + 1) +\r\n        \"-\" +\r\n        pad(dateObj.getDate()) +\r\n        \"T\" +\r\n        pad(dateObj.getHours()) +\r\n        \":\" +\r\n        pad(dateObj.getMinutes()) +\r\n        \":\" +\r\n        pad(dateObj.getSeconds());\r\n    }\r\n\r\n    const bugData = {\r\n      title: bugTitle.trim(),\r\n      description: bugDescription.trim(),\r\n      priority,\r\n      deadline: combinedDateTime,\r\n      attachment,\r\n    };\r\n\r\n    try {\r\n      await dispatch(editBug({ bugId, bugData })).unwrap();\r\n      \r\n      toast.success(\"Bug updated successfully!\");\r\n      handleClose();\r\n    } catch (err) {\r\n      toast.error(err || \"Failed to update bug.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const isFormValid =\r\n    bugTitle.trim() && bugDescription.trim() && priority && selectedDate;\r\n  const isDisabled = isSubmitting || !isFormValid || loading.bugDetailsFetch;\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"w-full max-w-full h-[100vh] sm:max-w-6xl sm:max-h-[85vh] bg-white shadow-lg border border-gray-200 rounded-lg p-2\">\r\n        <DialogHeader className=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-3 border-b border-gray-200 sticky top-0 z-10 h-16 flex items-center\">\r\n          <div className=\"flex justify-between items-center w-full\">\r\n            <DialogTitle className=\"text-base sm:text-lg font-bold text-gray-800 flex items-center\">\r\n              <Bug className=\"mr-2 h-4 w-4 text-blue-500\" /> Edit Bug\r\n            </DialogTitle>\r\n            <DialogClose asChild>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                className=\"text-gray-500 hover:bg-gray-100 rounded-full h-8 w-8\"\r\n                onClick={handleClose}\r\n              >\r\n                <X className=\"h-4 w-4\" />\r\n              </Button>\r\n            </DialogClose>\r\n          </div>\r\n        </DialogHeader>\r\n\r\n        <div className=\"px-4 sm:px-6 overflow-y-auto max-h-[calc(85vh-64px)]\">\r\n          <form\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n              handleEditBug();\r\n            }}\r\n            className=\"space-y-4\"\r\n          >\r\n            {/* Title */}\r\n            <div>\r\n              <label className=\"flex items-center text-sm font-medium mb-2\">\r\n                <Bug className=\"h-4 w-4 text-blue-500 mr-2\" /> Title{\" \"}\r\n                <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <Textarea\r\n                value={bugTitle}\r\n                onChange={(e) => {\r\n                  setBugTitle(e.target.value);\r\n                  setErrors((prev) => ({ ...prev, title: \"\" }));\r\n                }}\r\n                className=\"w-full border rounded-lg p-3 text-sm\"\r\n                placeholder=\"Enter bug title\"\r\n                disabled={isSubmitting}\r\n              />\r\n              {errors.title && (\r\n                <p className=\"text-red-500 text-xs mt-1 flex items-center\">\r\n                  <X className=\"h-3 w-3 mr-1\" />\r\n                  {errors.title}\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Priority / Date / Time */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"flex items-center text-sm font-medium mb-2\">\r\n                  <Flag className=\"h-4 w-4 text-blue-500 mr-2\" /> Priority{\" \"}\r\n                  <span className=\"text-red-500 ml-1\">*</span>\r\n                </label>\r\n                <Select\r\n                  value={priority}\r\n                  onValueChange={setPriority}\r\n                  disabled={isSubmitting}\r\n                >\r\n                  <SelectTrigger className=\"w-full h-10\">\r\n                    <SelectValue placeholder=\"Select priority\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Low\">Low</SelectItem>\r\n                    <SelectItem value=\"Medium\">Medium</SelectItem>\r\n                    <SelectItem value=\"High\">High</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"flex items-center text-sm font-medium mb-2\">\r\n                  <CalendarIcon className=\"h-4 w-4 text-blue-500 mr-2\" /> Deadline{\" \"}\r\n                  <span className=\"text-red-500 ml-1\">*</span>\r\n                </label>\r\n                <Popover>\r\n                  <PopoverTrigger asChild>\r\n                    <Button variant=\"outline\" className=\"w-full h-10\">\r\n                      {selectedDate\r\n                        ? format(selectedDate, \"MMM dd, yyyy\")\r\n                        : \"Select date\"}\r\n                    </Button>\r\n                  </PopoverTrigger>\r\n                  <PopoverContent>\r\n                    <Calendar\r\n                      mode=\"single\"\r\n                      selected={selectedDate}\r\n                      onSelect={setSelectedDate}\r\n                    />\r\n                  </PopoverContent>\r\n                </Popover>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"flex items-center text-sm font-medium mb-2\">\r\n                  <Clock className=\"h-4 w-4 text-blue-500 mr-2\" /> Time\r\n                </label>\r\n                <Input\r\n                  type=\"time\"\r\n                  value={selectedTime}\r\n                  onChange={(e) => setSelectedTime(e.target.value)}\r\n                  className=\"w-full h-10\"\r\n                  disabled={isSubmitting}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div>\r\n              <label className=\"flex items-center text-sm font-medium mb-2\">\r\n                <Info className=\"h-4 w-4 text-blue-500 mr-2\" /> Description{\" \"}\r\n                <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <Textarea\r\n                value={bugDescription}\r\n                onChange={(e) => setBugDescription(e.target.value)}\r\n                className=\"w-full h-[40vh] p-3\"\r\n                placeholder=\"Describe the issue...\"\r\n                disabled={isSubmitting}\r\n              />\r\n            </div>\r\n\r\n            {/* Attachment */}\r\n            <div>\r\n              <label className=\"flex items-center text-sm font-medium mb-2\">\r\n                Attachment (optional)\r\n              </label>\r\n              <Input\r\n                type=\"file\"\r\n                accept=\"image/*,application/pdf,.doc,.docx\"\r\n                onChange={(e) => setAttachment(e.target.files[0] || null)}\r\n                disabled={isSubmitting}\r\n              />\r\n              {bugDetails?.attachmentUrl && !attachment && (\r\n                <p className=\"text-xs mt-1\">\r\n                  Current file:{\" \"}\r\n                  <a\r\n                    href={bugDetails.attachmentUrl}\r\n                    target=\"_blank\"\r\n                    className=\"text-blue-600 underline\"\r\n                  >\r\n                    View\r\n                  </a>\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex justify-end gap-3 pt-4 border-t mt-4\">\r\n              <DialogClose asChild>\r\n                <Button type=\"button\" variant=\"outline\" disabled={isSubmitting}>\r\n                  Cancel\r\n                </Button>\r\n              </DialogClose>\r\n              <Button\r\n                className=\"bg-blue-700\"\r\n                type=\"submit\"\r\n                disabled={isDisabled}\r\n              >\r\n                {isSubmitting ? (\r\n                  <Loader className=\"animate-spin h-4 w-4 mr-2\" />\r\n                ) : (\r\n                  \"Update Bug\"\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default EditBugModal;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1471, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/issues/components/bug/BugAssignModal.jsx"],"sourcesContent":["\r\n\r\n\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogClose,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Loader2, Users, User, Calendar, X } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport { fetchTeamByProjectId } from \"@/modules/project-management/team/slices/teamSlice\";\r\nimport { assignBug, fetchBugByProjectId } from \"@/modules/project-management/issues/slices/bugSlice\";\r\n\r\nconst BugAssignModal = ({ isOpen, onOpenChange, bug, bugId, projectId, onAssign }) => {\r\n  const dispatch = useDispatch();\r\n  const { teamsByProject: teams, status: teamStatus } = useSelector(\r\n    (state) => state.team\r\n  );\r\n\r\n  const [selectedTeam, setSelectedTeam] = useState(null);\r\n  const [selectedMember, setSelectedMember] = useState(\"\");\r\n  const [deadline, setDeadline] = useState(\"\");\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  // Fetch team when modal opens\r\n  useEffect(() => {\r\n    if (projectId && isOpen) dispatch(fetchTeamByProjectId(projectId));\r\n  }, [dispatch, projectId, isOpen]);\r\n\r\n  // Reset state on modal close\r\n  useEffect(() => {\r\n    if (!isOpen) {\r\n      setSelectedTeam(null);\r\n      setSelectedMember(\"\");\r\n      setDeadline(\"\");\r\n      setIsSubmitting(false);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const handleTeamSelect = (value) => {\r\n    const team = teams.find((t) => t.teamId === value);\r\n    setSelectedTeam(team);\r\n    setSelectedMember(\"\");\r\n  };\r\n\r\n  const handleAssign = async () => {\r\n    if (!selectedTeam) return toast.error(\"Please select a team\");\r\n    if (!selectedMember) return toast.error(\"Please select a team member\");\r\n    if (!deadline) return toast.error(\"Please select a deadline\");\r\n\r\n    const payload = {\r\n      assignedTo: selectedMember,\r\n      deadline,\r\n    };\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      await dispatch(assignBug({ bug_id: bugId, payload })).unwrap();\r\n\r\n      // âœ… Refresh bug list after success\r\n      await dispatch(fetchBugByProjectId(projectId));\r\n\r\n      toast.success(\"Bug assigned successfully!\");\r\n      if (onAssign) onAssign({ ...payload, bug_id: bugId });\r\n\r\n      onOpenChange(false);\r\n    } catch (error) {\r\n      toast.error(error || \"Failed to assign bug\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-[95vw] sm:max-w-md bg-white shadow-lg border border-gray-200 rounded-lg p-6\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"text-lg font-semibold text-gray-900 flex items-center justify-between\">\r\n            <span>\r\n              Assign Bug:{\" \"}\r\n              {bug?.bug_id\r\n                }\r\n            </span>\r\n           \r\n          </DialogTitle>\r\n        </DialogHeader>\r\n\r\n        {/* FORM FIELDS */}\r\n        <div className=\"space-y-4 mt-4\">\r\n          {/* Select Team */}\r\n          <div>\r\n            <label className=\"text-sm font-medium text-gray-700 flex items-center mb-2\">\r\n              <Users className=\"h-4 w-4 text-blue-500 mr-2\" />\r\n              Select Team\r\n            </label>\r\n            <Select\r\n              value={selectedTeam?.teamId || \"\"}\r\n              onValueChange={handleTeamSelect}\r\n              disabled={teamStatus === \"loading\"}\r\n            >\r\n              <SelectTrigger className=\"w-full border border-gray-300 rounded-lg text-sm h-10\">\r\n                <SelectValue\r\n                  placeholder={\r\n                    teamStatus === \"loading\" ? \"Loading teams...\" : \"Select team\"\r\n                  }\r\n                />\r\n              </SelectTrigger>\r\n              <SelectContent className=\"bg-white shadow-lg border border-gray-200 rounded-lg text-black max-h-48\">\r\n                {teams.map((team) => (\r\n                  <SelectItem key={team.teamId} value={team.teamId}>\r\n                    {team.teamName}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          {/* Select Team Member (Dropdown) */}\r\n          {selectedTeam && (\r\n            <div>\r\n              <label className=\"text-sm font-medium text-gray-700 flex items-center mb-2\">\r\n                <User className=\"h-4 w-4 text-blue-500 mr-2\" />\r\n                Select Team Member\r\n              </label>\r\n              {selectedTeam.teamMembers?.length > 0 ? (\r\n                <Select\r\n                  value={selectedMember || \"\"}\r\n                  onValueChange={setSelectedMember}\r\n                >\r\n                  <SelectTrigger className=\"w-full border border-gray-300 rounded-lg text-sm h-10\">\r\n                    <SelectValue placeholder=\"Select member\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent className=\"bg-white shadow-lg border border-gray-200 rounded-lg text-black max-h-48\">\r\n                    {selectedTeam.teamMembers.map((member) => (\r\n                      <SelectItem key={member.memberId} value={member.memberId}>\r\n                        {member.memberName}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              ) : (\r\n                <p className=\"text-sm text-gray-500\">No members in this team.</p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Deadline */}\r\n          <div>\r\n            <label className=\"text-sm font-medium text-gray-700 flex items-center mb-2\">\r\n              <Calendar className=\"h-4 w-4 text-blue-500 mr-2\" />\r\n              Deadline (Date & Time)\r\n            </label>\r\n            <input\r\n              type=\"datetime-local\"\r\n              value={deadline}\r\n              onChange={(e) => setDeadline(e.target.value)}\r\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200\">\r\n          <DialogClose asChild>\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"text-gray-700 border border-gray-300 hover:bg-gray-50\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </DialogClose>\r\n          <Button\r\n            onClick={handleAssign}\r\n            disabled={isSubmitting || teamStatus === \"loading\"}\r\n            className=\"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2\"\r\n          >\r\n            {isSubmitting ? (\r\n              <>\r\n                <Loader2 className=\"h-4 w-4 animate-spin\" /> Assigning...\r\n              </>\r\n            ) : (\r\n              \"Assign Bug\"\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default BugAssignModal;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1852, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/issues/components/bug/ReportIssueForm.jsx"],"sourcesContent":["\r\n\r\n\r\n\r\n\r\n\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogClose,\r\n} from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { toast } from \"sonner\";\r\nimport { createIssue } from \"@/modules/project-management/issues/slices/issuesSlice\";\r\nimport { FileText, Loader2, Paperclip, X, File, Image as ImageIcon } from \"lucide-react\";\r\n\r\nconst ReportIssueForm = ({ onClose, projectData, onIssueReported, isOpen = true }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [priority, setPriority] = useState(\"Medium\");\r\n  const [attachment, setAttachment] = useState(null);\r\n  const [previewUrl, setPreviewUrl] = useState(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const resetForm = () => {\r\n    setTitle(\"\");\r\n    setDescription(\"\");\r\n    setPriority(\"Medium\");\r\n    setAttachment(null);\r\n    setPreviewUrl(null);\r\n    setErrors({});\r\n  };\r\n\r\n  const handleClose = () => {\r\n    resetForm();\r\n    onClose();\r\n  };\r\n\r\n  // âœ… Validate form\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    if (!title.trim()) newErrors.title = \"Title is required.\";\r\n    if (!description.trim()) newErrors.description = \"Description is required.\";\r\n    if (!projectData?.projectId) newErrors.projectId = \"Project ID is required.\";\r\n    if (!projectData?.projectName) newErrors.projectName = \"Project Name is required.\";\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  // ðŸ“Ž Handle file select and preview\r\n  const handleFileSelect = (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    const allowed = [\r\n      \"application/pdf\",\r\n      \"image/jpeg\",\r\n      \"image/png\",\r\n      \"application/msword\",\r\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n    ];\r\n\r\n    if (!allowed.includes(file.type)) {\r\n      toast.error(\"Only PDF, JPG, PNG, and DOC/DOCX files are allowed.\");\r\n      return;\r\n    }\r\n\r\n    setAttachment(file);\r\n\r\n    // Show preview if image\r\n    if (file.type.startsWith(\"image/\")) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => setPreviewUrl(reader.result);\r\n      reader.readAsDataURL(file);\r\n    } else {\r\n      setPreviewUrl(null);\r\n    }\r\n  };\r\n\r\n  // ðŸš€ Submit\r\n  const handleSubmit = async () => {\r\n    if (!validateForm()) return;\r\n    setIsSubmitting(true);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"projectId\", projectData.projectId);\r\n    formData.append(\"projectName\", projectData.projectName);\r\n    formData.append(\"title\", title.trim());\r\n    formData.append(\"description\", description.trim());\r\n    formData.append(\"priority\", priority);\r\n\r\n    if (attachment) {\r\n      formData.append(\"attachment\", attachment);\r\n    }\r\n\r\n    try {\r\n      await dispatch(createIssue(formData)).unwrap();\r\n      toast.success(\"Issue reported successfully!\");\r\n      resetForm();\r\n      onIssueReported?.();\r\n      onClose();\r\n    } catch (err) {\r\n      toast.error(err?.message || \"Failed to report issue.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const isDisabled = isSubmitting || !title.trim() || !description.trim();\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={(open) => !open && handleClose()}>\r\n      <DialogContent className=\"max-w-3xl bg-white border border-gray-200 rounded-xl shadow-lg p-4 sm:p-6\">\r\n        <DialogHeader className=\"border-b pb-3\">\r\n          <DialogTitle className=\"text-lg font-semibold text-gray-800 flex items-center\">\r\n            <FileText className=\"mr-2 h-5 w-5 text-blue-500\" /> Report Issue\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <form\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            handleSubmit();\r\n          }}\r\n          className=\"space-y-5 mt-4\"\r\n        >\r\n          {/* Title */}\r\n          <div>\r\n            <label className=\"text-sm font-medium mb-2 block\">\r\n              Title <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <Input\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              placeholder=\"Enter issue title\"\r\n              disabled={isSubmitting}\r\n            />\r\n          </div>\r\n\r\n          {/* Priority */}\r\n          <div>\r\n            <label className=\"text-sm font-medium mb-2 block\">\r\n              Priority <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <Select value={priority} onValueChange={setPriority} disabled={isSubmitting}>\r\n              <SelectTrigger className=\"w-full\">\r\n                <SelectValue placeholder=\"Select priority\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"Low\">Low</SelectItem>\r\n                <SelectItem value=\"Medium\">Medium</SelectItem>\r\n                <SelectItem value=\"High\">High</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <div>\r\n            <label className=\"text-sm font-medium mb-2 block\">\r\n              Description <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <Textarea\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              placeholder=\"Describe the issue in detail...\"\r\n              className=\"min-h-[150px]\"\r\n              disabled={isSubmitting}\r\n            />\r\n          </div>\r\n\r\n          {/* Attachment + Preview */}\r\n          <div>\r\n            <label className=\"text-sm font-medium mb-2 block\">\r\n              Attachment (PDF, JPG, PNG, DOCX)\r\n            </label>\r\n            <Input\r\n              type=\"file\"\r\n              accept=\".pdf,image/*,.doc,.docx\"\r\n              onChange={handleFileSelect}\r\n              disabled={isSubmitting}\r\n            />\r\n\r\n            {attachment && (\r\n              <div className=\"mt-3 p-3 border rounded-lg bg-gray-50 flex items-start justify-between\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  {previewUrl ? (\r\n                    <img\r\n                      src={previewUrl}\r\n                      alt=\"Preview\"\r\n                      className=\"w-16 h-16 object-cover rounded-md border\"\r\n                    />\r\n                  ) : (\r\n                    <div className=\"flex items-center justify-center w-16 h-16 border rounded-md bg-white\">\r\n                      {attachment.type === \"application/pdf\" ? (\r\n                        <FileText className=\"text-red-500\" size={24} />\r\n                      ) : (\r\n                        <File className=\"text-gray-400\" size={24} />\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-700\">{attachment.name}</p>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      {(attachment.size / 1024).toFixed(1)} KB\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    setAttachment(null);\r\n                    setPreviewUrl(null);\r\n                  }}\r\n                  className=\"text-red-500 hover:text-red-700\"\r\n                >\r\n                  <X size={16} />\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex justify-end gap-3 pt-4 border-t border-gray-100\">\r\n            <DialogClose asChild>\r\n              <Button type=\"button\" variant=\"outline\" disabled={isSubmitting}>\r\n                Cancel\r\n              </Button>\r\n            </DialogClose>\r\n            <Button\r\n              type=\"submit\"\r\n              className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n              disabled={isDisabled}\r\n            >\r\n              {isSubmitting ? (\r\n                <>\r\n                  <Loader2 className=\"h-4 w-4 animate-spin mr-2\" /> Submitting...\r\n                </>\r\n              ) : (\r\n                \"Report Issue\"\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ReportIssueForm;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2361, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/issues/components/bug/ProjectbugList.js"],"sourcesContent":["\r\n\r\n\r\n\r\n\r\n\r\n\"use client\";\r\n\r\nimport { format } from \"date-fns\";\r\nimport { useEffect, useState, useMemo } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n  fetchBugByProjectId,\r\n  downloadBugsByProjectId,\r\n  downloadBugsByMemberId,\r\n  fetchEmployeeProjectBugs,\r\n} from \"@/modules/project-management/issues/slices/bugSlice\";\r\nimport { fetchProjectById } from \"@/modules/project-management/project/slices/projectSlice\";\r\nimport { getTeamMembersByProjectId } from \"@/modules/project-management/team/slices/teamSlice\";\r\nimport {\r\n  X,\r\n  CalendarIcon,\r\n  Filter,\r\n  Download,\r\n  Edit,\r\n  Plus,\r\n} from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from \"@/components/ui/popover\";\r\nimport { Calendar } from \"@/components/ui/calendar\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { formatDateTimeIST } from \"@/utils/formatDate\";\r\nimport { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\nimport BugDetailsViewModal from \"./BugDetailsViewModal\";\r\nimport BugEditModal from \"./BugEditModal\";\r\nimport BugAssignModal from \"./BugAssignModal\"; // Import the new component\r\nimport ReportIssueForm from \"./ReportIssueForm\";\r\n\r\nconst ProjectbugList = ({ projectId, teamLeadId }) => {\r\n  const { currentUser, isTeamLead } = useCurrentUser(teamLeadId);\r\n  const { project: { data: projectData } } = useSelector((state) => state.project);\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n\r\n  /* ----------  STATE  ---------- */\r\n  const [showFilterDialog, setShowFilterDialog] = useState(false);\r\n  const [showViewModal, setShowViewModal] = useState(false);\r\n  const [selectedBug, setSelectedBug] = useState(null);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [selectedBugForEdit, setSelectedBugForEdit] = useState(null);\r\n  const [showAssignModal, setShowAssignModal] = useState(false); // New state for assign modal\r\n  const [selectedBugForAssign, setSelectedBugForAssign] = useState(null); // New state for selected bug to assign\r\n  const [viewMode, setViewMode] = useState(\"all\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [tempPriorityFilter, setTempPriorityFilter] = useState(\"all\");\r\n  const [tempStatusFilter, setTempStatusFilter] = useState(\"all\");\r\n  const [tempAssignedToFilter, setTempAssignedToFilter] = useState(\"all\");\r\n  const [tempDateFrom, setTempDateFrom] = useState(null);\r\n  const [tempDateTo, setTempDateTo] = useState(null);\r\n  const [priorityFilter, setPriorityFilter] = useState(\"all\");\r\n  const [statusFilter, setStatusFilter] = useState(\"all\");\r\n  const [assignedToFilter, setAssignedToFilter] = useState(\"all\");\r\n  const [dateFrom, setDateFrom] = useState(null);\r\n  const [dateTo, setDateTo] = useState(null);\r\n  const [sortConfig, setSortConfig] = useState({ key: \"\", direction: \"asc\" });\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const bugsPerPage = 10;\r\n  const [showCreateIssue, setShowCreateIssue] = useState(false);\r\n\r\n  /* ----------  REDUX SELECTORS  ---------- */\r\n  const bugsByProjectId = useSelector((state) => state.bugs.bugsByProjectId);\r\n  const employeeProjectBugs = useSelector((state) => state.bugs.employeeProjectBugs);\r\n  const teamMembersByProjectId = useSelector((state) => state.team.teamMembersByProjectId);\r\n  const loading = useSelector((state) => state.bugs.loading);\r\n\r\n  const employeeId = currentUser?.id;\r\n\r\n  /* ----------  FETCH DATA  ---------- */\r\n  useEffect(() => {\r\n    if (projectId) {\r\n      dispatch(fetchBugByProjectId(projectId));\r\n      dispatch(getTeamMembersByProjectId(projectId));\r\n    }\r\n  }, [dispatch, projectId]);\r\n\r\n  useEffect(() => {\r\n    if (viewMode === \"my\" && employeeId) {\r\n      dispatch(fetchEmployeeProjectBugs({ projectId, employeeId }));\r\n    } else {\r\n      dispatch(fetchBugByProjectId(projectId));\r\n    }\r\n  }, [dispatch, viewMode, employeeId,projectId]);\r\n\r\n  /* ----------  ROLE LOGIC  ---------- */\r\n  const isCpc = currentUser?.role === \"cpc\";\r\n  const showAllViewOption = isCpc || isTeamLead;\r\n  const showAssignedFilter = showAllViewOption && viewMode === \"all\";\r\n  const showActionColumn = viewMode === \"all\" && (isCpc || isTeamLead);\r\n\r\n  useEffect(() => {\r\n    if (!showAllViewOption) setViewMode(\"my\");\r\n  }, [showAllViewOption]);\r\n\r\n  /* ----------  BUG LIST  ---------- */\r\n  const bugs = useMemo(() => {\r\n    return viewMode === \"my\" ? employeeProjectBugs || [] : bugsByProjectId || [];\r\n  }, [viewMode, employeeProjectBugs, bugsByProjectId]);\r\n\r\n  /* ----------  HELPERS  ---------- */\r\n  const getInitials = (name) => {\r\n    if (!name) return \"N/A\";\r\n    if (name === currentUser?.name && viewMode === \"my\") return \"Me\";\r\n    const parts = name.split(\" \");\r\n    return parts.length > 1\r\n      ? `${parts[0][0]}${parts[1][0]}`.toUpperCase()\r\n      : name.slice(0, 2).toUpperCase();\r\n  };\r\n  const truncate = (s) => (s?.length > 50 ? `${s.slice(0, 50)}...` : s || \"\");\r\n\r\n  const assignedMembersMap = useMemo(() => {\r\n    const map = {};\r\n    (teamMembersByProjectId || []).forEach((m) => {\r\n      map[m.memberName] = m.memberId;\r\n    });\r\n    return map;\r\n  }, [teamMembersByProjectId]);\r\n\r\n  /* ----------  FILTER / SORT / SEARCH  ---------- */\r\n  const filteredBugs = useMemo(() => {\r\n    let list = [...bugs];\r\n    if (searchQuery) {\r\n      const q = searchQuery.toLowerCase();\r\n      list = list.filter(\r\n        (b) =>\r\n          b.title?.toLowerCase().includes(q) ||\r\n          b.bug_id?.toLowerCase().includes(q) ||\r\n          b?.assignedToDetails?.memberName?.toLowerCase().includes(q)\r\n      );\r\n    }\r\n    if (priorityFilter !== \"all\") list = list.filter((b) => b.priority === priorityFilter);\r\n    if (statusFilter !== \"all\") list = list.filter((b) => b.status === statusFilter);\r\n    if (assignedToFilter !== \"all\")\r\n      list = list.filter((b) => b?.assignedToDetails?.memberName === assignedToFilter);\r\n    if (dateFrom || dateTo) {\r\n      list = list.filter((b) => {\r\n        const d = new Date(b.createdAt);\r\n        return (!dateFrom || d >= dateFrom) && (!dateTo || d <= dateTo);\r\n      });\r\n    }\r\n    if (sortConfig.key) {\r\n      list.sort((a, b) => {\r\n        const getVal = (obj, path) =>\r\n          path.split(\".\").reduce((o, k) => (o ? o[k] : \"\"), obj);\r\n        const aVal = getVal(a, sortConfig.key);\r\n        const bVal = getVal(b, sortConfig.key);\r\n        const cmp = String(aVal || \"\").localeCompare(String(bVal || \"\"));\r\n        return sortConfig.direction === \"asc\" ? cmp : -cmp;\r\n      });\r\n    }\r\n    return list;\r\n  }, [\r\n    bugs,\r\n    searchQuery,\r\n    priorityFilter,\r\n    statusFilter,\r\n    assignedToFilter,\r\n    dateFrom,\r\n    dateTo,\r\n    sortConfig,\r\n  ]);\r\n\r\n  /* ----------  HANDLERS  ---------- */\r\n  const handleViewBug = (bug) => {\r\n    setSelectedBug(bug);\r\n    setShowViewModal(true);\r\n  };\r\n  const handleEditBug = (bug) => {\r\n    setSelectedBugForEdit(bug);\r\n    setShowEditModal(true);\r\n  };\r\n  const handleAssignBug = (bug) => {\r\n    setSelectedBugForAssign(bug);\r\n    setShowAssignModal(true);\r\n  };\r\n  const handleSort = (key) => {\r\n    setSortConfig((prev) => ({\r\n      key,\r\n      direction: prev.key === key && prev.direction === \"asc\" ? \"desc\" : \"asc\",\r\n    }));\r\n    setCurrentPage(1);\r\n  };\r\n  const handleResetFilters = () => {\r\n    setSearchQuery(\"\");\r\n    setPriorityFilter(\"all\");\r\n    setStatusFilter(\"all\");\r\n    setAssignedToFilter(\"all\");\r\n    setDateFrom(null);\r\n    setDateTo(null);\r\n    setTempPriorityFilter(\"all\");\r\n    setTempStatusFilter(\"all\");\r\n    setTempAssignedToFilter(\"all\");\r\n    setTempDateFrom(null);\r\n    setTempDateTo(null);\r\n    setSortConfig({ key: \"\", direction: \"asc\" });\r\n    setCurrentPage(1);\r\n  };\r\n  const handleApplyFilters = () => {\r\n    setPriorityFilter(tempPriorityFilter);\r\n    setStatusFilter(tempStatusFilter);\r\n    if (showAssignedFilter) setAssignedToFilter(tempAssignedToFilter);\r\n    setDateFrom(tempDateFrom);\r\n    setDateTo(tempDateTo);\r\n    setShowFilterDialog(false);\r\n    setCurrentPage(1);\r\n  };\r\n  const handleDownloadReport = async () => {\r\n    try {\r\n      if (assignedToFilter !== \"all\" && assignedMembersMap[assignedToFilter]) {\r\n        await dispatch(\r\n          downloadBugsByMemberId({\r\n            projectId,\r\n            memberId: assignedMembersMap[assignedToFilter],\r\n          })\r\n        ).unwrap();\r\n      } else {\r\n        await dispatch(downloadBugsByProjectId(projectId)).unwrap();\r\n      }\r\n      toast.success(\"Report downloaded!\");\r\n    } catch {\r\n      toast.error(\"No Bug Found\");\r\n    }\r\n  };\r\n  const onIssueCreated = () => {\r\n    dispatch(fetchBugByProjectId(projectId));\r\n    toast.success(\"Issue created â€“ it will appear in the list shortly.\");\r\n  };\r\n\r\n  /* ----------  PAGINATION  ---------- */\r\n  const totalPages = Math.max(1, Math.ceil(filteredBugs.length / bugsPerPage));\r\n  const paginatedBugs = filteredBugs.slice(\r\n    (currentPage - 1) * bugsPerPage,\r\n    currentPage * bugsPerPage\r\n  );\r\n\r\n  const getPaginationButtons = () => {\r\n    const maxButtons = 8;\r\n    const buttons = [];\r\n    let startPage = Math.max(1, currentPage - Math.floor(maxButtons / 2));\r\n    let endPage = Math.min(totalPages, startPage + maxButtons - 1);\r\n    if (endPage - startPage + 1 < maxButtons) {\r\n      startPage = Math.max(1, endPage - maxButtons + 1);\r\n    }\r\n    for (let page = startPage; page <= endPage; page++) buttons.push(page);\r\n    return buttons;\r\n  };\r\n\r\n  return (\r\n    <TooltipProvider delayDuration={150} skipDelayDuration={0}>\r\n      <div className=\"w-full bg-white\">\r\n        <div className=\"space-y-2\">\r\n          {/* ---------- TOP BAR ---------- */}\r\n          <div className=\"flex flex-wrap gap-4\">\r\n            <div className=\"flex-1 min-w-[180px]\">\r\n              <div className=\"relative w-full\">\r\n                <Input\r\n                  placeholder=\"Search bugs...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  className=\"pl-10 text-sm w-full bg-white border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 rounded-lg\"\r\n                />\r\n              </div>\r\n            </div>\r\n            {showAllViewOption && (\r\n              <div className=\"flex-1 min-w-[140px]\">\r\n                <Select value={viewMode} onValueChange={setViewMode}>\r\n                  <SelectTrigger className=\"text-sm w-full bg-white border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 rounded-lg\">\r\n                    <SelectValue placeholder=\"View Mode\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent className=\"bg-white shadow-lg border-gray-200 rounded-lg\">\r\n                    <SelectItem value=\"my\">My Bugs</SelectItem>\r\n                    <SelectItem value=\"all\">All Bugs</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            )}\r\n            <div className=\"flex-1 min-w-[140px]\">\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"w-full bg-white text-black border-gray-300 hover:bg-gray-100 rounded-lg text-sm flex items-center justify-center\"\r\n                onClick={() => setShowFilterDialog(true)}\r\n              >\r\n                Apply Filters <Filter className=\"w-4 h-4 ml-2\" />\r\n              </Button>\r\n            </div>\r\n            <div className=\"flex-1 min-w-[140px]\">\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"w-full bg-white text-black border-gray-300 hover:bg-gray-100 rounded-lg text-sm flex items-center justify-center\"\r\n                onClick={handleResetFilters}\r\n              >\r\n                Reset Filters <X className=\"w-4 h-4 ml-2\" />\r\n              </Button>\r\n            </div>\r\n            {showAllViewOption && (\r\n              <div className=\"flex-1 min-w-[140px]\">\r\n                <Button\r\n                  variant=\"default\"\r\n                  className=\"w-full bg-blue-600 text-white hover:bg-blue-700 rounded-lg flex items-center justify-center\"\r\n                  onClick={handleDownloadReport}\r\n                >\r\n                  Download <Download className=\"w-4 h-4 ml-2\" />\r\n                </Button>\r\n              </div>\r\n            )}\r\n            <Button\r\n              className=\"bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm flex items-center gap-2\"\r\n              onClick={() => setShowCreateIssue(true)}\r\n            >\r\n              <Plus className=\"h-4 w-4\" />\r\n              Create Issue\r\n            </Button>\r\n          </div>\r\n\r\n          {/* ---------- FILTER DIALOG ---------- */}\r\n          <Dialog open={showFilterDialog} onOpenChange={setShowFilterDialog}>\r\n            <DialogContent className=\"max-w-[95vw] sm:max-w-md bg-white shadow-lg border-gray-200 rounded-lg\">\r\n              <DialogHeader>\r\n                <DialogTitle className=\"text-lg font-semibold text-gray-900\">Filter Bugs</DialogTitle>\r\n              </DialogHeader>\r\n              <div className=\"grid gap-4 py-4\">\r\n                <Select value={tempPriorityFilter} onValueChange={setTempPriorityFilter}>\r\n                  <SelectTrigger className=\"w-full bg-white border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 rounded-lg text-sm\">\r\n                    <SelectValue placeholder=\"Priority\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent className=\"bg-white shadow-lg border-gray-200 rounded-lg\">\r\n                    <SelectItem value=\"all\">All Priorities</SelectItem>\r\n                    <SelectItem value=\"Low\">Low</SelectItem>\r\n                    <SelectItem value=\"Medium\">Medium</SelectItem>\r\n                    <SelectItem value=\"High\">High</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n                <Select value={tempStatusFilter} onValueChange={setTempStatusFilter}>\r\n                  <SelectTrigger className=\"w-full bg-white border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 rounded-lg text-sm\">\r\n                    <SelectValue placeholder=\"Status\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent className=\"bg-white shadow-lg border-gray-200 rounded-lg\">\r\n                    <SelectItem value=\"all\">All Statuses</SelectItem>\r\n                    <SelectItem value=\"Pending\">Pending</SelectItem>\r\n                    <SelectItem value=\"In Progress\">In Progress</SelectItem>\r\n                    <SelectItem value=\"Resolved\">Resolved</SelectItem>\r\n                    <SelectItem value=\"Completed\">Completed</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n                {showAssignedFilter && (\r\n                  <Select value={tempAssignedToFilter} onValueChange={setTempAssignedToFilter}>\r\n                    <SelectTrigger className=\"w-full bg-white border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 rounded-lg text-sm\">\r\n                      <SelectValue placeholder=\"Assigned To\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent className=\"bg-white shadow-lg border-gray-200 rounded-lg\">\r\n                      <SelectItem value=\"all\">All Assigned</SelectItem>\r\n                      {(teamMembersByProjectId || []).map((m) => (\r\n                        <SelectItem key={m.memberId} value={m.memberName}>\r\n                          {m.memberName}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                )}\r\n                <Popover>\r\n                  <PopoverTrigger asChild>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      className={cn(\r\n                        \"w-full justify-between bg-white border-gray-300 hover:bg-gray-100 rounded-lg text-sm\",\r\n                        !tempDateFrom && \"text-gray-500\"\r\n                      )}\r\n                    >\r\n                      {tempDateFrom ? format(tempDateFrom, \"PPP\") : <span>From Date</span>}\r\n                      <CalendarIcon className=\"ml-2 h-4 w-4 text-black\" />\r\n                    </Button>\r\n                  </PopoverTrigger>\r\n                  <PopoverContent className=\"w-auto p-0 bg-white shadow-lg border-gray-200 rounded-lg\">\r\n                    <Calendar\r\n                      mode=\"single\"\r\n                      selected={tempDateFrom}\r\n                      onSelect={setTempDateFrom}\r\n                      initialFocus\r\n                      className=\"rounded-lg text-black\"\r\n                    />\r\n                  </PopoverContent>\r\n                </Popover>\r\n                <Popover>\r\n                  <PopoverTrigger asChild>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      className={cn(\r\n                        \"w-full justify-between bg-white border-gray-300 hover:bg-gray-100 rounded-lg text-sm\",\r\n                        !tempDateTo && \"text-gray-500\"\r\n                      )}\r\n                    >\r\n                      {tempDateTo ? format(tempDateTo, \"PPP\") : <span>To Date</span>}\r\n                      <CalendarIcon className=\"ml-2 h-4 w-4 text-black\" />\r\n                    </Button>\r\n                  </PopoverTrigger>\r\n                  <PopoverContent className=\"w-auto p-0 bg-white shadow-lg border-gray-200 rounded-lg\">\r\n                    <Calendar\r\n                      mode=\"single\"\r\n                      selected={tempDateTo}\r\n                      onSelect={setTempDateTo}\r\n                      initialFocus\r\n                      className=\"rounded-lg text-black\"\r\n                    />\r\n                  </PopoverContent>\r\n                </Popover>\r\n                <Button\r\n                  onClick={handleApplyFilters}\r\n                  className=\"bg-blue-600 text-white hover:bg-blue-700 rounded-lg text-sm\"\r\n                >\r\n                  Apply Filters\r\n                </Button>\r\n              </div>\r\n            </DialogContent>\r\n          </Dialog>\r\n\r\n          {/* ---------- TABLE ---------- */}\r\n          <div className=\"overflow-x-auto rounded-md border\">\r\n            <Table>\r\n              <TableHeader>\r\n                <TableRow className=\"bg-gray-50 text-xs sm:text-sm\">\r\n                  <TableHead className=\"font-bold text-gray-700 w-[60px]\">S.N</TableHead>\r\n                  <TableHead\r\n                    className=\"font-bold text-gray-700 cursor-pointer w-[300px] sm:w-[400px]\"\r\n                    onClick={() => handleSort(\"title\")}\r\n                  >\r\n                    Title\r\n                  </TableHead>\r\n                  <TableHead\r\n                    className=\"font-bold text-gray-700 cursor-pointer w-[100px]\"\r\n                    onClick={() => handleSort(\"assignedToDetails.memberName\")}\r\n                  >\r\n                    Assignee\r\n                  </TableHead>\r\n                  <TableHead\r\n                    className=\"font-bold text-gray-700 cursor-pointer w-[100px]\"\r\n                    onClick={() => handleSort(\"priority\")}\r\n                  >\r\n                    Priority\r\n                  </TableHead>\r\n                  <TableHead\r\n                    className=\"font-bold text-gray-700 cursor-pointer w-[150px]\"\r\n                    onClick={() => handleSort(\"deadline\")}\r\n                  >\r\n                    Deadline\r\n                  </TableHead>\r\n                  <TableHead\r\n                    className=\"font-bold text-gray-700 cursor-pointer w-[100px]\"\r\n                    onClick={() => handleSort(\"status\")}\r\n                  >\r\n                    Status\r\n                  </TableHead>\r\n                  {showActionColumn && <TableHead className=\"font-bold text-gray-700 w-[60px]\">Action</TableHead>}\r\n                </TableRow>\r\n              </TableHeader>\r\n              <TableBody>\r\n                {paginatedBugs.length === 0 ? (\r\n                  <TableRow>\r\n                    <TableCell\r\n                      colSpan={showActionColumn ? 7 : 6}\r\n                      className=\"text-center text-gray-500 py-6 text-sm\"\r\n                    >\r\n                      No bugs found\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : (\r\n                  paginatedBugs.map((bug, index) => (\r\n                    <TableRow\r\n                      key={bug._id}\r\n                      className=\"text-xs sm:text-sm cursor-pointer transition-all duration-300 ease-in-out hover:bg-gray-600 hover:bg-opacity-100 hover:shadow-md\"\r\n                      onClick={() => handleViewBug(bug)}\r\n                    >\r\n                      <TableCell>{(currentPage - 1) * bugsPerPage + index + 1}</TableCell>\r\n                      <TableCell>\r\n                        <span className=\"line-clamp-1\">{truncate(bug.title)}</span>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {bug?.assignedToDetails?.memberName ? (\r\n                          <Tooltip>\r\n                            <TooltipTrigger>\r\n                              <div className=\"w-8 h-8 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-xs font-medium\">\r\n                                {getInitials(bug.assignedToDetails.memberName)}\r\n                              </div>\r\n                            </TooltipTrigger>\r\n                            <TooltipContent className=\"bg-gradient-to-br from-blue-50 to-indigo-50/80 backdrop-blur-sm border border-blue-100/50 shadow-xl shadow-blue-100/20 max-w-[300px] p-4 rounded-xl\">\r\n                              <p className=\"text-xs text-gray-700\">\r\n                                {bug.assignedToDetails.memberName}\r\n                              </p>\r\n                            </TooltipContent>\r\n                          </Tooltip>\r\n                        ) : (\r\n                          showActionColumn && (\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              className=\"h-8 px-2 text-xs bg-white border-gray-300 hover:bg-gray-100\"\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                handleAssignBug(bug);\r\n                              }}\r\n                            >\r\n                              Assign\r\n                            </Button>\r\n                          )\r\n                        )}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <span\r\n                          className={cn(\r\n                            \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\",\r\n                            bug.priority === \"Low\"\r\n                              ? \"bg-green-200 text-green-800\"\r\n                              : bug.priority === \"Medium\"\r\n                              ? \"bg-yellow-200 text-yellow-800\"\r\n                              : bug.priority === \"High\"\r\n                              ? \"bg-red-200 text-red-800\"\r\n                              : \"bg-gray-200 text-gray-800\"\r\n                          )}\r\n                        >\r\n                          {bug.priority || \"N/A\"}\r\n                        </span>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <p className=\"text-xs text-gray-700\">{formatDateTimeIST(bug.deadline) || \"N/A\"}</p>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <span\r\n                          className={cn(\r\n                            \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\",\r\n                            bug.status === \"Pending\"\r\n                              ? \"bg-yellow-200 text-yellow-800\"\r\n                              : bug.status === \"In Progress\"\r\n                              ? \"bg-blue-200 text-blue-800\"\r\n                              : bug.status === \"Resolved\"\r\n                              ? \"bg-purple-200 text-purple-800\"\r\n                              : bug.status === \"Completed\"\r\n                              ? \"bg-green-200 text-green-800\"\r\n                              : \"bg-gray-200 text-gray-800\"\r\n                          )}\r\n                        >\r\n                          {bug.status || \"N/A\"}\r\n                        </span>\r\n                      </TableCell>\r\n                      {showActionColumn && (\r\n                        <TableCell>\r\n                          <Button\r\n                            title=\"Edit Bug\"\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            className=\"h-6 w-6 sm:h-8 sm:w-8 p-0\"\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              handleEditBug(bug);\r\n                            }}\r\n                          >\r\n                            <Edit className=\"h-4 w-4 text-green-700\" />\r\n                          </Button>\r\n                        </TableCell>\r\n                      )}\r\n                    </TableRow>\r\n                  ))\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </div>\r\n\r\n          {/* ---------- PAGINATION ---------- */}\r\n          <div className=\"flex flex-col sm:flex-row items-center justify-between px-2 py-4 gap-4 sm:gap-0\">\r\n            <div className=\"text-xs sm:text-sm text-gray-700\">\r\n              Showing {Math.min((currentPage - 1) * bugsPerPage + 1, filteredBugs.length)}-\r\n              {Math.min(currentPage * bugsPerPage, filteredBugs.length)} of {filteredBugs.length} bugs\r\n            </div>\r\n            {totalPages > 1 && (\r\n              <div className=\"flex items-center gap-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\r\n                  disabled={currentPage === 1}\r\n                  className=\"bg-white text-black border-gray-300 hover:bg-gray-100 rounded-lg text-xs sm:text-sm\"\r\n                >\r\n                  Previous\r\n                </Button>\r\n                {getPaginationButtons().map((page) => (\r\n                  <Button\r\n                    key={page}\r\n                    variant={currentPage === page ? \"default\" : \"outline\"}\r\n                    size=\"sm\"\r\n                    onClick={() => setCurrentPage(page)}\r\n                    className={cn(\r\n                      \"w-8 h-8 p-0\",\r\n                      currentPage === page\r\n                        ? \"bg-blue-600 text-white hover:bg-blue-700\"\r\n                        : \"bg-white text-black border-gray-300 hover:bg-gray-100\",\r\n                      \"rounded-lg text-xs sm:text-sm\"\r\n                    )}\r\n                  >\r\n                    {page}\r\n                  </Button>\r\n                ))}\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}\r\n                  disabled={currentPage === totalPages}\r\n                  className=\"bg-white text-black border-gray-300 hover:bg-gray-100 rounded-lg text-xs sm:text-sm\"\r\n                >\r\n                  Next\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* ---------- CREATE ISSUE MODAL ---------- */}\r\n          <ReportIssueForm\r\n            projectData={projectData}\r\n            isOpen={showCreateIssue}\r\n            onClose={() => setShowCreateIssue(false)}\r\n            onIssueReported={onIssueCreated}\r\n          />\r\n\r\n          {/* ---------- VIEW / EDIT / ASSIGN MODALS ---------- */}\r\n          <BugDetailsViewModal\r\n            isOpen={showViewModal}\r\n            onOpenChange={setShowViewModal}\r\n            bug={selectedBug}\r\n            bugId={selectedBug?.bug_id}\r\n          />\r\n          <BugEditModal\r\n            isOpen={showEditModal}\r\n            onOpenChange={setShowEditModal}\r\n            bug={selectedBugForEdit}\r\n            bugId={selectedBugForEdit?.bug_id}\r\n          />\r\n          <BugAssignModal\r\n            isOpen={showAssignModal}\r\n            onOpenChange={setShowAssignModal}\r\n            bug={selectedBugForAssign}\r\n            projectId={projectId}\r\n            bugId={selectedBugForAssign?.bug_id}\r\n            teamMembers={teamMembersByProjectId || []}\r\n          />\r\n        </div>\r\n      </div>\r\n    </TooltipProvider>\r\n  );\r\n};\r\n\r\nexport default ProjectbugList;"],"names":[],"mappings":"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","debugId":null}}]
}