{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/document/components/UploadDocument.jsx"],"sourcesContent":["\r\n\r\n\r\n\"use client\";\r\n\r\nimport { useState, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { uploadSingleDocument } from \"@/modules/document/slices/documentSlice\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Upload, FileText, X, Edit2, Loader2, CheckCircle } from \"lucide-react\";\r\nimport { Progress } from \"@/components/ui/progress\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { toast } from \"sonner\";\r\nimport { validateInput, sanitizeInput } from \"@/utils/sanitize\";\r\n\r\nconst forbiddenTypes = [\"exe\", \"bat\", \"sh\", \"js\", \"msi\", \"com\", \"dll\"];\r\n\r\nexport default function UploadDocument({ projectId, onSuccess }) {\r\n  const dispatch = useDispatch();\r\n  const { uploading, error } = useSelector((state) => state.documents);\r\n  \r\n  const [file, setFile] = useState(null);\r\n  const [docName, setDocName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [isEditingName, setIsEditingName] = useState(false);\r\n  const [dragActive, setDragActive] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [uploadStatus, setUploadStatus] = useState(null);\r\n  const [nameValidationError, setNameValidationError] = useState(null);\r\n  const [descriptionValidationError, setDescriptionValidationError] = useState(null);\r\n  \r\n  const fileInputRef = useRef(null);\r\n  const textareaRef = useRef(null);\r\n\r\n  const handleFileChange = (e) => {\r\n    const selectedFile = e.target.files[0];\r\n    if (!selectedFile) return;\r\n    validateAndSetFile(selectedFile);\r\n  };\r\n\r\n  const handleDrag = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\r\n      setDragActive(true);\r\n    } else if (e.type === \"dragleave\") {\r\n      setDragActive(false);\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setDragActive(false);\r\n    const droppedFile = e.dataTransfer.files[0];\r\n    if (!droppedFile) return;\r\n    validateAndSetFile(droppedFile);\r\n  };\r\n\r\n  const validateAndSetFile = (selectedFile) => {\r\n    const ext = selectedFile.name.split(\".\").pop().toLowerCase();\r\n    const isForbiddenType = forbiddenTypes.includes(ext);\r\n    const isTooLarge = selectedFile.size > 10 * 1024 * 1024;\r\n\r\n    if (isForbiddenType) {\r\n      toast.error(\"File type not allowed\");\r\n      return;\r\n    }\r\n\r\n    if (isTooLarge) {\r\n      toast.error(\"File too large. Maximum 10MB\");\r\n      return;\r\n    }\r\n\r\n    setFile(selectedFile);\r\n    // Sanitize the filename before setting it as docName\r\n    const sanitizedName = sanitizeInput(selectedFile.name.split('.')[0]);\r\n    setDocName(sanitizedName);\r\n    setNameValidationError(null);\r\n    setIsEditingName(false);\r\n    setDescription(\"\");\r\n    setDescriptionValidationError(null);\r\n    setProgress(0);\r\n    setUploadStatus(null);\r\n  };\r\n\r\n  const handleRemoveFile = () => {\r\n    setFile(null);\r\n    setDocName(\"\");\r\n    setNameValidationError(null);\r\n    setDescription(\"\");\r\n    setDescriptionValidationError(null);\r\n    setIsEditingName(false);\r\n    setProgress(0);\r\n    setUploadStatus(null);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  const toggleEditName = () => {\r\n    if (!isEditingName && file) {\r\n      setIsEditingName(true);\r\n    }\r\n  };\r\n\r\n  const saveEditName = () => {\r\n    if (!docName.trim() && file) {\r\n      const sanitizedName = sanitizeInput(file.name.split('.')[0]);\r\n      setDocName(sanitizedName);\r\n    }\r\n    \r\n    if (docName.trim() && file) {\r\n      // Validate the document name\r\n      const validation = validateInput(docName);\r\n      if (!validation.isValid) {\r\n        setNameValidationError(validation.warning);\r\n        return;\r\n      }\r\n      setNameValidationError(null);\r\n      setIsEditingName(false);\r\n    }\r\n  };\r\n\r\n  const handleTextareaChange = (e) => {\r\n    const newValue = e.target.value.slice(0, 200);\r\n    setDescription(newValue);\r\n    \r\n    // Validate on change\r\n    const validation = validateInput(newValue);\r\n    if (!validation.isValid) {\r\n      setDescriptionValidationError(validation.warning);\r\n    } else {\r\n      setDescriptionValidationError(null);\r\n    }\r\n    \r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = 'auto';\r\n      textareaRef.current.style.height = Math.min(textareaRef.current.scrollHeight, 120) + 'px';\r\n    }\r\n  };\r\n\r\n  const handleNameChange = (e) => {\r\n    const newValue = e.target.value;\r\n    setDocName(newValue);\r\n    \r\n    // Validate document name on change\r\n    const validation = validateInput(newValue);\r\n    if (!validation.isValid) {\r\n      setNameValidationError(validation.warning);\r\n    } else {\r\n      setNameValidationError(null);\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 B';\r\n    const k = 1024;\r\n    const sizes = ['B', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const validateFormData = () => {\r\n    if (!file) {\r\n      toast.error(\"Please select a file\");\r\n      return false;\r\n    }\r\n    \r\n    if (!description.trim()) {\r\n      setDescriptionValidationError(\"Description is required\");\r\n      return false;\r\n    }\r\n\r\n    if (!docName.trim()) {\r\n      setNameValidationError(\"Document name is required\");\r\n      return false;\r\n    }\r\n\r\n    // Final validation before submission\r\n    const nameValidation = validateInput(docName);\r\n    if (!nameValidation.isValid) {\r\n      setNameValidationError(nameValidation.warning);\r\n      return false;\r\n    }\r\n\r\n    const descValidation = validateInput(description);\r\n    if (!descValidation.isValid) {\r\n      setDescriptionValidationError(descValidation.warning);\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Clear previous errors\r\n    setNameValidationError(null);\r\n    setDescriptionValidationError(null);\r\n    \r\n    if (!validateFormData()) {\r\n      return;\r\n    }\r\n\r\n    // Sanitize the final values\r\n    const sanitizedDocName = sanitizeInput(docName.trim());\r\n    const sanitizedDescription = sanitizeInput(description.trim());\r\n\r\n    // Double-check after sanitization\r\n    if (!sanitizedDocName || !sanitizedDescription) {\r\n      setNameValidationError(\"Invalid input: Content contains prohibited characters after sanitization\");\r\n      return;\r\n    }\r\n\r\n    const payload = {\r\n      name: sanitizedDocName,\r\n      description: sanitizedDescription,\r\n      file,\r\n      projectId\r\n    };\r\n\r\n    try {\r\n      setUploadStatus('uploading');\r\n      setProgress(0);\r\n      \r\n      setTimeout(() => {\r\n        setProgress(10);\r\n      }, 100);\r\n\r\n      const result = await dispatch(uploadSingleDocument(payload)).unwrap();\r\n      \r\n      setProgress(100);\r\n      setUploadStatus('success');\r\n      toast.success(\"Document uploaded successfully!\");\r\n      \r\n      setTimeout(() => {\r\n        handleRemoveFile();\r\n        setUploadStatus(null);\r\n        setProgress(0);\r\n        if (onSuccess) {\r\n          onSuccess(result);\r\n        }\r\n      }, 1500);\r\n      \r\n    } catch (err) {\r\n      console.error(\"Upload error:\", err);\r\n      setUploadStatus('error');\r\n      setProgress(0);\r\n      toast.error(err?.message || \"Upload failed\");\r\n      \r\n      setTimeout(() => {\r\n        setUploadStatus(null);\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  const isUploading = uploading || uploadStatus === 'uploading';\r\n  const fileExtension = file ? file.name.split(\".\").pop().toUpperCase() : \"\";\r\n  const fileSize = file ? formatFileSize(file.size) : \"\";\r\n\r\n  return (\r\n  \r\n      <form className=\"space-y-6 p-6\" onSubmit={handleSubmit}>\r\n        {!file && (\r\n          <div className=\"space-y-4\">\r\n            <div\r\n              className={cn(\r\n                \"relative p-8 border-2 border-dashed rounded-lg transition-all duration-300 cursor-pointer group bg-gray-50\",\r\n                dragActive \r\n                  ? \"border-blue-500 bg-blue-50\" \r\n                  : \"border-gray-300 hover:border-blue-400 hover:bg-blue-25\"\r\n              )}\r\n              onDragEnter={handleDrag}\r\n              onDragLeave={handleDrag}\r\n              onDragOver={handleDrag}\r\n              onDrop={handleDrop}\r\n            >\r\n              <Input\r\n                ref={fileInputRef}\r\n                id=\"file-upload\"\r\n                type=\"file\"\r\n                onChange={handleFileChange}\r\n                accept=\".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.jpg,.jpeg,.png,.gif\"\r\n                className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\r\n                disabled={isUploading}\r\n              />\r\n              <div className=\"text-center\">\r\n                <div className=\"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-white rounded-lg border\">\r\n                  <Upload className=\"w-6 h-6 text-gray-400 group-hover:text-blue-600 transition-colors\" />\r\n                </div>\r\n                <h3 className=\"text-lg font-semibold text-black mb-2\">Drop your file here</h3>\r\n                <p className=\"text-sm text-gray-500 mb-4\">or click to browse</p>\r\n                \r\n                <Button\r\n                  type=\"button\"\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  className=\"w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5\"\r\n                  disabled={isUploading}\r\n                >\r\n                  <FileText className=\"w-4 h-4 mr-2\" />\r\n                  Choose File\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"text-xs text-center text-gray-500 bg-gray-50 rounded-lg py-2\">\r\n              <p>PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, Images, TXT</p>\r\n              <p className=\"text-blue-600 font-medium\">Max 10MB</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {file && (\r\n          <div className=\"space-y-5\">\r\n            {/* File Preview Section */}\r\n            <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\r\n              <div className=\"flex items-start justify-between mb-3\">\r\n                <div className=\"flex-1 min-w-0\">\r\n                  {isEditingName ? (\r\n                    <div className=\"mb-2\">\r\n                      <Label className=\"text-sm font-medium text-gray-700 mb-1 block\">\r\n                        Document Name <span className=\"text-red-500\">*</span>\r\n                      </Label>\r\n                      <Input\r\n                        value={docName}\r\n                        onChange={handleNameChange}\r\n                        onBlur={saveEditName}\r\n                        onKeyDown={(e) => {\r\n                          if (e.key === \"Enter\") saveEditName();\r\n                          if (e.key === \"Escape\") {\r\n                            const sanitizedName = sanitizeInput(file.name.split('.')[0]);\r\n                            setDocName(sanitizedName);\r\n                            setNameValidationError(null);\r\n                            setIsEditingName(false);\r\n                          }\r\n                        }}\r\n                        className={cn(\r\n                          \"text-lg font-semibold text-black bg-white border-gray-300 focus:border-blue-500 rounded-md\",\r\n                          nameValidationError && \"border-red-500 focus:border-red-500\"\r\n                        )}\r\n                        autoFocus\r\n                        placeholder=\"Document name...\"\r\n                        disabled={isUploading}\r\n                        maxLength={100}\r\n                      />\r\n                      {nameValidationError && (\r\n                        <p className=\"text-xs text-red-500 mt-1\">{nameValidationError}</p>\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    <div \r\n                      className=\"cursor-pointer group mb-2\" \r\n                      onClick={toggleEditName}\r\n                    >\r\n                      <Label className=\"text-sm font-medium text-gray-700 mb-1 block\">\r\n                        Document Name <span className=\"text-red-500\">*</span>\r\n                      </Label>\r\n                      <div className=\"flex items-center justify-center gap-2\">\r\n                        <span className=\"text-lg font-semibold text-black\">\r\n                          {docName || sanitizeInput(file.name.split('.')[0])}\r\n                        </span>\r\n                        {!isUploading && (\r\n                          <Edit2 className=\"w-4 h-4 text-gray-400 group-hover:text-blue-500 transition-colors\" />\r\n                        )}\r\n                      </div>\r\n                      {nameValidationError && (\r\n                        <p className=\"text-xs text-red-500 mt-1\">{nameValidationError}</p>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <div className=\"flex justify-center items-center gap-4 text-sm text-gray-500 bg-white rounded-lg py-1 px-3 border border-gray-200\">\r\n                    <span className=\"flex items-center gap-1\">\r\n                      <FileText className=\"w-3 h-3\" />\r\n                      {fileExtension}\r\n                    </span>\r\n                    <span className=\"flex items-center gap-1\">\r\n                      üìÅ {fileSize}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  className=\"text-gray-400 hover:text-red-500 hover:bg-red-50 rounded p-2 ml-2\"\r\n                  onClick={handleRemoveFile}\r\n                  disabled={isUploading}\r\n                >\r\n                  <X className=\"w-4 h-4\" />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Description Section */}\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-medium text-gray-700 flex items-center gap-1\">\r\n                <FileText className=\"w-4 h-4\" />\r\n                Description <span className=\"text-red-500\">*</span>\r\n              </Label>\r\n              <Textarea\r\n                ref={textareaRef}\r\n                value={description}\r\n                onChange={handleTextareaChange}\r\n                placeholder=\"Describe little bit about this document...\"\r\n                className={cn(\r\n                  \"w-full resize-none border-gray-300 focus:border-blue-500 focus:ring-blue-500 bg-white text-black placeholder-gray-400 min-h-[100px] max-h-[120px] overflow-y-auto rounded-md\",\r\n                  descriptionValidationError && \"border-red-500 focus:border-red-500\"\r\n                )}\r\n                required\r\n                disabled={isUploading}\r\n                style={{\r\n                  height: description ? 'auto' : '100px'\r\n                }}\r\n                maxLength={200}\r\n              />\r\n              {descriptionValidationError && (\r\n                <p className=\"text-xs text-red-500 mt-1\">{descriptionValidationError}</p>\r\n              )}\r\n              <div className=\"flex justify-between text-xs text-gray-500\">\r\n                <span className=\"text-gray-500\">\r\n                  Only text content allowed\r\n                </span>\r\n                <span className={cn(\r\n                  \"font-medium\", \r\n                  description.length > 160 && \"text-red-500\"\r\n                )}>\r\n                  {description.length}/200\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Upload Progress */}\r\n            {isUploading && (\r\n              <div className=\"space-y-3 p-4 bg-gray-50 rounded-lg\">\r\n                <div className=\"flex items-center justify-between text-sm text-gray-600\">\r\n                  <span className=\"flex items-center gap-2\">\r\n                    <Loader2 className=\"w-4 h-4 text-blue-600 animate-spin\" />\r\n                    {uploadStatus === 'success' ? 'Finalizing...' : 'Uploading...'}\r\n                  </span>\r\n                  <span>{Math.round(progress)}%</span>\r\n                </div>\r\n                <Progress \r\n                  value={progress} \r\n                  className=\"h-2 [&>div]:bg-blue-600\" \r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex gap-3 pt-2\">\r\n              <Button\r\n                type=\"submit\"\r\n                className={cn(\r\n                  \"flex-1 px-6 py-2.5 rounded-md\",\r\n                  isUploading \r\n                    ? \"bg-gray-300 cursor-not-allowed text-gray-500\" \r\n                    : \"bg-blue-600 hover:bg-blue-700 text-white\"\r\n                )}\r\n                disabled={isUploading || !description.trim() || !docName.trim() || nameValidationError || descriptionValidationError}\r\n              >\r\n                {isUploading ? (\r\n                  <>\r\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                    {progress > 0 ? `Uploading ${Math.round(progress)}%` : 'Uploading...'}\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Upload className=\"w-4 h-4 mr-2\" />\r\n                    Upload Document\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Success Message */}\r\n        {uploadStatus === 'success' && (\r\n          <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n            <div className=\"flex items-center gap-2 text-green-700\">\r\n              <CheckCircle className=\"w-5 h-5\" />\r\n              <span className=\"text-sm font-medium\">Upload completed successfully!</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </form>\r\n   \r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 813, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/document/components/DocumentManager.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  fetchDocuments,\r\n  deleteSingleDocument,\r\n  downloadDocument,\r\n  clearError,\r\n} from \"@/modules/document/slices/documentSlice\";\r\nimport { Card, CardHeader, CardContent } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport {\r\n  Pagination,\r\n  PaginationContent,\r\n  PaginationEllipsis,\r\n  PaginationItem,\r\n  PaginationLink,\r\n  PaginationNext,\r\n  PaginationPrevious,\r\n} from \"@/components/ui/Pagination\";\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\";\r\nimport UploadDocument from \"./UploadDocument\";\r\nimport { format } from \"date-fns\";\r\nimport {\r\n  Loader2,\r\n  Download,\r\n  Trash2,\r\n  AlertCircle,\r\n  FileText,\r\n  Upload,\r\n  X,\r\n  Search,\r\n  Filter,\r\n  HelpCircle,\r\n  Info,\r\n} from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\n\r\n// File type badges\r\n\r\nconst getFileTypeBadge = (filePath) => {\r\n  const filename = filePath?.split(\"/\").pop();\r\n  const ext = filename?.split(\".\").pop()?.toLowerCase();\r\n\r\n  const types = {\r\n    pdf: { \r\n      text: \"PDF\", \r\n      className: \"bg-red-100 text-red-700 border-red-200\" \r\n    },\r\n    docx: { \r\n      text: \"Word\", \r\n      className: \"bg-blue-100 text-blue-700 border-blue-200\" \r\n    },\r\n    doc: { \r\n      text: \"Word\", \r\n      className: \"bg-blue-100 text-blue-700 border-blue-200\" \r\n    },\r\n    xlsx: { \r\n      text: \"Excel\", \r\n      className: \"bg-green-100 text-green-700 border-green-200\" \r\n    },\r\n    xls: { \r\n      text: \"Excel\", \r\n      className: \"bg-green-100 text-green-700 border-green-200\" \r\n    },\r\n    pptx: {\r\n      text: \"PowerPoint\",\r\n      className: \"bg-orange-100 text-orange-700 border-orange-200\"\r\n    },\r\n    ppt: { \r\n      text: \"PowerPoint\", \r\n      className: \"bg-orange-100 text-orange-700 border-orange-200\" \r\n    },\r\n    jpg: { \r\n      text: \"Image\", \r\n      className: \"bg-purple-100 text-purple-700 border-purple-200\" \r\n    },\r\n    jpeg: { \r\n      text: \"Image\", \r\n      className: \"bg-purple-100 text-purple-700 border-purple-200\" \r\n    },\r\n    png: { \r\n      text: \"Image\", \r\n      className: \"bg-purple-100 text-purple-700 border-purple-200\" \r\n    },\r\n    gif: { \r\n      text: \"Image\", \r\n      className: \"bg-purple-100 text-purple-700 border-purple-200\" \r\n    },\r\n    txt: { \r\n      text: \"Text\", \r\n      className: \"bg-gray-100 text-gray-700 border-gray-200\" \r\n    },\r\n    zip: { \r\n      text: \"Archive\", \r\n      className: \"bg-yellow-100 text-yellow-700 border-yellow-200\" \r\n    },\r\n    default: { \r\n      text: \"Other\", \r\n      className: \"bg-gray-100 text-gray-700 border-gray-200\" \r\n    },\r\n  };\r\n\r\n  return types[ext] || types.default;\r\n};\r\n\r\n// File type options for filter - combined duplicates, added other\r\nconst fileTypeOptions = [\r\n  { value: \"all\", label: \"All Types\" },\r\n  { value: \"pdf\", label: \"PDF\" },\r\n  { value: \"word\", label: \"Word\" },\r\n  { value: \"excel\", label: \"Excel\" },\r\n  { value: \"powerpoint\", label: \"PowerPoint\" },\r\n  { value: \"image\", label: \"Image\" },\r\n  { value: \"text\", label: \"Text\" },\r\n  { value: \"archive\", label: \"Archive\" },\r\n  { value: \"other\", label: \"Other\" },\r\n];\r\n\r\n// Date filter options\r\nconst dateFilterOptions = [\r\n  { value: \"all\", label: \"All Time\" },\r\n  { value: \"today\", label: \"Today\" },\r\n  { value: \"this-week\", label: \"This Week\" },\r\n  { value: \"this-month\", label: \"This Month\" },\r\n  { value: \"last-30-days\", label: \"Last 30 Days\" },\r\n];\r\n\r\n// Sort options\r\nconst sortOptions = [\r\n  { value: \"name-asc\", label: \"Name (A-Z)\" },\r\n  { value: \"name-desc\", label: \"Name (Z-A)\" },\r\n  { value: \"date-desc\", label: \"Newest First\" },\r\n  { value: \"date-asc\", label: \"Oldest First\" },\r\n];\r\n\r\nexport default function DocumentManager({ project, projectId }) {\r\n  const { currentUser } = useCurrentUser();\r\n  const dispatch = useDispatch();\r\n  const {\r\n    items: documents,\r\n    loading,\r\n    deleting,\r\n    error,\r\n    downloading,\r\n  } = useSelector((state) => state.documents);\r\n\r\n  // State for filters and pagination\r\n  const [isUploadOpen, setIsUploadOpen] = useState(false);\r\n  const [deleteDialog, setDeleteDialog] = useState({\r\n    open: false,\r\n    docId: null,\r\n    docName: null,\r\n  });\r\n\r\n  // Search and filter states\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [fileTypeFilter, setFileTypeFilter] = useState(\"all\");\r\n  const [dateFilter, setDateFilter] = useState(\"all\");\r\n  const [sortBy, setSortBy] = useState(\"date-desc\");\r\n\r\n  // Pagination state\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const ITEMS_PER_PAGE = 10;\r\n\r\n  // Fetch documents on mount\r\n  useEffect(() => {\r\n    if (projectId) {\r\n      dispatch(fetchDocuments(projectId));\r\n    }\r\n  }, [dispatch, projectId]);\r\n\r\n  // Clear error on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(clearError());\r\n    };\r\n  }, [dispatch]);\r\n\r\n  // Filter documents by date\r\n  const filterByDate = (doc) => {\r\n    if (dateFilter === \"all\") return true;\r\n\r\n    const uploadedDate = new Date(doc.uploadedAt || doc.createdAt);\r\n    const now = new Date();\r\n\r\n    switch (dateFilter) {\r\n      case \"today\":\r\n        return uploadedDate.toDateString() === now.toDateString();\r\n      case \"this-week\":\r\n        const weekStart = new Date(now.setDate(now.getDate() - now.getDay()));\r\n        return uploadedDate >= weekStart;\r\n      case \"this-month\":\r\n        const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);\r\n        return uploadedDate >= monthStart;\r\n      case \"last-30-days\":\r\n        const thirtyDaysAgo = new Date(now.setDate(now.getDate() - 30));\r\n        return uploadedDate >= thirtyDaysAgo;\r\n      default:\r\n        return true;\r\n    }\r\n  };\r\n\r\n  // Filter documents by file type - updated logic for combined types\r\n  const filterByFileType = (doc) => {\r\n    if (fileTypeFilter === \"all\") return true;\r\n\r\n    const filename = doc.filePath?.split(\"/\").pop();\r\n    const ext = filename?.split(\".\").pop()?.toLowerCase();\r\n\r\n    switch (fileTypeFilter) {\r\n      case \"pdf\":\r\n        return ext === \"pdf\";\r\n      case \"word\":\r\n        return [\"doc\", \"docx\"].includes(ext);\r\n      case \"excel\":\r\n        return [\"xls\", \"xlsx\"].includes(ext);\r\n      case \"powerpoint\":\r\n        return [\"ppt\", \"pptx\"].includes(ext);\r\n      case \"image\":\r\n        return [\"jpg\", \"jpeg\", \"png\", \"gif\"].includes(ext);\r\n      case \"text\":\r\n        return ext === \"txt\";\r\n      case \"archive\":\r\n        return ext === \"zip\";\r\n      case \"other\":\r\n        const knownExts = [\r\n          \"pdf\",\r\n          \"doc\",\r\n          \"docx\",\r\n          \"xls\",\r\n          \"xlsx\",\r\n          \"ppt\",\r\n          \"pptx\",\r\n          \"jpg\",\r\n          \"jpeg\",\r\n          \"png\",\r\n          \"gif\",\r\n          \"txt\",\r\n          \"zip\",\r\n        ];\r\n        return !knownExts.includes(ext);\r\n      default:\r\n        return true;\r\n    }\r\n  };\r\n\r\n  // Search documents\r\n  const searchDocuments = (doc) => {\r\n    const searchLower = searchTerm.toLowerCase();\r\n    return (\r\n      doc.name?.toLowerCase().includes(searchLower) ||\r\n      doc.description?.toLowerCase().includes(searchLower)\r\n    );\r\n  };\r\n\r\n  // Sort documents\r\n  const sortDocuments = (a, b) => {\r\n    switch (sortBy) {\r\n      case \"name-asc\":\r\n        return (a.name || \"\").localeCompare(b.name || \"\");\r\n      case \"name-desc\":\r\n        return (b.name || \"\").localeCompare(a.name || \"\");\r\n      case \"date-desc\":\r\n        return (\r\n          new Date(b.uploadedAt || b.createdAt) -\r\n          new Date(a.uploadedAt || a.createdAt)\r\n        );\r\n      case \"date-asc\":\r\n        return (\r\n          new Date(a.uploadedAt || a.createdAt) -\r\n          new Date(b.uploadedAt || b.createdAt)\r\n        );\r\n      default:\r\n        return 0;\r\n    }\r\n  };\r\n\r\n  // Filtered, searched, and sorted documents\r\n  const processedDocuments = useMemo(() => {\r\n    return documents\r\n      .filter(filterByDate)\r\n      .filter(filterByFileType)\r\n      .filter(searchDocuments)\r\n      .sort(sortDocuments);\r\n  }, [documents, searchTerm, fileTypeFilter, dateFilter, sortBy]);\r\n\r\n  // Pagination\r\n  const totalPages = Math.ceil(processedDocuments.length / ITEMS_PER_PAGE);\r\n  const paginatedDocuments = processedDocuments.slice(\r\n    (currentPage - 1) * ITEMS_PER_PAGE,\r\n    currentPage * ITEMS_PER_PAGE\r\n  );\r\n\r\n  // Reset to first page when filters change\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n  }, [searchTerm, fileTypeFilter, dateFilter, sortBy]);\r\n\r\n  // Handle document deletion confirmation\r\n  const confirmDeleteDocument = (docId, docName) => {\r\n    setDeleteDialog({ open: true, docId, docName });\r\n  };\r\n\r\n  // Handle confirmed document deletion\r\n  const handleDeleteDocument = async () => {\r\n    if (!deleteDialog.docId || !deleteDialog.docName) return;\r\n\r\n    try {\r\n      await dispatch(deleteSingleDocument(deleteDialog.docId)).unwrap();\r\n      toast.success(`\"${deleteDialog.docName}\" deleted successfully`);\r\n    } catch (err) {\r\n      toast.error(\"Failed to delete document\");\r\n    } finally {\r\n      setDeleteDialog({ open: false, docId: null, docName: null });\r\n    }\r\n  };\r\n\r\n  // Handle document download\r\n  const handleDownloadDocument = async (doc) => {\r\n    try {\r\n      const filename =\r\n        doc.filePath?.split(\"/\").pop() ||\r\n        `document_${doc.documentId || doc._id}`;\r\n\r\n      await dispatch(\r\n        downloadDocument({\r\n          docId: doc.documentId || doc._id,\r\n          fileName: filename,\r\n        })\r\n      ).unwrap();\r\n\r\n      toast.success(`\"File downloaded!`);\r\n    } catch (err) {\r\n      toast.error(\"Failed to download document\");\r\n    }\r\n  };\r\n\r\n  // Handle upload success - refresh documents\r\n  const handleUploadSuccess = () => {\r\n    dispatch(fetchDocuments(projectId));\r\n    toast.success(\"Document uploaded successfully\");\r\n    setIsUploadOpen(false);\r\n  };\r\n\r\n  // Loading skeleton\r\n  const LoadingSkeleton = () => (\r\n    <div className=\"space-y-4\">\r\n      {[...Array(5)].map((_, i) => (\r\n        <div key={i} className=\"bg-gray-100 rounded-lg p-4 animate-pulse\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex-1 space-y-3\">\r\n              <div className=\"h-5 bg-gray-300 rounded w-3/4\"></div>\r\n              <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\r\n              <div className=\"flex items-center gap-4\">\r\n                <div className=\"h-3 bg-gray-200 rounded w-20\"></div>\r\n                <div className=\"h-3 bg-gray-200 rounded w-16\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"h-8 w-8 bg-gray-300 rounded\"></div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  // No results message\r\n  const NoResults = () => (\r\n    <div className=\"text-center py-12\">\r\n      <div className=\"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\">\r\n        <Search className=\"w-8 h-8 text-gray-400\" />\r\n      </div>\r\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n        No documents found\r\n      </h3>\r\n      <p className=\"text-gray-600 mb-6\">\r\n        Try adjusting your search terms or filters.\r\n      </p>\r\n      <Button\r\n        onClick={() => {\r\n          setSearchTerm(\"\");\r\n          setFileTypeFilter(\"all\");\r\n          setDateFilter(\"all\");\r\n          setSortBy(\"date-desc\");\r\n        }}\r\n        variant=\"outline\"\r\n      >\r\n        Clear All Filters\r\n      </Button>\r\n    </div>\r\n  );\r\n\r\n  if (loading && documents.length === 0) {\r\n    return (\r\n      <div className=\"w-full min-h-screen bg-white p-4 sm:p-8\">\r\n        <Card className=\" mx-auto bg-white border border-gray-200 rounded-xl shadow-sm\">\r\n          <CardHeader className=\" text-white rounded-t-xl p-4 sm:p-6\">\r\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0\">\r\n              <div className=\"animate-pulse\">\r\n                <div className=\"h-6 bg-blue-400 rounded w-32 mb-2\"></div>\r\n                <div className=\"h-4 bg-blue-300 rounded w-24\"></div>\r\n              </div>\r\n              <div className=\"h-10 w-20 bg-blue-400 rounded animate-pulse\"></div>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent className=\"p-4 sm:p-6\">\r\n            <LoadingSkeleton />\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <TooltipProvider delayDuration={150} skipDelayDuration={0}>\r\n      <div className=\"w-full bg-white \">\r\n        \r\n          <div className=\"space-y-2\">\r\n            {/* Search and Controls - two main elements */}\r\n\r\n            <div className=\"flex flex-wrap gap-4\">\r\n              {/* Search */}\r\n              <div className=\"flex-1 min-w-[180px]\">\r\n                <div className=\"relative w-full\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n                  <Input\r\n                    placeholder=\"Search documents...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"pl-10 text-sm w-full\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* File Type Filter */}\r\n              <div className=\"flex-1 min-w-[140px]\">\r\n                <Select\r\n                  value={fileTypeFilter}\r\n                  onValueChange={setFileTypeFilter}\r\n                >\r\n                  <SelectTrigger className=\"text-sm w-full\">\r\n                    <SelectValue placeholder=\"All Types\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {fileTypeOptions.map((option) => (\r\n                      <SelectItem\r\n                        key={option.value}\r\n                        value={option.value}\r\n                        className=\"text-sm\"\r\n                      >\r\n                        {option.label}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {/* Date Filter */}\r\n              <div className=\"flex-1 min-w-[140px]\">\r\n                <Select value={dateFilter} onValueChange={setDateFilter}>\r\n                  <SelectTrigger className=\"text-sm w-full\">\r\n                    <SelectValue placeholder=\"All Time\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {dateFilterOptions.map((option) => (\r\n                      <SelectItem\r\n                        key={option.value}\r\n                        value={option.value}\r\n                        className=\"text-sm\"\r\n                      >\r\n                        {option.label}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {/* Sort */}\r\n              <div className=\"flex-1 min-w-[140px]\">\r\n                <Select value={sortBy} onValueChange={setSortBy}>\r\n                  <SelectTrigger className=\"text-sm w-full\">\r\n                    <SelectValue placeholder=\"Sort by\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {sortOptions.map((option) => (\r\n                      <SelectItem\r\n                        key={option.value}\r\n                        value={option.value}\r\n                        className=\"text-sm\"\r\n                      >\r\n                        {option.label}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {/* Upload Button */}\r\n              <div className=\"flex-1 min-w-[140px]\">\r\n                <Button\r\n                  onClick={() => setIsUploadOpen(true)}\r\n                  className=\"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm h-[38px] shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\r\n                  disabled={deleting || downloading}\r\n                >\r\n                  <Upload className=\"w-4 h-4 mr-2\" />\r\n                  Upload\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Documents Table - with overflow for mobile */}\r\n            {loading && processedDocuments.length > 0 ? (\r\n              <div className=\"flex items-center justify-center py-8\">\r\n                <Loader2 className=\"w-5 h-5 mr-2 animate-spin text-blue-600\" />\r\n                {/* <span className=\"text-gray-600 text-sm\">Updating...</span> */}\r\n              </div>\r\n            ) : processedDocuments.length === 0 ? (\r\n              <NoResults />\r\n            ) : (\r\n              <>\r\n                <div className=\"overflow-x-auto rounded-md border\">\r\n                  <Table>\r\n                    <TableHeader>\r\n                      <TableRow className=\"bg-gray-50 text-xs sm:text-sm\">\r\n                        <TableHead className=\"w-auto font-bold text-gray-700 \">\r\n                          Document Name\r\n                        </TableHead>\r\n                        <TableHead className=\"w-[100px] sm:w-[150px] font-bold text-gray-700 \">\r\n                          Type\r\n                        </TableHead>\r\n                        <TableHead className=\"w-[100px] sm:w-[120px]  font-bold text-gray-700 \">\r\n                          Uploaded Date\r\n                        </TableHead>\r\n                        <TableHead className=\"w-[120px] sm:w-[150px] text-right font-bold text-gray-700 \">\r\n                          {\" \"}\r\n                          Doc ID\r\n                        </TableHead>\r\n                        <TableHead className=\"w-[40px] sm:w-[50px] font-bold text-gray-700 \">Action</TableHead>\r\n                      </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                      {paginatedDocuments.map((doc) => {\r\n                        const fileType = getFileTypeBadge(doc.filePath);\r\n                        const formattedDate = format(\r\n                          new Date(doc.uploadedAt || doc.createdAt),\r\n                          \"MMM dd, yyyy\"\r\n                        );\r\n                        const docId = doc.documentId || doc._id;\r\n                        const description =\r\n                          doc.description || \"No description available\";\r\n                        const hasDescription =\r\n                          doc.description && doc.description.trim().length > 0;\r\n\r\n                        return (\r\n                          <TableRow key={docId} className=\" text-xs sm:text-sm\">\r\n                            <TableCell className=\"font-medium\">\r\n                              <div className=\"flex items-center space-x-2\">\r\n                                <div className=\"flex-1 space-y-0.5 sm:space-y-1\">\r\n                                  <h3 className=\"font-semibold text-gray-900 line-clamp-1\">\r\n                                    {doc.name}\r\n                                  </h3>\r\n                                </div>\r\n                                {/* Fancy Description Icon */}\r\n                                {hasDescription && (\r\n                                  <Tooltip>\r\n                                    <TooltipTrigger asChild>\r\n                                      <Button\r\n                                        variant=\"ghost\"\r\n                                        size=\"sm\"\r\n                                        className=\"h-6 w-6 p-0 rounded-full bg-green-50 text-green-600 transition-all duration-200 group relative\"\r\n                                        aria-label=\"View description\"\r\n                                      >\r\n                                        <HelpCircle className=\"h-3 w-3 group-hover:scale-110 transition-transform duration-200\" />\r\n                                        <div className=\"absolute -inset-1  rounded-full blur opacity-0 group-hover:opacity-100 transition-opacity duration-200\"></div>\r\n                                      </Button>\r\n                                    </TooltipTrigger>\r\n                                    <TooltipContent\r\n                                      side=\"top\"\r\n                                      align=\"center\"\r\n                                      sideOffset={8}\r\n                                      className=\"bg-gradient-to-br from-blue-50 to-indigo-50/80 backdrop-blur-sm border border-blue-100/50 shadow-xl shadow-blue-100/20 max-w-[300px] p-4 rounded-xl z-[9999]\"\r\n                                    >\r\n                                      <div className=\"flex items-start gap-2\">\r\n                                        <div className=\"flex-shrink-0 mt-0.5\">\r\n                                          <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\r\n                                        </div>\r\n                                        <div className=\"text-xs text-gray-700 leading-relaxed \">\r\n                                          <p className=\"font-medium text-gray-900 mb-1\">\r\n                                            Description\r\n                                          </p>\r\n                                          <p className=\"text-gray-600\">\r\n                                            {description}\r\n                                          </p>\r\n                                        </div>\r\n                                      </div>\r\n                                    </TooltipContent>\r\n                                  </Tooltip>\r\n                                )}\r\n                              </div>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                              <Badge\r\n                                variant={fileType.variant}\r\n                             \r\n                                className={`text-xs ${fileType.className}`}\r\n                              >\r\n                                {fileType.text}\r\n                              </Badge>\r\n                            </TableCell>\r\n                            <TableCell className=\"text-right text-gray-600\">\r\n                              {formattedDate}\r\n                            </TableCell>\r\n                            <TableCell className=\"text-right text-gray-500 truncate\">\r\n                              {docId}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                              <DropdownMenu>\r\n                                <DropdownMenuTrigger asChild>\r\n                                  <Button\r\n                                    variant=\"ghost\"\r\n                                    size=\"sm\"\r\n                                    className=\"h-6 w-6 sm:h-8 sm:w-8 p-0\"\r\n                                    disabled={deleting || downloading}\r\n                                  >\r\n                                    <span className=\"sr-only\">Open menu</span>‚ãÆ\r\n                                  </Button>\r\n                                </DropdownMenuTrigger>\r\n                                <DropdownMenuContent align=\"end\">\r\n                                  <DropdownMenuItem\r\n                                    onClick={() => handleDownloadDocument(doc)}\r\n                                    className=\"flex items-center gap-2 cursor-pointer focus:bg-blue-50 text-sm\"\r\n                                    disabled={downloading}\r\n                                  >\r\n                                    <Download className=\"w-4 h-4 text-blue-700\" />\r\n                                    Download\r\n                                    {downloading && (\r\n                                      <Loader2 className=\"w-4 h-4 ml-auto animate-spin text-blue-600\" />\r\n                                    )}\r\n                                  </DropdownMenuItem>\r\n                                  {(currentUser?.role === \"cpc\" ||\r\n                                    currentUser?.position === \"Team Lead\") && (\r\n                                    <DropdownMenuItem\r\n                                      onClick={() =>\r\n                                        confirmDeleteDocument(docId, doc.name)\r\n                                      }\r\n                                      className=\"flex items-center gap-2 text-red-600 cursor-pointer focus:bg-red-50 text-sm\"\r\n                                      disabled={deleting}\r\n                                    >\r\n                                      <Trash2 className=\"w-4 h-4 text-red-700\" />\r\n                                      Delete\r\n                                      {deleting && (\r\n                                        <Loader2 className=\"w-4 h-4 ml-auto animate-spin text-red-600\" />\r\n                                      )}\r\n                                    </DropdownMenuItem>\r\n                                  )}\r\n                                </DropdownMenuContent>\r\n                              </DropdownMenu>\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        );\r\n                      })}\r\n                    </TableBody>\r\n                  </Table>\r\n                </div>\r\n\r\n                {/* Pagination Section - always show label */}\r\n                <div className=\"flex flex-col sm:flex-row items-center justify-between px-2 py-4 gap-4 sm:gap-0\">\r\n                  <div className=\"text-xs sm:text-sm text-gray-700\">\r\n                    Page {(currentPage - 1) * ITEMS_PER_PAGE + 1} to{\" \"}\r\n                    {Math.min(\r\n                      currentPage * ITEMS_PER_PAGE,\r\n                      processedDocuments.length\r\n                    )}{\" \"}\r\n                    of {processedDocuments.length} Documents\r\n                  </div>\r\n                  {totalPages > 1 && (\r\n                    <Pagination>\r\n                      <PaginationContent>\r\n                        <PaginationItem>\r\n                          <PaginationPrevious\r\n                            href=\"#\"\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              setCurrentPage((prev) => Math.max(prev - 1, 1));\r\n                            }}\r\n                            className={\r\n                              currentPage === 1\r\n                                ? \"pointer-events-none opacity-50\"\r\n                                : \"\"\r\n                            }\r\n                          />\r\n                        </PaginationItem>\r\n\r\n                        {Array.from(\r\n                          { length: Math.min(5, totalPages) },\r\n                          (_, i) => {\r\n                            let pageNum;\r\n                            if (totalPages <= 5) {\r\n                              pageNum = i + 1;\r\n                            } else if (currentPage <= 3) {\r\n                              pageNum = i + 1;\r\n                            } else if (currentPage >= totalPages - 2) {\r\n                              pageNum = totalPages - 4 + i;\r\n                            } else {\r\n                              pageNum = currentPage - 2 + i;\r\n                            }\r\n\r\n                            if (pageNum > 0 && pageNum <= totalPages) {\r\n                              return (\r\n                                <PaginationItem key={pageNum}>\r\n                                  <PaginationLink\r\n                                    href=\"#\"\r\n                                    isActive={currentPage === pageNum}\r\n                                    onClick={(e) => {\r\n                                      e.preventDefault();\r\n                                      setCurrentPage(pageNum);\r\n                                    }}\r\n                                  >\r\n                                    {pageNum}\r\n                                  </PaginationLink>\r\n                                </PaginationItem>\r\n                              );\r\n                            }\r\n                            return null;\r\n                          }\r\n                        )}\r\n\r\n                        {totalPages > 5 && currentPage < totalPages - 2 && (\r\n                          <PaginationItem>\r\n                            <PaginationEllipsis />\r\n                          </PaginationItem>\r\n                        )}\r\n\r\n                        <PaginationItem>\r\n                          <PaginationNext\r\n                            href=\"#\"\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              setCurrentPage((prev) =>\r\n                                Math.min(prev + 1, totalPages)\r\n                              );\r\n                            }}\r\n                            className={\r\n                              currentPage === totalPages\r\n                                ? \"pointer-events-none opacity-50\"\r\n                                : \"\"\r\n                            }\r\n                          />\r\n                        </PaginationItem>\r\n                      </PaginationContent>\r\n                    </Pagination>\r\n                  )}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n      \r\n\r\n        {/* Upload Dialog - responsive max-width */}\r\n        <Dialog open={isUploadOpen} onOpenChange={setIsUploadOpen}>\r\n          <DialogContent className=\"max-w-[95vw] sm:max-w-md rounded-lg p-0 max-h-[90vh] overflow-hidden\">\r\n            <DialogHeader className=\"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b\">\r\n              <DialogTitle className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\r\n                <Upload className=\"w-5 h-5\" />\r\n                Upload Document\r\n              </DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"p-4 max-h-[70vh] overflow-y-auto\">\r\n              <UploadDocument\r\n                projectId={projectId}\r\n                project={project}\r\n                onSuccess={handleUploadSuccess}\r\n                onCancel={() => setIsUploadOpen(false)}\r\n              />\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        {/* Delete Confirmation Dialog */}\r\n        <Dialog\r\n          open={deleteDialog.open}\r\n          onOpenChange={() =>\r\n            setDeleteDialog({ open: false, docId: null, docName: null })\r\n          }\r\n        >\r\n          <DialogContent className=\"max-w-[95vw] sm:max-w-md\">\r\n            <DialogHeader>\r\n              <DialogTitle className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\r\n                <AlertCircle className=\"w-5 h-5 text-red-500\" />\r\n                Delete Document\r\n              </DialogTitle>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Are you sure you want to delete \"\r\n                <strong>{deleteDialog.docName}</strong>\"? This action cannot be\r\n                undone.\r\n              </p>\r\n            </DialogHeader>\r\n            <div className=\"flex gap-3 pt-4\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() =>\r\n                  setDeleteDialog({ open: false, docId: null, docName: null })\r\n                }\r\n                className=\"flex-1 text-sm\"\r\n                disabled={deleting}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                variant=\"destructive\"\r\n                onClick={handleDeleteDocument}\r\n                className=\"flex-1 text-sm\"\r\n                disabled={deleting}\r\n              >\r\n                {deleting ? (\r\n                  <>\r\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                    Deleting...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                    Delete\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    </TooltipProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}