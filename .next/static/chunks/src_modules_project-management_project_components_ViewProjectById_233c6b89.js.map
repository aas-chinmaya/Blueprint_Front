{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/project/components/ViewProjectById.js"],"sourcesContent":["\r\n\r\n\r\n\r\n// \"use client\";\r\n\r\n// import React, { useEffect, useState, useRef } from \"react\";\r\n// import { useDispatch, useSelector } from \"react-redux\";\r\n// import {\r\n//   fetchProjectById,\r\n//   changeProjectStatus,\r\n//   resetSuccessMessage,\r\n// } from \"@/modules/project-management/project/slices/projectSlice\";\r\n// import {\r\n//   FiArrowLeft,\r\n//   FiDownload,\r\n//   FiUsers,\r\n//   FiList,\r\n//   FiFileText,\r\n//   FiInfo,\r\n//   FiCalendar,\r\n//   FiUser,\r\n//   FiPaperclip,\r\n//   FiFile,\r\n// } from \"react-icons/fi\";\r\n// import {\r\n//   Briefcase,\r\n//   TrendingUp,\r\n//   FileStack,\r\n//   BugIcon,\r\n//   Dock,\r\n// } from \"lucide-react\";\r\n// import { useRouter, useSearchParams } from \"next/navigation\";\r\n// import AllTaskListByProjectId from \"@/modules/project-management/task/components/AllTaskListByProjectId\";\r\n// import { toast } from \"sonner\";\r\n// import { Button } from \"@/components/ui/button\";\r\n// import { LuFolderClock } from \"react-icons/lu\";\r\n// import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\n// import {\r\n//   Dialog,\r\n//   DialogContent,\r\n//   DialogHeader,\r\n//   DialogTitle,\r\n//   DialogFooter,\r\n// } from \"@/components/ui/dialog\";\r\n// import {\r\n//   Select,\r\n//   SelectContent,\r\n//   SelectItem,\r\n//   SelectTrigger,\r\n//   SelectValue,\r\n// } from \"@/components/ui/select\";\r\n// import { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\n// import ProjectbugList from \"../../issues/components/bug/ProjectbugList\";\r\n// import Spinner from \"@/components/loader/Spinner\";\r\n// import ProjectwiseAllMeetingAndMom from \"@/modules/meet/components/ProjectwiseAllmeetingMom\";\r\n// import { formatDateUTC } from \"@/utils/formatDate\";\r\n// import DocumentManager from \"@/modules/document/components/DocumentManager\";\r\n// import ProjectMetrics from \"../../analytics/components/ProjectMetrics\";\r\n// import TeamManagement from \"@/modules/project-management/team/components/TeamManagement\";\r\n// import {\r\n//   Popover,\r\n//   PopoverTrigger,\r\n//   PopoverContent,\r\n// } from \"@/components/ui/popover\";\r\n// import ProjectBudgetWrapper from \"@/modules/finance/budget/components/budgetWraper\";\r\n\r\n// export default function ViewProjectById({ projectId }) {\r\n//   const router = useRouter();\r\n//   const searchParams = useSearchParams();\r\n//   const initialTab = searchParams.get(\"tab\") || \"details\";\r\n//   const [activeTab, setActiveTab] = useState(initialTab);\r\n//   const [isProjectActive, setIsProjectActive] = useState(false);\r\n\r\n//   // Dynamic tabs with overflow detection only on sm/md (below lg)\r\n//   const tabsContainerRef = useRef(null);\r\n//   const [visibleTabs, setVisibleTabs] = useState([]);\r\n//   const [hiddenTabs, setHiddenTabs] = useState([]);\r\n//   const [showMoreMenu, setShowMoreMenu] = useState(false);\r\n//   const [isLargeScreen, setIsLargeScreen] = useState(true);\r\n\r\n//   const tabs = [\r\n//     { id: \"details\", label: \"Details\", icon: <FiInfo className=\"h-5 w-5\" /> },\r\n//     { id: \"team\", label: \"Team\", icon: <FiUsers className=\"h-5 w-5\" /> },\r\n//     { id: \"budget\", label: \"Budget\", icon: <FiUsers className=\"h-5 w-5\" /> },\r\n//     { id: \"task\", label: \"Task\", icon: <FiList className=\"h-5 w-5\" /> },\r\n//     { id: \"issues\", label: \"Issues\", icon: <BugIcon className=\"h-5 w-5\" /> },\r\n//     { id: \"mom\", label: \"Mom\", icon: <LuFolderClock className=\"h-5 w-5\" /> },\r\n//     { id: \"document\", label: \"Document\", icon: <Dock className=\"h-5 w-5\" /> },\r\n//   ];\r\n\r\n//   // Track screen size: lg+ shows all tabs, sm/md uses dynamic overflow\r\n//   useEffect(() => {\r\n//     const checkScreenSize = () => {\r\n//       const large = window.innerWidth >= 1024; // Tailwind 'lg' breakpoint\r\n//       setIsLargeScreen(large);\r\n//       if (large) {\r\n//         setVisibleTabs(tabs);\r\n//         setHiddenTabs([]);\r\n//       } else {\r\n//         updateTabVisibility();\r\n//       }\r\n//     };\r\n\r\n//     const updateTabVisibility = () => {\r\n//       if (!tabsContainerRef.current) return;\r\n\r\n//       const container = tabsContainerRef.current;\r\n//       const containerWidth = container.offsetWidth;\r\n//       const tabElements = container.querySelectorAll(\".tab-button\");\r\n//       const moreButton = container.querySelector(\".more-button\");\r\n//       const moreWidth = moreButton ? moreButton.offsetWidth + 24 : 100; // padding + margin\r\n\r\n//       let totalWidth = 0;\r\n//       let visibleCount = 0;\r\n\r\n//       tabElements.forEach((btn, index) => {\r\n//         const btnWidth = btn.offsetWidth + 16; // gap + padding\r\n//         if (totalWidth + btnWidth < containerWidth - moreWidth) {\r\n//           totalWidth += btnWidth;\r\n//           visibleCount = index + 1;\r\n//         }\r\n//       });\r\n\r\n//       setVisibleTabs(tabs.slice(0, visibleCount));\r\n//       setHiddenTabs(tabs.slice(visibleCount));\r\n//     };\r\n\r\n//     checkScreenSize();\r\n//     window.addEventListener(\"resize\", checkScreenSize);\r\n//     return () => window.removeEventListener(\"resize\", checkScreenSize);\r\n//   }, []);\r\n\r\n//   // Recalculate visible/hidden on tab change or content load (for sm/md only)\r\n//   useEffect(() => {\r\n//     if (!isLargeScreen) {\r\n//       const timer = setTimeout(() => {\r\n//         if (tabsContainerRef.current) {\r\n//           updateTabVisibility();\r\n//         }\r\n//       }, 50);\r\n//       return () => clearTimeout(timer);\r\n//     }\r\n//   }, [activeTab, isLargeScreen,tabs]);\r\n\r\n//   const updateTabVisibility = () => {}; // Defined inside useEffect above\r\n\r\n//   useEffect(() => {\r\n//     if (activeTab !== initialTab) {\r\n//       const params = new URLSearchParams(window.location.search);\r\n//       params.set(\"tab\", activeTab);\r\n//       router.replace(`?${params.toString()}`, { scroll: false });\r\n//     }\r\n//   }, [activeTab, initialTab, router]);\r\n\r\n//   const dispatch = useDispatch();\r\n//   const { project, status, error, successMessage } = useSelector((state) => state.project);\r\n//   const { currentUser, isTeamLead } = useCurrentUser(project?.data?.teamLeadId);\r\n\r\n//   useEffect(() => {\r\n//     if (projectId) {\r\n//       dispatch(fetchProjectById(projectId));\r\n//     }\r\n//   }, [projectId, dispatch]);\r\n\r\n//   const [newStatus, setNewStatus] = useState(\"\");\r\n//   const [statusUpdateMessage, setStatusUpdateMessage] = useState(\"\");\r\n//   const [isStatusModalOpen, setIsStatusModalOpen] = useState(false);\r\n//   const [isConfirmModalOpen, setIsConfirmModalOpen] = useState(false);\r\n//   const [isDownloading, setIsDownloading] = useState(false);\r\n//   const [hasFetchedAfterStatusChange, setHasFetchedAfterStatusChange] = useState(false);\r\n//   const [showLoader, setShowLoader] = useState(true);\r\n\r\n//   useEffect(() => {\r\n//     if (project?.data?.status && project.data.status !== \"Planned\") {\r\n//       setIsProjectActive(true);\r\n//     }\r\n//   }, [project?.data?.status]);\r\n\r\n//   useEffect(() => {\r\n//     if (successMessage && !hasFetchedAfterStatusChange) {\r\n//       setStatusUpdateMessage(successMessage);\r\n//       setHasFetchedAfterStatusChange(true);\r\n//       dispatch(fetchProjectById(projectId));\r\n//       setNewStatus(\"\");\r\n//       setTimeout(() => {\r\n//         setStatusUpdateMessage(\"\");\r\n//         dispatch(resetSuccessMessage());\r\n//         setHasFetchedAfterStatusChange(false);\r\n//       }, 3000);\r\n//     }\r\n//     if (error?.statusChange) {\r\n//       setStatusUpdateMessage(error.statusChange);\r\n//       setTimeout(() => setStatusUpdateMessage(\"\"), 3000);\r\n//     }\r\n//   }, [successMessage, error?.statusChange, dispatch, projectId, hasFetchedAfterStatusChange]);\r\n\r\n//   useEffect(() => {\r\n//     const timer = setTimeout(() => setShowLoader(false), 1000);\r\n//     return () => clearTimeout(timer);\r\n//   }, []);\r\n\r\n\r\n//   const handleDownload = (url, filename) => {\r\n//     setIsDownloading(true);\r\n//     const link = document.createElement(\"a\");\r\n//     link.href = url;\r\n//     link.download = filename;\r\n//     document.body.appendChild(link);\r\n//     link.click();\r\n//     document.body.removeChild(link);\r\n//     setTimeout(() => setIsDownloading(false), 1000);\r\n//   };\r\n\r\n//   const handleStatusSubmit = () => {\r\n//     if (newStatus) {\r\n//       setIsStatusModalOpen(false);\r\n//       setIsConfirmModalOpen(true);\r\n//     }\r\n//   };\r\n\r\n//   const handleConfirmStatusChange = () => {\r\n//     if (newStatus && projectId) {\r\n//       dispatch(changeProjectStatus({ projectId, status: newStatus }));\r\n//       setIsConfirmModalOpen(false);\r\n//       toast.success(\"Status Updated!\");\r\n//       setIsProjectActive(true);\r\n//     }\r\n//   };\r\n\r\n//   const statusOptions = [\"In Progress\", \"Completed\"];\r\n\r\n//   const canEditStatus =\r\n//     currentUser?.role?.toLowerCase() === \"cpc\" ||\r\n//     isTeamLead ||\r\n//     currentUser?.position === \"Team Lead\";\r\n\r\n//   const getFileTypeInfo = (filename) => {\r\n//     const ext = filename.split(\".\").pop().toLowerCase();\r\n//     switch (ext) {\r\n//       case \"pdf\":\r\n//         return { icon: <FiFileText className=\"h-5 w-5 text-red-600\" />, bg: \"bg-red-50\" };\r\n//       case \"doc\":\r\n//       case \"docx\":\r\n//         return { icon: <FiFileText className=\"h-5 w-5 text-blue-600\" />, bg: \"bg-blue-50\" };\r\n//       case \"xls\":\r\n//       case \"xlsx\":\r\n//         return { icon: <FiFileText className=\"h-5 w-5 text-green-600\" />, bg: \"bg-green-50\" };\r\n//       case \"ppt\":\r\n//       case \"pptx\":\r\n//         return { icon: <FiFileText className=\"h-5 w-5 text-orange-600\" />, bg: \"bg-orange-50\" };\r\n//       case \"csv\":\r\n//         return { icon: <FiFileText className=\"h-5 w-5 text-yellow-600\" />, bg: \"bg-yellow-50\" };\r\n//       default:\r\n//         return { icon: <FiFile className=\"h-5 w-5 text-gray-600\" />, bg: \"bg-gray-50\" };\r\n//     }\r\n//   };\r\n\r\n//   if (status?.fetchProject === \"loading\" || showLoader) {\r\n//     return (\r\n//       <div className=\"flex flex-col items-center justify-center w-full h-[calc(100vh-64px)]\">\r\n//         <Spinner />\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"min-h-screen bg-gray-50\">\r\n//       <Card className=\"shadow-2xl border border-gray-200 mx-auto max-w-full\">\r\n//         <CardHeader className=\"border-b border-gray-200 bg-white\">\r\n         \r\n//           <div className=\"flex flex-wrap items-center justify-between gap-3 sm:gap-4\">\r\n//   {/* Left side: Back + Project name */}\r\n//   <div className=\"flex items-center min-w-0 gap-2 sm:gap-4\">\r\n//     <Button\r\n//       onClick={() => router.back()}\r\n//       className=\"inline-flex shrink-0 items-center gap-2 bg-blue-600 text-white font-medium text-xs sm:text-sm px-3 sm:px-4 py-2 rounded-md shadow-sm hover:bg-blue-700 transition-colors duration-200\"\r\n//     >\r\n//       <FiArrowLeft className=\"h-4 w-4\" />\r\n//       <span className=\"hidden sm:inline\">Back</span>\r\n//     </Button>\r\n\r\n//     <CardTitle\r\n//       className=\"truncate text-base sm:text-xl font-semibold text-gray-900 max-w-[150px] sm:max-w-[250px] md:max-w-[400px]\"\r\n//       title={project?.data?.projectName || \"Unnamed Project\"}\r\n//     >\r\n//       {project?.data?.projectName || \"Unnamed Project\"}\r\n//     </CardTitle>\r\n//   </div>\r\n\r\n//   {/* Right side: Status + message */}\r\n//   <div className=\"flex items-center flex-wrap justify-end gap-2 sm:gap-4 mt-2 sm:mt-0\">\r\n//     {statusUpdateMessage && (\r\n//       <p\r\n//         className={`text-xs sm:text-sm font-medium ${\r\n//           successMessage ? \"text-green-600\" : \"text-red-600\"\r\n//         }`}\r\n//       >\r\n//         {statusUpdateMessage}\r\n//       </p>\r\n//     )}\r\n//     {canEditStatus && (\r\n//       <Button\r\n//         onClick={() => setIsStatusModalOpen(true)}\r\n//         className=\"bg-blue-600 text-white hover:bg-blue-700 text-xs sm:text-sm px-3 sm:px-4 py-2\"\r\n//       >\r\n//         {isProjectActive ? \"Update Status\" : \"Start Project\"}\r\n//       </Button>\r\n//     )}\r\n//   </div>\r\n// </div>\r\n\r\n//         </CardHeader>\r\n\r\n//         <CardContent className=\"p-0\">\r\n//           {!isProjectActive && project?.data?.status === \"Planned\" && canEditStatus ? (\r\n    \r\n//             <div className=\"min-h-screen flex items-center justify-center  p-6\">\r\n//   <div className=\" p-10 max-w-md w-full text-center\">\r\n//     <h2 className=\"text-2xl font-semibold text-gray-800 mb-4\">\r\n//       Project is in Planned Stage\r\n//     </h2>\r\n//     <p className=\"text-gray-600 mb-8 leading-relaxed\">\r\n//       This project is currently in the planning phase. To access tasks, team, issues, \r\n//       documents, and other features, please start the project by changing its status \r\n//       to <span className=\"font-medium text-blue-600\">In Progress</span>.\r\n//     </p>\r\n//     <Button\r\n//       onClick={() => {\r\n//         setNewStatus(\"In Progress\");\r\n//         setIsStatusModalOpen(true);\r\n//       }}\r\n//       className=\"bg-blue-600 text-white hover:bg-blue-700 text-lg px-6 py-3 rounded-xl shadow-md transition-all duration-200 w-full\"\r\n//     >\r\n//       Start Project Now\r\n//     </Button>\r\n//   </div>\r\n// </div>\r\n\r\n//           ) : (\r\n//             <>\r\n//               {/* Responsive Tab Navigation - 3 dots only on sm/md */}\r\n//               <div className=\"border-b border-gray-200 bg-white sticky top-0 z-10\">\r\n//                 <div\r\n//                   ref={tabsContainerRef}\r\n//                   className=\"flex overflow-x-auto scrollbar-hide px-4\"\r\n//                   onScroll={() => setShowMoreMenu(false)}\r\n//                 >\r\n//                   {visibleTabs.map((tab) => (\r\n//                     <button\r\n//                       key={tab.id}\r\n//                       onClick={() => setActiveTab(tab.id)}\r\n//                       className={`tab-button flex items-center gap-3 px-6 py-4 text-sm font-medium border-b-2 transition-all duration-300 flex-shrink-0 whitespace-nowrap ${\r\n//                         activeTab === tab.id\r\n//                           ? \"border-blue-600 text-blue-600 bg-blue-50\"\r\n//                           : \"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300 hover:bg-gray-50\"\r\n//                       }`}\r\n//                     >\r\n//                       {tab.icon}\r\n//                       <span className=\"hidden sm:inline\">{tab.label}</span>\r\n//                     </button>\r\n//                   ))}\r\n\r\n//                   {/* 3-dot More menu - only shows when needed on sm/md */}\r\n//                   {!isLargeScreen && hiddenTabs.length > 0 && (\r\n//                     <Popover open={showMoreMenu} onOpenChange={setShowMoreMenu}>\r\n//                       <PopoverTrigger asChild>\r\n//                         <button\r\n//                           className={`more-button flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-all duration-300 whitespace-nowrap ${\r\n//                             showMoreMenu\r\n//                               ? \"border-blue-600 text-blue-600 bg-blue-50\"\r\n//                               : \"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300 hover:bg-gray-50\"\r\n//                           }`}\r\n//                         >\r\n//                           <span className=\"text-2xl leading-none\">â‹¯</span>\r\n//                           <span className=\"hidden sm:inline\">More</span>\r\n//                         </button>\r\n//                       </PopoverTrigger>\r\n//                       <PopoverContent className=\"w-56 p-0 rounded-xl shadow-2xl border border-gray-200 mt-2\">\r\n//                         <div className=\"py-2\">\r\n//                           {hiddenTabs.map((tab) => (\r\n//                             <button\r\n//                               key={tab.id}\r\n//                               onClick={() => {\r\n//                                 setActiveTab(tab.id);\r\n//                                 setShowMoreMenu(false);\r\n//                               }}\r\n//                               className=\"flex items-center gap-3 w-full px-4 py-3 text-sm text-left hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 first:rounded-t-xl last:rounded-b-xl\"\r\n//                             >\r\n//                               {tab.icon}\r\n//                               <span>{tab.label}</span>\r\n//                             </button>\r\n//                           ))}\r\n//                         </div>\r\n//                       </PopoverContent>\r\n//                     </Popover>\r\n//                   )}\r\n//                 </div>\r\n//               </div>\r\n\r\n//               {/* Tab Content */}\r\n//               <div className=\"p-2 min-h-screen\">\r\n//                 {activeTab === \"details\" && (\r\n//                   <div className=\"space-y-12\">\r\n                    \r\n//                       <ProjectMetrics projectId={projectId} />\r\n                  \r\n\r\n//                     <div className=\"\">\r\n//                       <h3 className=\"text-2xl font-bold text-gray-900 flex items-center gap-3 mb-8 border-b-2 border-gray-200 pb-4\">\r\n//                         <FiInfo className=\"h-7 w-7 text-blue-600\" />\r\n//                         Project Information\r\n//                       </h3>\r\n//                       <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-10\">\r\n//                         <div className=\"space-y-7\">\r\n//                           <div className=\"flex items-start gap-5 p-4 bg-green-50 rounded-xl\">\r\n//                             <div className=\"p-3 bg-green-100 rounded-lg\">\r\n//                               <Briefcase className=\"h-6 w-6 text-green-600\" />\r\n//                             </div>\r\n//                             <div>\r\n//                               <p className=\"text-sm font-semibold text-gray-600\">Project ID</p>\r\n//                               <p className=\"text-xl font-bold text-gray-900 mt-1\">{project?.data?.projectId || \"N/A\"}</p>\r\n//                             </div>\r\n//                           </div>\r\n//                           <div className=\"flex items-start gap-5 p-4 bg-green-50 rounded-xl\">\r\n//                             <div className=\"p-3 bg-green-100 rounded-lg\">\r\n//                               <FiPaperclip className=\"h-6 w-6 text-green-600\" />\r\n//                             </div>\r\n//                             <div>\r\n//                               <p className=\"text-sm font-semibold text-gray-600\">Category</p>\r\n//                               <p className=\"text-xl font-bold text-gray-900 mt-1\">\r\n//                                 {project?.data?.category\r\n//                                   ? project.data.category\r\n//                                       .toLowerCase()\r\n//                                       .split(\" \")\r\n//                                       .map((w) => w[0].toUpperCase() + w.slice(1))\r\n//                                       .join(\" \")\r\n//                                   : \"N/A\"}\r\n//                               </p>\r\n//                             </div>\r\n//                           </div>\r\n//                           {project?.data?.clientId?.trim() && (\r\n//                             <div className=\"flex items-start gap-5 p-4 bg-green-50 rounded-xl\">\r\n//                               <div className=\"p-3 bg-green-100 rounded-lg\">\r\n//                                 <FiUser className=\"h-6 w-6 text-green-600\" />\r\n//                               </div>\r\n//                               <div>\r\n//                                 <p className=\"text-sm font-semibold text-gray-600\">Client ID</p>\r\n//                                 <p className=\"text-xl font-bold text-gray-900 mt-1\">{project.data.clientId}</p>\r\n//                               </div>\r\n//                             </div>\r\n//                           )}\r\n//                           <div className=\"flex items-start gap-5 p-4 bg-green-50 rounded-xl\">\r\n//                             <div className=\"p-3 bg-green-100 rounded-lg\">\r\n//                               <FiUser className=\"h-6 w-6 text-green-600\" />\r\n//                             </div>\r\n//                             <div>\r\n//                               <p className=\"text-sm font-semibold text-gray-600\">Team Lead</p>\r\n//                               <p className=\"text-xl font-bold text-gray-900 mt-1\">{project?.data?.teamLeadName || \"Unassigned\"}</p>\r\n//                             </div>\r\n//                           </div>\r\n//                         </div>\r\n\r\n//                         <div className=\"space-y-7\">\r\n//                           <div className=\"flex items-start gap-5 p-4 bg-blue-50 rounded-xl\">\r\n//                             <div className=\"p-3 bg-blue-100 rounded-lg\">\r\n//                               <TrendingUp className=\"h-6 w-6 text-blue-600\" />\r\n//                             </div>\r\n//                             <div>\r\n//                               <p className=\"text-sm font-semibold text-gray-600\">Status</p>\r\n//                               <span\r\n//                                 className={`inline-flex items-center px-5 py-2 rounded-full text-sm font-bold mt-2 ${\r\n//                                   project?.data?.status === \"Completed\"\r\n//                                     ? \"bg-green-100 text-green-800\"\r\n//                                     : project?.data?.status === \"In Progress\"\r\n//                                     ? \"bg-blue-100 text-blue-800\"\r\n//                                     : \"bg-gray-100 text-gray-800\"\r\n//                                 }`}\r\n//                               >\r\n//                                 {project?.data?.status || \"N/A\"}\r\n//                               </span>\r\n//                             </div>\r\n//                           </div>\r\n//                           <div className=\"flex items-start gap-5 p-4 bg-purple-50 rounded-xl\">\r\n//                             <div className=\"p-3 bg-purple-100 rounded-lg\">\r\n//                               <FiCalendar className=\"h-6 w-6 text-purple-600\" />\r\n//                             </div>\r\n//                             <div>\r\n//                               <p className=\"text-sm font-semibold text-gray-600\">Onboarding Date</p>\r\n//                               <p className=\"text-xl font-bold text-gray-900 mt-1\">\r\n//                                 {project?.data?.createdAt ? formatDateUTC(project.data.createdAt) : \"N/A\"}\r\n//                               </p>\r\n//                             </div>\r\n//                           </div>\r\n//                           {project?.data?.startDate && (\r\n//                             <div className=\"flex items-start gap-5 p-4 bg-indigo-50 rounded-xl\">\r\n//                               <div className=\"p-3 bg-indigo-100 rounded-lg\">\r\n//                                 <FiCalendar className=\"h-6 w-6 text-indigo-600\" />\r\n//                               </div>\r\n//                               <div>\r\n//                                 <p className=\"text-sm font-semibold text-gray-600\">Start Date</p>\r\n//                                 <p className=\"text-xl font-bold text-gray-900 mt-1\">{formatDateUTC(project.data.startDate)}</p>\r\n//                               </div>\r\n//                             </div>\r\n//                           )}\r\n//                           {project?.data?.endDate && (\r\n//                             <div className=\"flex items-start gap-5 p-4 bg-red-50 rounded-xl\">\r\n//                               <div className=\"p-3 bg-red-100 rounded-lg\">\r\n//                                 <FiCalendar className=\"h-6 w-6 text-red-600\" />\r\n//                               </div>\r\n//                               <div>\r\n//                                 <p className=\"text-sm font-semibold text-gray-600\">End Date</p>\r\n//                                 <p className=\"text-xl font-bold text-gray-900 mt-1\">{formatDateUTC(project.data.endDate)}</p>\r\n//                               </div>\r\n//                             </div>\r\n//                           )}\r\n//                           {project?.data?.expectedEndDate && (\r\n//                             <div className=\"flex items-start gap-5 p-4 bg-orange-50 rounded-xl\">\r\n//                               <div className=\"p-3 bg-orange-100 rounded-lg\">\r\n//                                 <FiCalendar className=\"h-6 w-6 text-orange-600\" />\r\n//                               </div>\r\n//                               <div>\r\n//                                 <p className=\"text-sm font-semibold text-gray-600\">Expected End Date</p>\r\n//                                 <p className=\"text-xl font-bold text-gray-900 mt-1\">{formatDateUTC(project.data.expectedEndDate)}</p>\r\n//                               </div>\r\n//                             </div>\r\n//                           )}\r\n//                         </div>\r\n//                       </div>\r\n//                     </div>\r\n\r\n//                     {project?.data?.attachments?.length > 0 && (\r\n//                       <div className=\"\">\r\n//                         <h3 className=\"text-2xl font-bold text-gray-900 flex items-center gap-3 mb-8 border-b-2 border-gray-200 pb-4\">\r\n//                           <FileStack className=\"h-7 w-7 text-blue-600\" />\r\n//                           Attachments\r\n//                         </h3>\r\n//                         <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n//                           {project.data.attachments.map((attachment, index) => {\r\n//                             const fileInfo = getFileTypeInfo(attachment.filename);\r\n//                             return (\r\n//                               <div\r\n//                                 key={index}\r\n//                                 className=\"group relative bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl border border-gray-200 overflow-hidden hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300\"\r\n//                               >\r\n//                                 <button\r\n//                                   onClick={() => handleDownload(attachment.url, attachment.filename)}\r\n//                                   disabled={isDownloading}\r\n//                                   className=\"cursor-pointer w-full p-6 text-left space-y-4 hover:bg-white/50 transition-all\"\r\n//                                 >\r\n//                                   <div className={`p-4 rounded-xl ${fileInfo.bg} w-fit shadow-md`}>\r\n//                                     {fileInfo.icon}\r\n//                                   </div>\r\n//                                   <div>\r\n//                                     <p className=\"font-semibold text-gray-900 truncate text-base\">{attachment.filename}</p>\r\n//                                     <p className=\"text-sm text-gray-500 mt-1\">Click to download</p>\r\n//                                   </div>\r\n//                                   <div className=\"flex items-center gap-2 text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n//                                     <FiDownload className=\"h-5 w-5\" />\r\n//                                     <span className=\"font-medium\">Download</span>\r\n//                                   </div>\r\n//                                 </button>\r\n//                               </div>\r\n//                             );\r\n//                           })}\r\n//                         </div>\r\n//                       </div>\r\n//                     )}\r\n\r\n//                     <div className=\"\">\r\n//                       <h3 className=\"text-2xl font-bold text-gray-900 flex items-center gap-3 mb-8 border-b-2 border-gray-200 pb-4\">\r\n//                         <FiFileText className=\"h-7 w-7 text-blue-600\" />\r\n//                         Description\r\n//                       </h3>\r\n//                       <div className=\"prose prose-lg max-w-none\">\r\n//                         {project?.data?.description ? (\r\n//                           <p className=\"text-gray-700 whitespace-pre-wrap leading-relaxed text-base\">\r\n//                             {project.data.description}\r\n//                           </p>\r\n//                         ) : (\r\n//                           <p className=\"text-gray-500 italic text-lg\">No description provided for this project.</p>\r\n//                         )}\r\n//                       </div>\r\n//                     </div>\r\n//                   </div>\r\n//                 )}\r\n\r\n//                 {activeTab === \"task\" && (\r\n//                   <div className=\"\">\r\n//                     <AllTaskListByProjectId project={project?.data} projectId={project?.data?.projectId} />\r\n//                   </div>\r\n//                 )}\r\n//                 {activeTab === \"budget\" && (\r\n//                   <div className=\"\">\r\n//                 <ProjectBudgetWrapper projectId={projectId} />\r\n//                   </div>\r\n//                 )}\r\n\r\n//                 {activeTab === \"team\" && <TeamManagement project={project} projectId={projectId} />}\r\n\r\n//                 {activeTab === \"issues\" && (\r\n//                   <div className=\"\">\r\n//                     <ProjectbugList project={project} projectId={projectId} teamLeadId={project?.data?.teamLeadId} />\r\n//                   </div>\r\n//                 )}\r\n\r\n//                 {activeTab === \"mom\" && (\r\n//                   <div className=\"\">\r\n//                     <ProjectwiseAllMeetingAndMom\r\n//                       projectName={project?.data?.projectName}\r\n//                       project={project?.data}\r\n//                       projectId={projectId}\r\n//                       teamLeadId={project?.data?.teamLeadId}\r\n//                     />\r\n//                   </div>\r\n//                 )}\r\n\r\n//                 {activeTab === \"document\" && (\r\n//                   <div className=\"\">\r\n//                     <DocumentManager\r\n//                       project={project?.data}\r\n//                       projectId={projectId}\r\n//                       teamLeadId={project?.data?.teamLeadId}\r\n//                     />\r\n//                   </div>\r\n//                 )}\r\n//               </div>\r\n//             </>\r\n//           )}\r\n//         </CardContent>\r\n//       </Card>\r\n\r\n//       {/* Status Modals remain unchanged */}\r\n//       <Dialog open={isStatusModalOpen} onOpenChange={setIsStatusModalOpen}>\r\n//         <DialogContent className=\"sm:max-w-md rounded-2xl shadow-2xl\">\r\n//           <DialogHeader>\r\n//             <DialogTitle className=\"text-2xl font-bold text-gray-900\">\r\n//               {project?.data?.status === \"Planned\" ? \"Start Project\" : \"Update Project Status\"}\r\n//             </DialogTitle>\r\n//           </DialogHeader>\r\n//           <div className=\"py-6\">\r\n//             <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Select New Status</label>\r\n//             <Select value={newStatus} onValueChange={setNewStatus}>\r\n//               <SelectTrigger className=\"w-full h-12 text-base border-2\">\r\n//                 <SelectValue placeholder=\"Choose status\" />\r\n//               </SelectTrigger>\r\n//               <SelectContent>\r\n//                 {statusOptions\r\n//                   .filter((s) => s !== project?.data?.status)\r\n//                   .map((s) => (\r\n//                     <SelectItem key={s} value={s} className=\"text-base\">\r\n//                       {s}\r\n//                     </SelectItem>\r\n//                   ))}\r\n//               </SelectContent>\r\n//             </Select>\r\n//           </div>\r\n//           <DialogFooter>\r\n//             <Button variant=\"outline\" onClick={() => setIsStatusModalOpen(false)} className=\"px-6 py-3 text-base\">\r\n//               Cancel\r\n//             </Button>\r\n//             <Button onClick={handleStatusSubmit} disabled={!newStatus} className=\"bg-blue-600 hover:bg-blue-700 px-8 py-3 text-base\">\r\n//               Proceed\r\n//             </Button>\r\n//           </DialogFooter>\r\n//         </DialogContent>\r\n//       </Dialog>\r\n\r\n//       <Dialog open={isConfirmModalOpen} onOpenChange={setIsConfirmModalOpen}>\r\n//         <DialogContent className=\"sm:max-w-md rounded-2xl shadow-2xl\">\r\n//           <DialogHeader>\r\n//             <DialogTitle className=\"text-2xl font-bold text-gray-900\">Confirm Status Change</DialogTitle>\r\n//           </DialogHeader>\r\n//           <div className=\"py-6\">\r\n//             <p className=\"text-lg text-gray-700\">\r\n//               Are you sure you want to change the project status to{\" \"}\r\n//               <span className=\"font-bold text-blue-600 text-xl\">{newStatus}</span>?\r\n//             </p>\r\n//           </div>\r\n//           <DialogFooter>\r\n//             <Button variant=\"outline\" onClick={() => setIsConfirmModalOpen(false)} className=\"px-6 py-3 text-base\">\r\n//               Cancel\r\n//             </Button>\r\n//             <Button onClick={handleConfirmStatusChange} className=\"bg-blue-600 hover:bg-blue-700 px-8 py-3 text-base\">\r\n//               Confirm\r\n//             </Button>\r\n//           </DialogFooter>\r\n//         </DialogContent>\r\n//       </Dialog>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\"use client\";\r\n\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  fetchProjectById,\r\n  changeProjectStatus,\r\n  resetSuccessMessage,\r\n} from \"@/modules/project-management/project/slices/projectSlice\";\r\nimport {\r\n  FiArrowLeft,\r\n  FiDownload,\r\n  FiUsers,\r\n  FiList,\r\n  FiFileText,\r\n  FiInfo,\r\n  FiCalendar,\r\n  FiUser,\r\n  FiPaperclip,\r\n  FiFile,\r\n} from \"react-icons/fi\";\r\nimport {\r\n  Briefcase,\r\n  TrendingUp,\r\n  FileStack,\r\n  BugIcon,\r\n  Dock,\r\n  DollarSign,\r\n  Wallet,\r\n} from \"lucide-react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport AllTaskListByProjectId from \"@/modules/project-management/task/components/AllTaskListByProjectId\";\r\nimport { toast } from \"sonner\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { LuFolderClock } from \"react-icons/lu\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\nimport ProjectbugList from \"../../issues/components/bug/ProjectbugList\";\r\nimport Spinner from \"@/components/loader/Spinner\";\r\nimport ProjectwiseAllMeetingAndMom from \"@/modules/meet/components/ProjectwiseAllmeetingMom\";\r\nimport { formatDateUTC } from \"@/utils/formatDate\";\r\nimport DocumentManager from \"@/modules/document/components/DocumentManager\";\r\nimport ProjectMetrics from \"../../analytics/components/ProjectMetrics\";\r\nimport TeamManagement from \"@/modules/project-management/team/components/TeamManagement\";\r\nimport {\r\n  Popover,\r\n  PopoverTrigger,\r\n  PopoverContent,\r\n} from \"@/components/ui/popover\";\r\nimport ProjectBudgetWrapper from \"@/modules/finance/budget/components/budgetWraper\";\r\n\r\nexport default function ViewProjectById({ projectId }) {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const initialTab = searchParams.get(\"tab\") || \"details\";\r\n  const [activeTab, setActiveTab] = useState(initialTab);\r\n  const [isProjectActive, setIsProjectActive] = useState(false);\r\n\r\n  const tabsContainerRef = useRef(null);\r\n  const [visibleTabs, setVisibleTabs] = useState([]);\r\n  const [hiddenTabs, setHiddenTabs] = useState([]);\r\n  const [showMoreMenu, setShowMoreMenu] = useState(false);\r\n  const [isLargeScreen, setIsLargeScreen] = useState(true);\r\n\r\n  const dispatch = useDispatch();\r\n  const { project, status, error, successMessage } = useSelector((state) => state.project);\r\n  const { currentUser, isTeamLead } = useCurrentUser(project?.data?.teamLeadId);\r\n\r\n  // Permission: Only CPC or Team Lead can see Budget tab\r\n  const canViewBudget =\r\n    currentUser?.role?.toLowerCase() === \"cpc\" ||\r\n    isTeamLead ||\r\n    currentUser?.position === \"Team Lead\";\r\n\r\n  const canEditStatus =\r\n    currentUser?.role?.toLowerCase() === \"cpc\" ||\r\n    isTeamLead ||\r\n    currentUser?.position === \"Team Lead\";\r\n\r\n  // Base tabs (without budget)\r\n  const baseTabs = [\r\n    { id: \"details\", label: \"Details\", icon: <FiInfo className=\"h-5 w-5\" /> },\r\n    { id: \"team\", label: \"Team\", icon: <FiUsers className=\"h-5 w-5\" /> },\r\n    { id: \"task\", label: \"Task\", icon: <FiList className=\"h-5 w-5\" /> },\r\n    { id: \"issues\", label: \"Issues\", icon: <BugIcon className=\"h-5 w-5\" /> },\r\n    { id: \"mom\", label: \"MoM\", icon: <LuFolderClock className=\"h-5 w-5\" /> },\r\n    { id: \"document\", label: \"Document\", icon: <Dock className=\"h-5 w-5\" /> },\r\n  ];\r\n\r\n  // Insert Budget tab after \"Team\" only if allowed\r\n  const tabs = canViewBudget\r\n    ? [\r\n        ...baseTabs.slice(0, 2),\r\n        { id: \"budget\", label: \"Budget\", icon: <Wallet className=\"h-5 w-5\" /> },\r\n        ...baseTabs.slice(2),\r\n      ]\r\n    : baseTabs;\r\n\r\n  // Screen size & dynamic tab overflow logic\r\n  useEffect(() => {\r\n    const checkScreenSize = () => {\r\n      const large = window.innerWidth >= 1024;\r\n      setIsLargeScreen(large);\r\n      if (large) {\r\n        setVisibleTabs(tabs);\r\n        setHiddenTabs([]);\r\n      } else {\r\n        updateTabVisibility();\r\n      }\r\n    };\r\n\r\n    const updateTabVisibility = () => {\r\n      if (!tabsContainerRef.current) return;\r\n\r\n      const container = tabsContainerRef.current;\r\n      const containerWidth = container.offsetWidth;\r\n      const tabElements = container.querySelectorAll(\".tab-button\");\r\n      const moreButton = container.querySelector(\".more-button\");\r\n      const moreWidth = moreButton ? moreButton.offsetWidth + 24 : 100;\r\n\r\n      let totalWidth = 0;\r\n      let visibleCount = 0;\r\n\r\n      tabElements.forEach((btn, index) => {\r\n        const btnWidth = btn.offsetWidth + 16;\r\n        if (totalWidth + btnWidth < containerWidth - moreWidth) {\r\n          totalWidth += btnWidth;\r\n          visibleCount = index + 1;\r\n        }\r\n      });\r\n\r\n      setVisibleTabs(tabs.slice(0, visibleCount));\r\n      setHiddenTabs(tabs.slice(visibleCount));\r\n    };\r\n\r\n    checkScreenSize();\r\n    window.addEventListener(\"resize\", checkScreenSize);\r\n    return () => window.removeEventListener(\"resize\", checkScreenSize);\r\n  }, [tabs]);\r\n\r\n  useEffect(() => {\r\n    if (!isLargeScreen) {\r\n      const timer = setTimeout(() => {\r\n        if (tabsContainerRef.current) {\r\n          const container = tabsContainerRef.current;\r\n          const containerWidth = container.offsetWidth;\r\n          const tabElements = container.querySelectorAll(\".tab-button\");\r\n          const moreButton = container.querySelector(\".more-button\");\r\n          const moreWidth = moreButton ? moreButton.offsetWidth + 24 : 100;\r\n\r\n          let totalWidth = 0;\r\n          let visibleCount = 0;\r\n\r\n          tabElements.forEach((btn, index) => {\r\n            const btnWidth = btn.offsetWidth + 16;\r\n            if (totalWidth + btnWidth < containerWidth - moreWidth) {\r\n              totalWidth += btnWidth;\r\n              visibleCount = index + 1;\r\n            }\r\n          });\r\n\r\n          setVisibleTabs(tabs.slice(0, visibleCount));\r\n          setHiddenTabs(tabs.slice(visibleCount));\r\n        }\r\n      }, 50);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [activeTab, isLargeScreen, tabs]);\r\n\r\n  useEffect(() => {\r\n    if (activeTab !== initialTab) {\r\n      const params = new URLSearchParams(window.location.search);\r\n      params.set(\"tab\", activeTab);\r\n      router.replace(`?${params.toString()}`, { scroll: false });\r\n    }\r\n  }, [activeTab, initialTab, router]);\r\n\r\n  useEffect(() => {\r\n    if (projectId) {\r\n      dispatch(fetchProjectById(projectId));\r\n    }\r\n  }, [projectId, dispatch]);\r\n\r\n  const [newStatus, setNewStatus] = useState(\"\");\r\n  const [statusUpdateMessage, setStatusUpdateMessage] = useState(\"\");\r\n  const [isStatusModalOpen, setIsStatusModalOpen] = useState(false);\r\n  const [isConfirmModalOpen, setIsConfirmModalOpen] = useState(false);\r\n  const [isDownloading, setIsDownloading] = useState(false);\r\n  const [hasFetchedAfterStatusChange, setHasFetchedAfterStatusChange] = useState(false);\r\n  const [showLoader, setShowLoader] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (project?.data?.status && project.data.status !== \"Planned\") {\r\n      setIsProjectActive(true);\r\n    }\r\n  }, [project?.data?.status]);\r\n\r\n  useEffect(() => {\r\n    if (successMessage && !hasFetchedAfterStatusChange) {\r\n      setStatusUpdateMessage(successMessage);\r\n      setHasFetchedAfterStatusChange(true);\r\n      dispatch(fetchProjectById(projectId));\r\n      setNewStatus(\"\");\r\n      setTimeout(() => {\r\n        setStatusUpdateMessage(\"\");\r\n        dispatch(resetSuccessMessage());\r\n        setHasFetchedAfterStatusChange(false);\r\n      }, 3000);\r\n    }\r\n    if (error?.statusChange) {\r\n      setStatusUpdateMessage(error.statusChange);\r\n      setTimeout(() => setStatusUpdateMessage(\"\"), 3000);\r\n    }\r\n  }, [successMessage, error?.statusChange, dispatch, projectId, hasFetchedAfterStatusChange]);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setShowLoader(false), 1000);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  const handleDownload = (url, filename) => {\r\n    setIsDownloading(true);\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.download = filename;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    setTimeout(() => setIsDownloading(false), 1000);\r\n  };\r\n\r\n  const handleStatusSubmit = () => {\r\n    if (newStatus) {\r\n      setIsStatusModalOpen(false);\r\n      setIsConfirmModalOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleConfirmStatusChange = () => {\r\n    if (newStatus && projectId) {\r\n      dispatch(changeProjectStatus({ projectId, status: newStatus }));\r\n      setIsConfirmModalOpen(false);\r\n      toast.success(\"Status Updated!\");\r\n      setIsProjectActive(true);\r\n    }\r\n  };\r\n\r\n  const statusOptions = [\"In Progress\", \"Completed\"];\r\n\r\n  const getFileTypeInfo = (filename) => {\r\n    const ext = filename.split(\".\").pop().toLowerCase();\r\n    switch (ext) {\r\n      case \"pdf\": return { icon: <FiFileText className=\"h-5 w-5 text-red-600\" />, bg: \"bg-red-50\" };\r\n      case \"doc\": case \"docx\": return { icon: <FiFileText className=\"h-5 w-5 text-blue-600\" />, bg: \"bg-blue-50\" };\r\n      case \"xls\": case \"xlsx\": return { icon: <FiFileText className=\"h-5 w-5 text-green-600\" />, bg: \"bg-green-50\" };\r\n      case \"ppt\": case \"pptx\": return { icon: <FiFileText className=\"h-5 w-5 text-orange-600\" />, bg: \"bg-orange-50\" };\r\n      case \"csv\": return { icon: <FiFileText className=\"h-5 w-5 text-yellow-600\" />, bg: \"bg-yellow-50\" };\r\n      default: return { icon: <FiFile className=\"h-5 w-5 text-gray-600\" />, bg: \"bg-gray-50\" };\r\n    }\r\n  };\r\n\r\n  if (status?.fetchProject === \"loading\" || showLoader) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center w-full h-[calc(100vh-64px)]\">\r\n        <Spinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <Card className=\"shadow-2xl border border-gray-200 mx-auto max-w-full\">\r\n        <CardHeader className=\"border-b border-gray-200 bg-white\">\r\n          <div className=\"flex flex-wrap items-center justify-between gap-3 sm:gap-4\">\r\n            <div className=\"flex items-center min-w-0 gap-2 sm:gap-4\">\r\n              <Button\r\n                onClick={() => router.back()}\r\n                className=\"inline-flex shrink-0 items-center gap-2 bg-blue-600 text-white font-medium text-xs sm:text-sm px-3 sm:px-4 py-2 rounded-md shadow-sm hover:bg-blue-700 transition-colors duration-200\"\r\n              >\r\n                <FiArrowLeft className=\"h-4 w-4\" />\r\n                <span className=\"hidden sm:inline\">Back</span>\r\n              </Button>\r\n\r\n              <CardTitle\r\n                className=\"truncate text-base sm:text-xl font-semibold text-gray-900 max-w-[150px] sm:max-w-[250px] md:max-w-[400px]\"\r\n                title={project?.data?.projectName || \"Unnamed Project\"}\r\n              >\r\n                {project?.data?.projectName || \"Unnamed Project\"}\r\n              </CardTitle>\r\n            </div>\r\n\r\n            <div className=\"flex items-center flex-wrap justify-end gap-2 sm:gap-4 mt-2 sm:mt-0\">\r\n              {statusUpdateMessage && (\r\n                <p className={`text-xs sm:text-sm font-medium ${successMessage ? \"text-green-600\" : \"text-red-600\"}`}>\r\n                  {statusUpdateMessage}\r\n                </p>\r\n              )}\r\n              {canEditStatus && (\r\n                <Button\r\n                  onClick={() => setIsStatusModalOpen(true)}\r\n                  className=\"bg-blue-600 text-white hover:bg-blue-700 text-xs sm:text-sm px-3 sm:px-4 py-2\"\r\n                >\r\n                  {isProjectActive ? \"Update Status\" : \"Start Project\"}\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"p-0\">\r\n          {!isProjectActive && project?.data?.status === \"Planned\" && canEditStatus ? (\r\n            <div className=\"min-h-screen flex items-center justify-center p-6\">\r\n              <div className=\"p-10 max-w-md w-full text-center\">\r\n                <h2 className=\"text-2xl font-semibold text-gray-800 mb-4\">\r\n                  Project is in Planned Stage\r\n                </h2>\r\n                <p className=\"text-gray-600 mb-8 leading-relaxed\">\r\n                  This project is currently in the planning phase. To access tasks, team, issues, \r\n                  documents, and other features, please start the project by changing its status \r\n                  to <span className=\"font-medium text-blue-600\">In Progress</span>.\r\n                </p>\r\n                <Button\r\n                  onClick={() => {\r\n                    setNewStatus(\"In Progress\");\r\n                    setIsStatusModalOpen(true);\r\n                  }}\r\n                  className=\"bg-blue-600 text-white hover:bg-blue-700 text-lg px-6 py-3 rounded-xl shadow-md transition-all duration-200 w-full\"\r\n                >\r\n                  Start Project Now\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {/* Responsive Tabs */}\r\n              <div className=\"border-b border-gray-200 bg-white sticky top-0 z-10\">\r\n                <div\r\n                  ref={tabsContainerRef}\r\n                  className=\"flex overflow-x-auto scrollbar-hide px-4\"\r\n                  onScroll={() => setShowMoreMenu(false)}\r\n                >\r\n                  {visibleTabs.map((tab) => (\r\n                    <button\r\n                      key={tab.id}\r\n                      onClick={() => setActiveTab(tab.id)}\r\n                      className={`tab-button flex items-center gap-3 px-6 py-4 text-sm font-medium border-b-2 transition-all duration-300 flex-shrink-0 whitespace-nowrap ${\r\n                        activeTab === tab.id\r\n                          ? \"border-blue-600 text-blue-600 bg-blue-50\"\r\n                          : \"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300 hover:bg-gray-50\"\r\n                      }`}\r\n                    >\r\n                      {tab.icon}\r\n                      <span className=\"hidden sm:inline\">{tab.label}</span>\r\n                    </button>\r\n                  ))}\r\n\r\n                  {!isLargeScreen && hiddenTabs.length > 0 && (\r\n                    <Popover open={showMoreMenu} onOpenChange={setShowMoreMenu}>\r\n                      <PopoverTrigger asChild>\r\n                        <button className={`more-button flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-all duration-300 whitespace-nowrap ${\r\n                          showMoreMenu\r\n                            ? \"border-blue-600 text-blue-600 bg-blue-50\"\r\n                            : \"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300 hover:bg-gray-50\"\r\n                        }`}>\r\n                          <span className=\"text-2xl leading-none\">...</span>\r\n                          <span className=\"hidden sm:inline\">More</span>\r\n                        </button>\r\n                      </PopoverTrigger>\r\n                      <PopoverContent className=\"w-56 p-0 rounded-xl shadow-2xl border border-gray-200 mt-2\">\r\n                        <div className=\"py-2\">\r\n                          {hiddenTabs.map((tab) => (\r\n                            <button\r\n                              key={tab.id}\r\n                              onClick={() => {\r\n                                setActiveTab(tab.id);\r\n                                setShowMoreMenu(false);\r\n                              }}\r\n                              className=\"flex items-center gap-3 w-full px-4 py-3 text-sm text-left hover:bg-blue-50 hover:text-blue-600 transition-all duration-200 first:rounded-t-xl last:rounded-b-xl\"\r\n                            >\r\n                              {tab.icon}\r\n                              <span>{tab.label}</span>\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </PopoverContent>\r\n                    </Popover>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Tab Content */}\r\n              <div className=\"p-2 min-h-screen\">\r\n                {activeTab === \"details\" && (\r\n                  <div className=\"space-y-12\">\r\n                    <ProjectMetrics projectId={projectId} />\r\n\r\n                    <div>\r\n                      <h3 className=\"text-2xl font-bold text-gray-900 flex items-center gap-3 mb-8 border-b-2 border-gray-200 pb-4\">\r\n                        <FiInfo className=\"h-7 w-7 text-blue-600\" />\r\n                        Project Information\r\n                      </h3>\r\n                      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-10\">\r\n                        <div className=\"space-y-7\">\r\n                          <div className=\"flex items-start gap-5 p-4 bg-green-50 rounded-xl\">\r\n                            <div className=\"p-3 bg-green-100 rounded-lg\"><Briefcase className=\"h-6 w-6 text-green-600\" /></div>\r\n                            <div>\r\n                              <p className=\"text-sm font-semibold text-gray-600\">Project ID</p>\r\n                              <p className=\"text-xl font-bold text-gray-900 mt-1\">{project?.data?.projectId || \"N/A\"}</p>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex items-start gap-5 p-4 bg-green-50 rounded-xl\">\r\n                            <div className=\"p-3 bg-green-100 rounded-lg\"><FiPaperclip className=\"h-6 w-6 text-green-600\" /></div>\r\n                            <div>\r\n                              <p className=\"text-sm font-semibold text-gray-600\">Category</p>\r\n                              <p className=\"text-xl font-bold text-gray-900 mt-1\">\r\n                                {project?.data?.category\r\n                                  ? project.data.category.toLowerCase().split(\" \").map(w => w[0].toUpperCase() + w.slice(1)).join(\" \")\r\n                                  : \"N/A\"}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                          {project?.data?.clientId?.trim() && (\r\n                            <div className=\"flex items-start gap-5 p-4 bg-green-50 rounded-xl\">\r\n                              <div className=\"p-3 bg-green-100 rounded-lg\"><FiUser className=\"h-6 w-6 text-green-600\" /></div>\r\n                              <div>\r\n                                <p className=\"text-sm font-semibold text-gray-600\">Client ID</p>\r\n                                <p className=\"text-xl font-bold text-gray-900 mt-1\">{project.data.clientId}</p>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                          <div className=\"flex items-start gap-5 p-4 bg-green-50 rounded-xl\">\r\n                            <div className=\"p-3 bg-green-100 rounded-lg\"><FiUser className=\"h-6 w-6 text-green-600\" /></div>\r\n                            <div>\r\n                              <p className=\"text-sm font-semibold text-gray-600\">Team Lead</p>\r\n                              <p className=\"text-xl font-bold text-gray-900 mt-1\">{project?.data?.teamLeadName || \"Unassigned\"}</p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-7\">\r\n                          <div className=\"flex items-start gap-5 p-4 bg-blue-50 rounded-xl\">\r\n                            <div className=\"p-3 bg-blue-100 rounded-lg\"><TrendingUp className=\"h-6 w-6 text-blue-600\" /></div>\r\n                            <div>\r\n                              <p className=\"text-sm font-semibold text-gray-600\">Status</p>\r\n                              <span className={`inline-flex items-center px-5 py-2 rounded-full text-sm font-bold mt-2 ${\r\n                                project?.data?.status === \"Completed\" ? \"bg-green-100 text-green-800\" :\r\n                                project?.data?.status === \"In Progress\" ? \"bg-blue-100 text-blue-800\" :\r\n                                \"bg-gray-100 text-gray-800\"\r\n                              }`}>\r\n                                {project?.data?.status || \"N/A\"}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex items-start gap-5 p-4 bg-purple-50 rounded-xl\">\r\n                            <div className=\"p-3 bg-purple-100 rounded-lg\"><FiCalendar className=\"h-6 w-6 text-purple-600\" /></div>\r\n                            <div>\r\n                              <p className=\"text-sm font-semibold text-gray-600\">Onboarding Date</p>\r\n                              <p className=\"text-xl font-bold text-gray-900 mt-1\">\r\n                                {project?.data?.createdAt ? formatDateUTC(project.data.createdAt) : \"N/A\"}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                          {project?.data?.startDate && (\r\n                            <div className=\"flex items-start gap-5 p-4 bg-indigo-50 rounded-xl\">\r\n                              <div className=\"p-3 bg-indigo-100 rounded-lg\"><FiCalendar className=\"h-6 w-6 text-indigo-600\" /></div>\r\n                              <div>\r\n                                <p className=\"text-sm font-semibold text-gray-600\">Start Date</p>\r\n                                <p className=\"text-xl font-bold text-gray-900 mt-1\">{formatDateUTC(project.data.startDate)}</p>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                          {project?.data?.endDate && (\r\n                            <div className=\"flex items-start gap-5 p-4 bg-red-50 rounded-xl\">\r\n                              <div className=\"p-3 bg-red-100 rounded-lg\"><FiCalendar className=\"h-6 w-6 text-red-600\" /></div>\r\n                              <div>\r\n                                <p className=\"text-sm font-semibold text-gray-600\">End Date</p>\r\n                                <p className=\"text-xl font-bold text-gray-900 mt-1\">{formatDateUTC(project.data.endDate)}</p>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                          {project?.data?.expectedEndDate && (\r\n                            <div className=\"flex items-start gap-5 p-4 bg-orange-50 rounded-xl\">\r\n                              <div className=\"p-3 bg-orange-100 rounded-lg\"><FiCalendar className=\"h-6 w-6 text-orange-600\" /></div>\r\n                              <div>\r\n                                <p className=\"text-sm font-semibold text-gray-600\">Expected End Date</p>\r\n                                <p className=\"text-xl font-bold text-gray-900 mt-1\">{formatDateUTC(project.data.expectedEndDate)}</p>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {project?.data?.attachments?.length > 0 && (\r\n                      <div>\r\n                        <h3 className=\"text-2xl font-bold text-gray-900 flex items-center gap-3 mb-8 border-b-2 border-gray-200 pb-4\">\r\n                          <FileStack className=\"h-7 w-7 text-blue-600\" />\r\n                          Attachments\r\n                        </h3>\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n                          {project.data.attachments.map((attachment, index) => {\r\n                            const fileInfo = getFileTypeInfo(attachment.filename);\r\n                            return (\r\n                              <div key={index} className=\"group relative bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl border border-gray-200 overflow-hidden hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300\">\r\n                                <button\r\n                                  onClick={() => handleDownload(attachment.url, attachment.filename)}\r\n                                  disabled={isDownloading}\r\n                                  className=\"cursor-pointer w-full p-6 text-left space-y-4 hover:bg-white/50 transition-all\"\r\n                                >\r\n                                  <div className={`p-4 rounded-xl ${fileInfo.bg} w-fit shadow-md`}>\r\n                                    {fileInfo.icon}\r\n                                  </div>\r\n                                  <div>\r\n                                    <p className=\"font-semibold text-gray-900 truncate text-base\">{attachment.filename}</p>\r\n                                    <p className=\"text-sm text-gray-500 mt-1\">Click to download</p>\r\n                                  </div>\r\n                                  <div className=\"flex items-center gap-2 text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n                                    <FiDownload className=\"h-5 w-5\" />\r\n                                    <span className=\"font-medium\">Download</span>\r\n                                  </div>\r\n                                </button>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div>\r\n                      <h3 className=\"text-2xl font-bold text-gray-900 flex items-center gap-3 mb-8 border-b-2 border-gray-200 pb-4\">\r\n                        <FiFileText className=\"h-7 w-7 text-blue-600\" />\r\n                        Description\r\n                      </h3>\r\n                      <div className=\"prose prose-lg max-w-none\">\r\n                        {project?.data?.description ? (\r\n                          <p className=\"text-gray-700 whitespace-pre-wrap leading-relaxed text-base\">\r\n                            {project.data.description}\r\n                          </p>\r\n                        ) : (\r\n                          <p className=\"text-gray-500 italic text-lg\">No description provided for this project.</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {activeTab === \"task\" && <AllTaskListByProjectId project={project?.data} projectId={project?.data?.projectId} />}\r\n                {activeTab === \"team\" && <TeamManagement project={project} projectId={projectId} />}\r\n                {activeTab === \"issues\" && <ProjectbugList project={project} projectId={projectId} teamLeadId={project?.data?.teamLeadId} />}\r\n                {activeTab === \"mom\" && <ProjectwiseAllMeetingAndMom projectName={project?.data?.projectName} project={project?.data} projectId={projectId} teamLeadId={project?.data?.teamLeadId} />}\r\n                {activeTab === \"document\" && <DocumentManager project={project?.data} projectId={projectId} teamLeadId={project?.data?.teamLeadId} />}\r\n\r\n                {/* Budget Tab - Protected */}\r\n                {activeTab === \"budget\" && (\r\n                  <>\r\n                    {canViewBudget ? (\r\n                      <ProjectBudgetWrapper projectId={projectId} />\r\n                    ) : (\r\n                      <div className=\"flex items-center justify-center h-96 text-center\">\r\n                        <div>\r\n                          <Wallet className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\r\n                          <h3 className=\"text-xl font-semibold text-gray-700\">Access Restricted</h3>\r\n                          <p className=\"text-gray-500 mt-2\">You don't have permission to view the budget.</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Status Change Modals */}\r\n      <Dialog open={isStatusModalOpen} onOpenChange={setIsStatusModalOpen}>\r\n        <DialogContent className=\"sm:max-w-md rounded-2xl shadow-2xl\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-2xl font-bold text-gray-900\">\r\n              {project?.data?.status === \"Planned\" ? \"Start Project\" : \"Update Project Status\"}\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"py-6\">\r\n            <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Select New Status</label>\r\n            <Select value={newStatus} onValueChange={setNewStatus}>\r\n              <SelectTrigger className=\"w-full h-12 text-base border-2\">\r\n                <SelectValue placeholder=\"Choose status\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {statusOptions\r\n                  .filter((s) => s !== project?.data?.status)\r\n                  .map((s) => (\r\n                    <SelectItem key={s} value={s} className=\"text-base\">\r\n                      {s}\r\n                    </SelectItem>\r\n                  ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setIsStatusModalOpen(false)} className=\"px-6 py-3 text-base\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleStatusSubmit} disabled={!newStatus} className=\"bg-blue-600 hover:bg-blue-700 px-8 py-3 text-base\">\r\n              Proceed\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={isConfirmModalOpen} onOpenChange={setIsConfirmModalOpen}>\r\n        <DialogContent className=\"sm:max-w-md rounded-2xl shadow-2xl\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-2xl font-bold text-gray-900\">Confirm Status Change</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"py-6\">\r\n            <p className=\"text-lg text-gray-700\">\r\n              Are you sure you want to change the project status to{\" \"}\r\n              <span className=\"font-bold text-blue-600 text-xl\">{newStatus}</span>?\r\n            </p>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setIsConfirmModalOpen(false)} className=\"px-6 py-3 text-base\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleConfirmStatusChange} className=\"bg-blue-600 hover:bg-blue-700 px-8 py-3 text-base\">\r\n              Confirm\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}