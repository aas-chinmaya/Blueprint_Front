{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/team/components/CreateTeamModal.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchTeamMembers, createTeam } from \"@/modules/project-management/team/slices/teamSlice\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { DialogContent } from \"@/components/ui/dialog\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Users, Check, Loader2, Trash2 } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { fetchTeamByProjectId } from \"@/modules/project-management/team/slices/viewTeamByProjectIdSlice\";\r\n\r\nexport default function CreateTeamModal({ projectId, onClose, isOpen }) {\r\n  const dispatch = useDispatch();\r\n  const { allMembers, createTeamError } = useSelector((state) => state.team);\r\n  const { project } = useSelector((state) => state.project);\r\n  const {\r\n    teamsByProject: teams,\r\n    status,\r\n    error,\r\n  } = useSelector((state) => state.team);\r\n\r\n  const [selectedMembers, setSelectedMembers] = useState([]);\r\n  const [teamName, setTeamName] = useState(\"\");\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [isSelectOpen, setIsSelectOpen] = useState(false);\r\n  const selectRef = useRef(null);\r\n  const searchInputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchTeamMembers());\r\n    if (projectId) {\r\n      dispatch(fetchTeamByProjectId(projectId));\r\n    }\r\n  }, [dispatch, projectId]);\r\n\r\n  // Flatten existing members from teams\r\n  const existingMember = teams.flatMap((team) => team.teamMembers);\r\n\r\n  // Step 1: Filter unique members by memberId, ensuring it's defined\r\n  const uniqueMembers = Array.from(\r\n    new Map(\r\n      existingMember\r\n        .filter((member) => member.memberId) // Filter out invalid entries\r\n        .map((member) => [member.memberId.trim(), member])\r\n    ).values()\r\n  );\r\n\r\n  // Step 2: Create a set of memberIds from uniqueMembers\r\n  const uniqueMemberIds = new Set(\r\n    uniqueMembers.map((member) => member.memberId.trim())\r\n  );\r\n\r\n  // Step 3: Filter allMembers to exclude members already in uniqueMembers\r\n  const finalMembers = allMembers.filter((member) => {\r\n    if (!member.employeeID) {\r\n      // console.warn(\"Member missing employeeID:\", member);\r\n      return true; // Keep or handle as needed\r\n    }\r\n    const id = member.employeeID.trim();\r\n    return !uniqueMemberIds.has(id);\r\n  });\r\n\r\n  // Step 4: Log the results\r\n  // console.log(\"All Members\", allMembers);\r\n  // console.log(\"Unique Existing Members\", uniqueMembers);\r\n  // console.log(\"Final Members after excluding existing\", finalMembers);\r\n\r\n  const memberOptions = useMemo(() => {\r\n    if (!finalMembers || !Array.isArray(finalMembers)) return [];\r\n\r\n    return finalMembers.map((member) => ({\r\n      value: member.employeeID,\r\n      label: member.name || `${member.firstName} ${member.lastName}`.trim(),\r\n      email: member.email,\r\n      firstName: member.firstName,\r\n      lastName: member.lastName,\r\n      id: member.employeeID,\r\n      designation: member.designation || \"Not specified\",\r\n    }));\r\n  }, [finalMembers]);\r\n\r\n  const availableMembers = useMemo(() => {\r\n    return memberOptions.filter(\r\n      (member) =>\r\n        !selectedMembers.some((selected) => selected.value === member.value) &&\r\n        (searchQuery === \"\" ||\r\n          member.label.toLowerCase().includes(searchQuery.toLowerCase()))\r\n    );\r\n  }, [memberOptions, selectedMembers, searchQuery]);\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    if (!teamName.trim()) errors.teamName = \"Team name is required\";\r\n    if (selectedMembers.length === 0)\r\n      errors.teamMembers = \"Please select at least one team member\";\r\n    return errors;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const errors = validateForm();\r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setFormErrors({});\r\n    setSuccessMessage(\"\");\r\n\r\n    const formattedTeamMembers = selectedMembers.map((member) => ({\r\n      memberId: member.value,\r\n      memberName: member.label,\r\n      role: member.designation,\r\n      email: member.email,\r\n    }));\r\n\r\n    const teamData = {\r\n      projectId,\r\n      teamName: teamName.trim(),\r\n      projectName: project?.data?.name || \"N/A\",\r\n      teamLeadName: project?.data?.teamLeadName?.trim() || \"N/A\",\r\n      teamLeadId: project?.data?.teamLeadId?.trim() || \"N/A\",\r\n      teamMembers: formattedTeamMembers,\r\n    };\r\n\r\n\r\n\r\n    try {\r\n      const resultAction = await dispatch(createTeam(teamData));\r\n\r\n      if (createTeam.fulfilled.match(resultAction)) {\r\n        toast.success(\r\n          resultAction.payload?.message || \"Team created successfully!\"\r\n        );\r\n        await dispatch(fetchTeamByProjectId(projectId)); // âœ… Only here, after success\r\n        setTeamName(\"\");\r\n        setSelectedMembers([]);\r\n        setSearchQuery(\"\");\r\n        onClose();\r\n      } else {\r\n        throw new Error(\r\n          resultAction.payload?.message || \"Failed to create team\"\r\n        );\r\n      }\r\n    } catch (err) {\r\n      toast.error(err.message || createTeamError || \"Failed to create team\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const addTeamMember = (value) => {\r\n    const selected = memberOptions.find((member) => member.value === value);\r\n    if (selected && !selectedMembers.some((m) => m.value === selected.value)) {\r\n      setSelectedMembers([...selectedMembers, selected]);\r\n      setFormErrors((prev) => ({ ...prev, teamMembers: \"\" }));\r\n      setSuccessMessage(\"\");\r\n      setSearchQuery(\"\"); // Clear search query after selection\r\n      setIsSelectOpen(true); // Keep dropdown open\r\n      setTimeout(() => {\r\n        if (searchInputRef.current) {\r\n          searchInputRef.current.focus(); // Refocus on search input\r\n        }\r\n      }, 0);\r\n    }\r\n  };\r\n\r\n  const removeTeamMember = (memberToRemove) => {\r\n    setSelectedMembers(\r\n      selectedMembers.filter((member) => member.value !== memberToRemove.value)\r\n    );\r\n    setFormErrors((prev) => ({ ...prev, teamMembers: \"\" }));\r\n    setSuccessMessage(\"\");\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setTeamName(\"\");\r\n    setSelectedMembers([]);\r\n    setFormErrors({});\r\n    setSuccessMessage(\"\");\r\n    setSearchQuery(\"\");\r\n    setIsSelectOpen(false);\r\n    onClose();\r\n    \r\n  };\r\n\r\n  const handleSearchInputChange = (e) => {\r\n    setSearchQuery(e.target.value);\r\n    setIsSelectOpen(true); // Keep dropdown open while typing\r\n  };\r\n\r\n  const handleSelectTriggerClick = () => {\r\n    setIsSelectOpen(true);\r\n    setTimeout(() => {\r\n      if (searchInputRef.current) {\r\n        searchInputRef.current.focus(); // Focus on search input when trigger is clicked\r\n      }\r\n    }, 0);\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <DialogContent className=\"h-[90vh] max-w-full sm:max-w-4xl md:max-w-5xl lg:max-w-6xl p-0 border-none overflow-y-auto max-h-[85vh]\">\r\n      <Card className=\"w-full bg-white border border-gray-200 shadow-lg rounded-xl\">\r\n        <CardHeader className=\"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 z-10\">\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0\">\r\n            <CardTitle className=\"text-xl font-bold text-black flex items-center gap-2\">\r\n              <Users className=\"h-6 w-6 text-black\" /> Create Team\r\n            </CardTitle>\r\n            <div className=\"flex items-center gap-3\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={handleClose}\r\n                className=\"px-4 py-2 bg-white text-black border border-gray-300 rounded-md hover:bg-gray-100 text-sm font-medium transition-colors\"\r\n                aria-label=\"Cancel\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                type=\"submit\"\r\n                onClick={handleSubmit}\r\n                disabled={isLoading}\r\n                className=\"px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700 disabled:bg-indigo-400 disabled:cursor-not-allowed transition-colors\"\r\n                aria-label=\"Create team\"\r\n              >\r\n                {isLoading ? (\r\n                  <>\r\n                    <Loader2 className=\"inline-block mr-2 animate-spin h-4 w-4\" />\r\n                    Creating...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Check className=\"inline-block mr-2 h-4 w-4\" />\r\n                    Create Team\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"p-6 bg-white\">\r\n          <form className=\"space-y-6\">\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n              <div>\r\n                <Label className=\"block text-sm font-bold text-black mb-2 flex items-center gap-1.5\">\r\n                  <Users className=\"h-4 w-4 text-black\" /> Team Name\r\n                  {formErrors.teamName && (\r\n                    <span className=\"text-xs ml-2 text-red-500\">\r\n                      ({formErrors.teamName})\r\n                    </span>\r\n                  )}\r\n                </Label>\r\n                <Input\r\n                  type=\"text\"\r\n                  value={teamName}\r\n                  onChange={(e) => {\r\n                    setTeamName(e.target.value);\r\n                    setFormErrors((prev) => ({ ...prev, teamName: \"\" }));\r\n                    setSuccessMessage(\"\");\r\n                  }}\r\n                  placeholder=\"Enter team name\"\r\n                  className=\"w-full h-10 px-3 rounded-md border border-gray-300 text-sm text-black focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white transition-colors\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label className=\"block text-sm font-bold text-black mb-2 flex items-center gap-1.5\">\r\n                  <Users className=\"h-4 w-4 text-black\" /> Add Member\r\n                  {formErrors.teamMembers && (\r\n                    <span className=\"text-xs ml-2 text-red-500\">\r\n                      ({formErrors.teamMembers})\r\n                    </span>\r\n                  )}\r\n                </Label>\r\n                <Select\r\n                  open={isSelectOpen}\r\n                  onOpenChange={(open) => {\r\n                    setIsSelectOpen(open);\r\n                    if (open && searchInputRef.current) {\r\n                      setTimeout(() => searchInputRef.current.focus(), 0);\r\n                    }\r\n                  }}\r\n                  onValueChange={addTeamMember}\r\n                >\r\n                  <SelectTrigger\r\n                    ref={selectRef}\r\n                    onClick={handleSelectTriggerClick}\r\n                    className={`w-full h-10 border ${\r\n                      formErrors.teamMembers\r\n                        ? \"border-red-300\"\r\n                        : \"border-gray-300\"\r\n                    } bg-white text-black focus:ring-indigo-500 relative`}\r\n                  >\r\n                    <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm pointer-events-none\">\r\n                      Search and add Team members\r\n                    </span>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent className=\"bg-white border border-gray-200 max-h-60 overflow-y-auto\">\r\n                    <div className=\"p-2 border-b border-gray-200\">\r\n                      <Input\r\n                        ref={searchInputRef}\r\n                        type=\"text\"\r\n                        value={searchQuery}\r\n                        onChange={handleSearchInputChange}\r\n                        placeholder=\"Search Team Members\"\r\n                        className=\"w-full h-10 px-3 rounded-md border border-gray-300 text-sm text-black focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white transition-colors\"\r\n                        onKeyDown={(e) => e.stopPropagation()} // Prevent dropdown from closing on keypress\r\n                      />\r\n                    </div>\r\n                    <div className=\"p-2 text-sm text-green-600 font-medium border-b border-gray-200\">\r\n                      Available Members ({availableMembers.length} )\r\n                    </div>\r\n                    {isLoading ? (\r\n                      <div className=\"p-2 text-sm text-black\">Loading...</div>\r\n                    ) : availableMembers.length === 0 ? (\r\n                      <div className=\"p-2 text-sm text-black\">\r\n                        {searchQuery\r\n                          ? \"No matching team members found\"\r\n                          : \"No team members available\"}\r\n                      </div>\r\n                    ) : (\r\n                      availableMembers.map((member) => (\r\n                        <SelectItem\r\n                          key={member.value}\r\n                          value={member.value}\r\n                          className=\"text-black hover:bg-gray-100 focus:bg-gray-100\"\r\n                        >\r\n                          {member.label}\r\n                        </SelectItem>\r\n                      ))\r\n                    )}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col\">\r\n              <div className=\"flex justify-between items-center mb-3\">\r\n                <h3 className=\"text-sm font-bold text-black flex items-center gap-1.5\">\r\n                  <Users className=\"h-4 w-4 text-black\" /> Selected Team Members\r\n                </h3>\r\n                <span className=\"text-sm text-green-600 font-medium\">\r\n                  Total: {selectedMembers.length}{\" \"}\r\n                  {selectedMembers.length === 1 ? \"member\" : \"members\"}\r\n                </span>\r\n              </div>\r\n              {selectedMembers.length === 0 ? (\r\n                <div className=\"flex flex-col items-center justify-center py-12 text-black bg-white rounded-lg border border-gray-200 shadow-sm\">\r\n                  <Users className=\"h-8 w-8 mb-2 text-gray-400\" />\r\n                  <p className=\"text-sm font-medium\">\r\n                    No team members selected\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-400\">\r\n                    Add team members using the selector above\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"flex flex-wrap gap-4\">\r\n                  {selectedMembers.map((member) => (\r\n                    <div\r\n                      key={member.value}\r\n                      className=\"flex items-center gap-4 p-4 bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow w-full sm:w-[calc(50%-0.5rem)] lg:w-[calc(33.33%-0.67rem)]\"\r\n                    >\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"text-sm font-medium text-black\">\r\n                          {member.label}\r\n                        </div>\r\n                        <div className=\"text-sm text-black\">{member.email}</div>\r\n                        <div className=\"text-sm text-black\">\r\n                          {member.designation}\r\n                        </div>\r\n                      </div>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        onClick={() => removeTeamMember(member)}\r\n                        className=\"text-red-500 hover:text-red-700 hover:bg-red-50\"\r\n                        aria-label={`Remove ${member.label}`}\r\n                      >\r\n                        <Trash2 className=\"h-5 w-5\" />\r\n                      </Button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {formErrors.general && (\r\n              <div className=\"mt-4 p-4 bg-red-50 border border-red-200 rounded-md\">\r\n                <p className=\"text-sm text-red-600 font-medium\">\r\n                  {formErrors.general}\r\n                </p>\r\n              </div>\r\n            )}\r\n            {successMessage && (\r\n              <div className=\"mt-4 p-4 bg-green-50 border border-green-200 rounded-md\">\r\n                <p className=\"text-sm text-green-600 font-medium\">\r\n                  {successMessage}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </DialogContent>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 713, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/team/components/EditTeamModal.jsx"],"sourcesContent":["\r\n\r\nimport { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateTeam } from '@/modules/project-management/team/slices/teamMembersSlice';\r\nimport { fetchTeamDetails, fetchTeamMembers } from \"@/modules/project-management/team/slices/teamSlice\";\r\nimport { fetchTeamByProjectId } from \"@/modules/project-management/team/slices/viewTeamByProjectIdSlice\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { DialogContent } from \"@/components/ui/dialog\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Users, Check, Loader2, Trash2 } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function EditTeamModal({ projectId, teamId, onClose }) {\r\n  const dispatch = useDispatch();\r\n  const selectedTeam = useSelector((state) => state.team.selectedTeam);\r\n  const { allMembers } = useSelector((state) => state.team);\r\n  const { teamsByProject: teams, status } = useSelector((state) => state.team);\r\n  const updateTeamError = useSelector((state) => state.teamMembers.error || \"\");\r\n\r\n  const [selectedMembers, setSelectedMembers] = useState([]);\r\n  const [teamName, setTeamName] = useState(\"\");\r\n  const [teamLeadName, setTeamLeadName] = useState(\"\");\r\n  const [teamLeadId, setTeamLeadId] = useState(\"\"); // Add teamLeadId state\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [isSelectOpen, setIsSelectOpen] = useState(false);\r\n  const selectRef = useRef(null);\r\n  const searchInputRef = useRef(null);\r\n\r\n  // Fetch team details, all members, and teams by project\r\n  useEffect(() => {\r\n    if (teamId) {\r\n      dispatch(fetchTeamDetails(teamId));\r\n    }\r\n    dispatch(fetchTeamMembers());\r\n    if (projectId) {\r\n      dispatch(fetchTeamByProjectId(projectId));\r\n    }\r\n  }, [dispatch, teamId, projectId]);\r\n\r\n  // Populate form data when selectedTeam changes\r\n  useEffect(() => {\r\n    if (selectedTeam && selectedTeam.teamId === teamId) {\r\n      setTeamName(selectedTeam.teamName || \"\");\r\n      setTeamLeadName(selectedTeam.teamLeadName || \"\");\r\n      setTeamLeadId(selectedTeam.teamLeadId || \"N/A\"); // Set teamLeadId\r\n      setSelectedMembers(\r\n        (selectedTeam.teamMembers || []).map((member) => ({\r\n          value: member.memberId,\r\n          label: member.memberName,\r\n          email: member.email || \"N/A\",\r\n          designation: member.role || \"Not specified\",\r\n        }))\r\n      );\r\n    }\r\n  }, [selectedTeam, teamId]);\r\n\r\n  // Filter unique members from other teams\r\n  const existingMember = teams\r\n    .filter((team) => team.teamId !== teamId)\r\n    .flatMap((team) => team.teamMembers);\r\n\r\n  const uniqueMembers = Array.from(\r\n    new Map(\r\n      existingMember\r\n        .filter((member) => member.memberId)\r\n        .map((member) => [member.memberId.trim(), member])\r\n    ).values()\r\n  );\r\n\r\n  const uniqueMemberIds = new Set(uniqueMembers.map((member) => member.memberId.trim()));\r\n\r\n  const finalMembers = allMembers.filter((member) => {\r\n    if (!member.employeeID) return false;\r\n    return !uniqueMemberIds.has(member.employeeID.trim());\r\n  });\r\n\r\n  const memberOptions = useMemo(() => {\r\n    if (!finalMembers || !Array.isArray(finalMembers)) return [];\r\n    return finalMembers.map((member) => ({\r\n      value: member.employeeID,\r\n      label: member.name || `${member.firstName} ${member.lastName}`.trim(),\r\n      email: member.email || \"N/A\",\r\n      firstName: member.firstName,\r\n      lastName: member.lastName,\r\n      id: member.employeeID,\r\n      designation: member.designation || \"Not specified\",\r\n    }));\r\n  }, [finalMembers]);\r\n\r\n  const availableMembers = useMemo(() => {\r\n    return memberOptions.filter(\r\n      (member) =>\r\n        !selectedMembers.some((selected) => selected.value === member.value) &&\r\n        (searchQuery === \"\" ||\r\n          member.label.toLowerCase().includes(searchQuery.toLowerCase()))\r\n    );\r\n  }, [memberOptions, selectedMembers, searchQuery]);\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    if (!teamName.trim()) errors.teamName = \"Team name is required\";\r\n    if (!teamLeadName.trim()) errors.teamLeadName = \"Team lead name is required\";\r\n    if (selectedMembers.length === 0) errors.teamMembers = \"Please select at least one team member\";\r\n    return errors;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const errors = validateForm();\r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setFormErrors({});\r\n    setSuccessMessage(\"\");\r\n\r\n    const formattedTeamMembers = selectedMembers.map((member) => ({\r\n      memberId: member.value,\r\n      memberName: member.label,\r\n      role: member.designation,\r\n      email: member.email,\r\n    }));\r\n\r\n    const teamData = {\r\n      teamId,\r\n      teamName: teamName.trim(),\r\n      projectId: selectedTeam?.projectId || projectId || \"\", // Ensure projectId is included\r\n      projectName: selectedTeam?.projectName || \"N/A\", // Include projectName if available\r\n      teamLeadName: teamLeadName.trim(),\r\n      teamLeadId: teamLeadId || \"N/A\", // Include teamLeadId\r\n      teamMembers: formattedTeamMembers,\r\n    };\r\n\r\n    try {\r\n      const resultAction = await dispatch(updateTeam({ teamId, teamData }));\r\n      dispatch(fetchTeamByProjectId(projectId));\r\n      if (updateTeam.fulfilled.match(resultAction)) {\r\n        toast.success(resultAction.payload?.message || \"Team updated successfully!\");\r\n        setTeamName(\"\");\r\n        setTeamLeadName(\"\");\r\n        setTeamLeadId(\"\");\r\n        setSelectedMembers([]);\r\n        setSearchQuery(\"\");\r\n        onClose();\r\n      } else {\r\n        throw new Error(resultAction.payload?.message || \"Failed to update team\");\r\n      }\r\n    } catch (err) {\r\n      toast.error(err.message || updateTeamError || \"Failed to update team\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const addTeamMember = (value) => {\r\n    const selected = memberOptions.find((member) => member.value === value);\r\n    if (selected && !selectedMembers.some((m) => m.value === selected.value)) {\r\n      setSelectedMembers([...selectedMembers, selected]);\r\n      setFormErrors((prev) => ({ ...prev, teamMembers: \"\" }));\r\n      setSuccessMessage(\"\");\r\n      setSearchQuery(\"\");\r\n      setIsSelectOpen(true);\r\n      setTimeout(() => {\r\n        if (searchInputRef.current) {\r\n          searchInputRef.current.focus();\r\n        }\r\n      }, 0);\r\n    }\r\n  };\r\n\r\n  const removeTeamMember = (memberToRemove) => {\r\n    setSelectedMembers(selectedMembers.filter((member) => member.value !== memberToRemove.value));\r\n    setFormErrors((prev) => ({ ...prev, teamMembers: \"\" }));\r\n    setSuccessMessage(\"\");\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setTeamName(\"\");\r\n    setTeamLeadName(\"\");\r\n    setTeamLeadId(\"\");\r\n    setSelectedMembers([]);\r\n    setFormErrors({});\r\n    setSuccessMessage(\"\");\r\n    setSearchQuery(\"\");\r\n    setIsSelectOpen(false);\r\n    onClose();\r\n  };\r\n\r\n  const handleSearchInputChange = (e) => {\r\n    setSearchQuery(e.target.value);\r\n    setIsSelectOpen(true);\r\n  };\r\n\r\n  const handleSelectTriggerClick = () => {\r\n    setIsSelectOpen(true);\r\n    setTimeout(() => {\r\n      if (searchInputRef.current) {\r\n        searchInputRef.current.focus();\r\n      }\r\n    }, 0);\r\n  };\r\n\r\n  // Loading state\r\n  if (!selectedTeam || selectedTeam.teamId !== teamId || status === \"loading\") {\r\n    return (\r\n      <DialogContent>\r\n        <div>Loading...</div>\r\n      </DialogContent>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DialogContent className=\"h-[90vh] max-w-full sm:max-w-4xl md:max-w-5xl lg:max-w-6xl p-0 border-none overflow-y-auto max-h-[85vh]\">\r\n      <Card className=\"w-full bg-white border border-gray-200 shadow-lg rounded-xl\">\r\n        <CardHeader className=\"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 z-10\">\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0\">\r\n            <CardTitle className=\"text-xl font-bold text-black flex items-center gap-2\">\r\n              <Users className=\"h-6 w-6 text-black\" /> Edit Team\r\n            </CardTitle>\r\n            <div className=\"flex items-center gap-3\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={handleClose}\r\n                className=\"px-4 py-2 bg-white text-black border border-gray-300 rounded-md hover:bg-gray-100 text-sm font-medium transition-colors\"\r\n                aria-label=\"Cancel\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                type=\"submit\"\r\n                onClick={handleSubmit}\r\n                disabled={isLoading}\r\n                className=\"px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700 disabled:bg-indigo-400 disabled:cursor-not-allowed transition-colors\"\r\n                aria-label=\"Update team\"\r\n              >\r\n                {isLoading ? (\r\n                  <>\r\n                    <Loader2 className=\"inline-block mr-2 animate-spin h-4 w-4\" />\r\n                    Updating...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Check className=\"inline-block mr-2 h-4 w-4\" />\r\n                    Update Team\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"p-6 bg-white\">\r\n          <form className=\"space-y-6\">\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n              <div>\r\n                <Label className=\"block text-sm font-bold text-black mb-2 flex items-center gap-1.5\">\r\n                  <Users className=\"h-4 w-4 text-black\" /> Team Name\r\n                  {formErrors.teamName && (\r\n                    <span className=\"text-xs ml-2 text-red-500\">({formErrors.teamName})</span>\r\n                  )}\r\n                </Label>\r\n                <Input\r\n                  type=\"text\"\r\n                  value={teamName}\r\n                  onChange={(e) => {\r\n                    setTeamName(e.target.value);\r\n                    setFormErrors((prev) => ({ ...prev, teamName: \"\" }));\r\n                    setSuccessMessage(\"\");\r\n                  }}\r\n                  placeholder=\"Enter team name\"\r\n                  className=\"w-full h-10 px-3 rounded-md border border-gray-300 text-sm text-black focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white transition-colors\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label className=\"block text-sm font-bold text-black mb-2 flex items-center gap-1.5\">\r\n                  <Users className=\"h-4 w-4 text-black\" /> Team Lead Name\r\n                  {formErrors.teamLeadName && (\r\n                    <span className=\"text-xs ml-2 text-red-500\">({formErrors.teamLeadName})</span>\r\n                  )}\r\n                </Label>\r\n                <div className=\"w-full h-10 px-3 py-2 rounded-md border border-gray-300 text-sm text-black bg-gray-100\">\r\n                  {teamLeadName || \"N/A\"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 gap-6\">\r\n              <div>\r\n                <Label className=\"block text-sm font-bold text-black mb-2 flex items-center gap-1.5\">\r\n                  <Users className=\"h-4 w-4 text-black\" /> Add Member\r\n                  {formErrors.teamMembers && (\r\n                    <span className=\"text-xs ml-2 text-red-500\">({formErrors.teamMembers})</span>\r\n                  )}\r\n                </Label>\r\n                <Select\r\n                  open={isSelectOpen}\r\n                  onOpenChange={(open) => {\r\n                    setIsSelectOpen(open);\r\n                    if (open && searchInputRef.current) {\r\n                      setTimeout(() => searchInputRef.current.focus(), 0);\r\n                    }\r\n                  }}\r\n                  onValueChange={addTeamMember}\r\n                >\r\n                  <SelectTrigger\r\n                    ref={selectRef}\r\n                    onClick={handleSelectTriggerClick}\r\n                    className={`w-full h-10 border ${formErrors.teamMembers ? \"border-red-300\" : \"border-gray-300\"} bg-white text-black focus:ring-indigo-500 relative`}\r\n                  >\r\n                    <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm pointer-events-none\">\r\n                      Search and add Team members\r\n                    </span>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent className=\"bg-white border border-gray-200 max-h-60 overflow-y-auto\">\r\n                    <div className=\"p-2 border-b border-gray-200\">\r\n                      <Input\r\n                        ref={searchInputRef}\r\n                        type=\"text\"\r\n                        value={searchQuery}\r\n                        onChange={handleSearchInputChange}\r\n                        placeholder=\"Search Team Members\"\r\n                        className=\"w-full h-10 px-3 rounded-md border border-gray-300 text-sm text-black focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white transition-colors\"\r\n                        onKeyDown={(e) => e.stopPropagation()}\r\n                      />\r\n                    </div>\r\n                    <div className=\"p-2 text-sm text-green-600 font-medium border-b border-gray-200\">\r\n                      Available Members ({availableMembers.length} )\r\n                    </div>\r\n                    {isLoading ? (\r\n                      <div className=\"p-2 text-sm text-black\">Loading...</div>\r\n                    ) : availableMembers.length === 0 ? (\r\n                      <div className=\"p-2 text-sm text-black\">\r\n                        {searchQuery ? \"No matching team members found\" : \"No team members available\"}\r\n                      </div>\r\n                    ) : (\r\n                      availableMembers.map((member) => (\r\n                        <SelectItem\r\n                          key={member.value}\r\n                          value={member.value}\r\n                          className=\"text-black hover:bg-gray-100 focus:bg-gray-100\"\r\n                        >\r\n                          {member.label}\r\n                        </SelectItem>\r\n                      ))\r\n                    )}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col\">\r\n              <div className=\"flex justify-between items-center mb-3\">\r\n                <h3 className=\"text-sm font-bold text-black flex items-center gap-1.5\">\r\n                  <Users className=\"h-4 w-4 text-black\" /> Selected Team Members\r\n                </h3>\r\n                <span className=\"text-sm text-green-600 font-medium\">\r\n                  Total: {selectedMembers.length} {selectedMembers.length === 1 ? \"member\" : \"members\"}\r\n                </span>\r\n              </div>\r\n              {selectedMembers.length === 0 ? (\r\n                <div className=\"flex flex-col items-center justify-center py-12 text-black bg-white rounded-lg border border-gray-200 shadow-sm\">\r\n                  <Users className=\"h-8 w-8 mb-2 text-gray-400\" />\r\n                  <p className=\"text-sm font-medium\">No team members selected</p>\r\n                  <p className=\"text-xs text-gray-400\">Add team members using the selector above</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"flex flex-wrap gap-4\">\r\n                  {selectedMembers.map((member) => (\r\n                    <div\r\n                      key={member.value}\r\n                      className=\"flex items-center gap-4 p-4 bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow w-full sm:w-[calc(50%-0.5rem)] lg:w-[calc(33.33%-0.67rem)]\"\r\n                    >\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"text-sm font-medium text-black\">{member.label}</div>\r\n                        <div className=\"text-sm text-black\">{member.email}</div>\r\n                        <div className=\"text-sm text-black\">{member.designation}</div>\r\n                      </div>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        onClick={() => removeTeamMember(member)}\r\n                        className=\"text-red-500 hover:text-red-700 hover:bg-red-50\"\r\n                        aria-label={`Remove ${member.label}`}\r\n                      >\r\n                        <Trash2 className=\"h-5 w-5\" />\r\n                      </Button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {formErrors.general && (\r\n              <div className=\"mt-4 p-4 bg-red-50 border border-red-200 rounded-md\">\r\n                <p className=\"text-sm text-red-600 font-medium\">{formErrors.general}</p>\r\n              </div>\r\n            )}\r\n            {successMessage && (\r\n              <div className=\"mt-4 p-4 bg-green-50 border border-green-200 rounded-md\">\r\n                <p className=\"text-sm text-green-600 font-medium\">{successMessage}</p>\r\n              </div>\r\n            )}\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </DialogContent>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1509, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/team/components/DeleteTeamModal.jsx"],"sourcesContent":["\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { FiTrash } from \"react-icons/fi\";\r\nimport { deleteTeam } from \"@/modules/project-management/team/slices/teamSlice\"; // Assuming deleteTeam action exists\r\n\r\nexport default function DeleteTeamModal({ teamId, onClose }) {\r\n  const dispatch = useDispatch();\r\n  const { teamsByProject: teams } = useSelector((state) => state.team);\r\n  const teamName = teams.find((t) => t.teamId === teamId)?.teamName || \"Unknown\";\r\n\r\n  const handleDelete = () => {\r\n    dispatch(deleteTeam(teamId)); // Dispatch delete action\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <DialogContent className=\"max-w-full sm:max-w-md md:max-w-lg p-6 border-none\">\r\n      <DialogHeader>\r\n        <DialogTitle className=\"text-lg font-semibold text-gray-800 flex items-center gap-2\">\r\n          <FiTrash aria-hidden=\"true\" />\r\n          Delete Team\r\n        </DialogTitle>\r\n      </DialogHeader>\r\n      <p className=\"text-sm text-gray-600\">\r\n        Are you sure you want to delete the team \"{teamName}\"? This action cannot be undone.\r\n      </p>\r\n      <DialogFooter className=\"mt-6\">\r\n        <Button\r\n          variant=\"outline\"\r\n          onClick={onClose}\r\n          className=\"border-gray-300 text-gray-800 hover:bg-gray-50 rounded-md text-sm h-10 px-4\"\r\n          aria-label=\"Cancel\"\r\n        >\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={handleDelete}\r\n          className=\"bg-red-500 hover:bg-red-600 text-white rounded-md text-sm h-10 px-4\"\r\n          aria-label=\"Delete team\"\r\n        >\r\n          Delete\r\n        </Button>\r\n      </DialogFooter>\r\n    </DialogContent>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA,kSAAiF,oCAAoC;;;;;;;AAEtG,SAAS,gBAAgB,EAAE,MAAM,EAAE,OAAO,EAAE;IACzD,MAAM,WAAW,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,gBAAgB,KAAK,EAAE,GAAG,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD,EAAE,CAAC,QAAU,MAAM,IAAI;IACnE,MAAM,WAAW,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,SAAS,YAAY;IAErE,MAAM,eAAe;QACnB,SAAS,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,UAAU,yBAAyB;QACvD;IACF;IAEA,qBACE,8OAAC,kIAAA,CAAA,gBAAa;QAAC,WAAU;;0BACvB,8OAAC,kIAAA,CAAA,eAAY;0BACX,cAAA,8OAAC,kIAAA,CAAA,cAAW;oBAAC,WAAU;;sCACrB,8OAAC,8IAAA,CAAA,UAAO;4BAAC,eAAY;;;;;;wBAAS;;;;;;;;;;;;0BAIlC,8OAAC;gBAAE,WAAU;;oBAAwB;oBACQ;oBAAS;;;;;;;0BAEtD,8OAAC,kIAAA,CAAA,eAAY;gBAAC,WAAU;;kCACtB,8OAAC,kIAAA,CAAA,SAAM;wBACL,SAAQ;wBACR,SAAS;wBACT,WAAU;wBACV,cAAW;kCACZ;;;;;;kCAGD,8OAAC,kIAAA,CAAA,SAAM;wBACL,SAAS;wBACT,WAAU;wBACV,cAAW;kCACZ;;;;;;;;;;;;;;;;;;AAMT","debugId":null}},
    {"offset": {"line": 1613, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/team/components/TeamView.jsx"],"sourcesContent":["\r\n\r\n\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport { FiUser, FiBriefcase, FiMail, FiUsers, FiEdit, FiTrash } from \"react-icons/fi\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\n\r\nexport default function ViewTeam({ teamId, project,onEdit, onDelete }) {\r\n  // Fetch team data from Redux store\r\n  const { teamsByProject: teams } = useSelector((state) => state.team);\r\n  const team = teams.find((t) => t.teamId === teamId);\r\n  const { currentUser, isTeamLead } = useCurrentUser(project?.data?.teamLeadId);\r\n\r\n  return (\r\n    <div className=\"p-3 bg-white  space-y-3\">\r\n      {team ? (\r\n        <>\r\n          <div className=\"flex  flex-col sm:flex-row justify-between items-start sm:items-center gap-2\">\r\n            <h3 className=\"text-base font-bold text-gray-900\">{team.teamName}</h3>\r\n            {\r\n              (currentUser?.role === \"cpc\" || isTeamLead || currentUser?.position === \"Team Lead\") &&(\r\n\r\n            <div className=\"flex gap-1.5\">\r\n\r\n              <Button\r\n                onClick={onEdit}\r\n                className=\"bg-blue-700 hover:bg-blue-800 text-white rounded-full p-1.5 h-7 w-7 flex items-center justify-center transition-colors duration-200\"\r\n                aria-label={`Edit team ${team.teamName}`}\r\n              >\r\n                <FiEdit className=\"h-3.5 w-3.5\" />\r\n              </Button>\r\n              <Button\r\n                onClick={onDelete}\r\n                className=\"bg-red-700 hover:bg-red-800 text-white rounded-full p-1.5 h-7 w-7 flex items-center justify-center transition-colors duration-200\"\r\n                aria-label={`Delete team ${team.teamName}`}\r\n              >\r\n                <FiTrash className=\"h-3.5 w-3.5\" />\r\n              </Button>\r\n            </div>\r\n              )\r\n            }\r\n          </div>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\r\n            <div className=\"space-y-0.5\">\r\n              <p className=\"text-xs font-medium text-gray-600 flex items-center gap-1\">\r\n                <FiBriefcase className=\"h-3 w-3\" aria-hidden=\"true\" />\r\n                Project Name\r\n              </p>\r\n              <p className=\"text-xs text-gray-800\">{team.projectName}</p>\r\n            </div>\r\n            <div className=\"space-y-0.5\">\r\n              <p className=\"text-xs font-medium text-gray-600 flex items-center gap-1\">\r\n                <FiUser className=\"h-3 w-3\" aria-hidden=\"true\" />\r\n                Team Lead\r\n              </p>\r\n              <p className=\"text-xs text-gray-800\">{team.teamLeadName}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"space-y-1.5\">\r\n            <h4 className=\"text-sm font-bold text-gray-900 flex items-center gap-1\">\r\n              <FiUsers className=\"h-3.5 w-3.5\" aria-hidden=\"true\" />\r\n              All Members {team.teamMembers.length > 0 ? `(${team.teamMembers.length})` : \"\"}\r\n            </h4>\r\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2\">\r\n              {team.teamMembers.map((member) => (\r\n                <div\r\n                  key={member.memberId}\r\n                  className=\"p-2 bg-gray-50 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200 space-y-0.5\"\r\n                >\r\n                  <p className=\"text-xs font-medium text-gray-900\">{member.memberName}</p>\r\n                  <p className=\"text-xs text-gray-600\">{member.role}</p>\r\n               \r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <p className=\"text-xs text-gray-600 text-center\">No team selected</p>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;;;;;;AAEe,SAAS,SAAS,EAAE,MAAM,EAAE,OAAO,EAAC,MAAM,EAAE,QAAQ,EAAE;IACnE,mCAAmC;IACnC,MAAM,EAAE,gBAAgB,KAAK,EAAE,GAAG,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD,EAAE,CAAC,QAAU,MAAM,IAAI;IACnE,MAAM,OAAO,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK;IAC5C,MAAM,EAAE,WAAW,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,iBAAc,AAAD,EAAE,SAAS,MAAM;IAElE,qBACE,8OAAC;QAAI,WAAU;kBACZ,qBACC;;8BACE,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAqC,KAAK,QAAQ;;;;;;wBAE9D,CAAC,aAAa,SAAS,SAAS,cAAc,aAAa,aAAa,WAAW,mBAErF,8OAAC;4BAAI,WAAU;;8CAEb,8OAAC,kIAAA,CAAA,SAAM;oCACL,SAAS;oCACT,WAAU;oCACV,cAAY,CAAC,UAAU,EAAE,KAAK,QAAQ,EAAE;8CAExC,cAAA,8OAAC,8IAAA,CAAA,SAAM;wCAAC,WAAU;;;;;;;;;;;8CAEpB,8OAAC,kIAAA,CAAA,SAAM;oCACL,SAAS;oCACT,WAAU;oCACV,cAAY,CAAC,YAAY,EAAE,KAAK,QAAQ,EAAE;8CAE1C,cAAA,8OAAC,8IAAA,CAAA,UAAO;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;8BAMzB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;;sDACX,8OAAC,8IAAA,CAAA,cAAW;4CAAC,WAAU;4CAAU,eAAY;;;;;;wCAAS;;;;;;;8CAGxD,8OAAC;oCAAE,WAAU;8CAAyB,KAAK,WAAW;;;;;;;;;;;;sCAExD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;;sDACX,8OAAC,8IAAA,CAAA,SAAM;4CAAC,WAAU;4CAAU,eAAY;;;;;;wCAAS;;;;;;;8CAGnD,8OAAC;oCAAE,WAAU;8CAAyB,KAAK,YAAY;;;;;;;;;;;;;;;;;;8BAG3D,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;;8CACZ,8OAAC,8IAAA,CAAA,UAAO;oCAAC,WAAU;oCAAc,eAAY;;;;;;gCAAS;gCACzC,KAAK,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,EAAE,KAAK,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG;;;;;;;sCAE9E,8OAAC;4BAAI,WAAU;sCACZ,KAAK,WAAW,CAAC,GAAG,CAAC,CAAC,uBACrB,8OAAC;oCAEC,WAAU;;sDAEV,8OAAC;4CAAE,WAAU;sDAAqC,OAAO,UAAU;;;;;;sDACnE,8OAAC;4CAAE,WAAU;sDAAyB,OAAO,IAAI;;;;;;;mCAJ5C,OAAO,QAAQ;;;;;;;;;;;;;;;;;yCAY9B,8OAAC;YAAE,WAAU;sBAAoC;;;;;;;;;;;AAIzD","debugId":null}},
    {"offset": {"line": 1853, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/team/components/TeamManagement.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FiUsers, FiPlus } from \"react-icons/fi\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\";\r\nimport { fetchTeamByProjectId } from \"@/modules/project-management/team/slices/teamSlice\";\r\nimport CreateTeamModal from \"./CreateTeamModal\";\r\nimport EditTeamModal from \"./EditTeamModal\";\r\nimport DeleteTeamModal from \"./DeleteTeamModal\";\r\nimport ViewTeam from \"./TeamView\";\r\nimport { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\nimport {Tooltip, TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\";\r\n\r\nexport default function TeamManagement({ projectId, project }) {\r\n  const dispatch = useDispatch();\r\n  const [selectedTeamId, setSelectedTeamId] = useState(null);\r\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n  const [isDetailsModalOpen, setIsDetailsModalOpen] = useState(false);\r\n\r\n  // Fetch teams from Redux store\r\n  const {\r\n    teamsByProject: teams,\r\n    status,\r\n    error,\r\n  } = useSelector((state) => state.team);\r\n  const { currentUser, isTeamLead } = useCurrentUser(project?.data?.teamLeadId);\r\n\r\n  // Fetch teams on mount and select first team for larger screens\r\n \r\n\r\n  useEffect(() => {\r\n    if (!isCreateModalOpen || !isEditModalOpen ) {\r\n      dispatch(fetchTeamByProjectId(projectId));\r\n    }\r\n  }, [isCreateModalOpen,isEditModalOpen, projectId, dispatch]);\r\n\r\n  // Automatically select the first team for larger screens when teams are loaded\r\n  useEffect(() => {\r\n    if (\r\n      status === \"succeeded\" &&\r\n      teams.length > 0 &&\r\n      !selectedTeamId &&\r\n      window.innerWidth >= 768\r\n    ) {\r\n      setSelectedTeamId(teams[0].teamId);\r\n    }\r\n  }, [status, teams, selectedTeamId]);\r\n\r\n  // Handle team selection\r\n  const handleTeamSelect = (teamId) => {\r\n    setSelectedTeamId(teamId);\r\n    if (window.innerWidth < 768) {\r\n      setIsDetailsModalOpen(true); // Open modal only on small screens when a team is selected\r\n    }\r\n  };\r\n\r\n  // Find selected team for ViewTeam\r\n  const selectedTeam = teams.find((team) => team.teamId === selectedTeamId);\r\n\r\n  return (\r\n    <Card className=\"bg-white border border-gray-200 shadow-md\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-[280px_1fr] gap-0\">\r\n        {/* Left Sidebar: Team List */}\r\n        <div className=\"bg-white border-r border-gray-200 h-screen overflow-y-auto\">\r\n          <div className=\"p-4 border-b border-gray-200 flex justify-between items-center\">\r\n            <h2 className=\"text-lg font-bold text-gray-800 flex items-center gap-2\">\r\n              <FiUsers aria-hidden=\"true\" />\r\n              Teams\r\n              <span className=\"text-sm text-green-600 ml-2\">\r\n                ({teams.length} Total)\r\n              </span>\r\n            </h2>\r\n            {/* {(currentUser?.role === \"cpc\" ||\r\n              isTeamLead ||\r\n              currentUser?.position === \"Team Lead\") && (\r\n              <Button\r\n                onClick={() => setIsCreateModalOpen(true)}\r\n                className=\"bg-blue-500 hover:bg-blue-600 text-white rounded-md text-sm p-2\"\r\n                aria-label=\"Create new team\"\r\n              >\r\n                <FiPlus className=\"h-5 w-5\" />\r\n              </Button>\r\n            )} */}\r\n{(currentUser?.role === \"cpc\" ||\r\n  isTeamLead ||\r\n  currentUser?.position === \"Team Lead\") && (\r\n  <Tooltip>\r\n    <TooltipTrigger asChild>\r\n      <Button\r\n        onClick={() => setIsCreateModalOpen(true)}\r\n        className=\"bg-blue-500 hover:bg-blue-600 text-white rounded-md text-sm p-2\"\r\n        aria-label=\"Create new team\"\r\n      >\r\n        <FiPlus className=\"h-5 w-5\" />\r\n      </Button>\r\n    </TooltipTrigger>\r\n    <TooltipContent\r\n      side=\"top\"\r\n      align=\"center\"\r\n      sideOffset={6}\r\n      className=\"text-white bg-black border border-gray-200 rounded-md p-2 text-xs shadow-sm\"\r\n    >\r\n      Create Team\r\n    </TooltipContent>\r\n  </Tooltip>\r\n)}\r\n\r\n        \r\n          </div>\r\n\r\n          {status === \"succeeded\" && teams.length === 0 && (\r\n            <p className=\"p-4 text-sm text-gray-600\">No teams found.</p>\r\n          )}\r\n          {teams.length > 0 && (\r\n            <ul className=\"divide-y divide-gray-200\">\r\n              {teams.map((team) => (\r\n                <li\r\n                  key={team.teamId}\r\n                  className={`p-4 cursor-pointer transition-colors duration-200 text-sm font-medium ${\r\n                    selectedTeamId === team.teamId\r\n                      ? \"bg-indigo-100 text-indigo-800\"\r\n                      : \"text-gray-800 hover:bg-gray-50\"\r\n                  }`}\r\n                  onClick={() => handleTeamSelect(team.teamId)}\r\n                  role=\"button\"\r\n                  tabIndex={0}\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === \"Enter\" || e.key === \" \") {\r\n                      handleTeamSelect(team.teamId);\r\n                    }\r\n                  }}\r\n                  aria-label={`Select team ${team.teamName}`}\r\n                >\r\n                  {team.teamName}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </div>\r\n\r\n        {/* Right Content: Team Details (Large Screens Only) */}\r\n        {selectedTeam && (\r\n          <div className=\"hidden md:block\">\r\n            <CardHeader>\r\n              <CardTitle className=\"text-xl font-bold text-gray-800\">\r\n                Team Details\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <ViewTeam\r\n              project={project}\r\n              teamId={selectedTeam.teamId}\r\n              onEdit={() => setIsEditModalOpen(true)}\r\n              onDelete={() => {\r\n                setIsDeleteModalOpen(true);\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Details Modal (Small Screens Only) */}\r\n      {selectedTeam && (\r\n        <Dialog open={isDetailsModalOpen} onOpenChange={setIsDetailsModalOpen}>\r\n          <DialogContent className=\"max-h-[80vh] w-full sm:max-w-md overflow-y-auto p-4\">\r\n            <ViewTeam\r\n              project={project}\r\n              teamId={selectedTeam.teamId}\r\n              onEdit={() => setIsEditModalOpen(true)}\r\n              onDelete={() => setIsDeleteModalOpen(true)}\r\n            />\r\n          </DialogContent>\r\n        </Dialog>\r\n      )}\r\n\r\n      {/* Create Team Modal */}\r\n      <Dialog open={isCreateModalOpen} onOpenChange={setIsCreateModalOpen}>\r\n        <DialogContent>\r\n          <CreateTeamModal\r\n            projectId={projectId}\r\n            isOpen={isCreateModalOpen}\r\n            onClose={() => setIsCreateModalOpen(false)}\r\n          />\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Edit Team Modal */}\r\n      {selectedTeam && (\r\n        <Dialog open={isEditModalOpen} onOpenChange={setIsEditModalOpen}>\r\n          <DialogContent>\r\n            <EditTeamModal\r\n              open={isEditModalOpen}\r\n              projectId={projectId}\r\n              teamId={selectedTeam.teamId}\r\n              onClose={() => setIsEditModalOpen(false)}\r\n            />\r\n          </DialogContent>\r\n        </Dialog>\r\n      )}\r\n\r\n      {/* Delete Team Modal */}\r\n      {selectedTeam && (\r\n        <Dialog open={isDeleteModalOpen} onOpenChange={setIsDeleteModalOpen}>\r\n          <DialogContent>\r\n            <DeleteTeamModal\r\n              teamId={selectedTeam.teamId}\r\n              onClose={() => {\r\n                setIsDeleteModalOpen(false);\r\n              }}\r\n            />\r\n          </DialogContent>\r\n        </Dialog>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}