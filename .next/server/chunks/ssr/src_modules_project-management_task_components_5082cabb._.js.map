{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/task/components/CreateTaskModal.jsx"],"sourcesContent":["\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\"use client\";\r\n\r\nimport { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createTask } from \"@/modules/project-management/task/slices/taskSlice\";\r\nimport { fetchTeamByProjectId } from \"@/modules/project-management/team/slices/teamSlice\";\r\nimport { Edit, User, Flag, CalendarIcon, Info, X, Loader, Clock, AlertCircle } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\r\nimport { Calendar } from \"@/components/ui/calendar\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogClose } from \"@/components/ui/dialog\";\r\nimport { Command, CommandEmpty, CommandGroup, CommandInput, CommandItem } from \"@/components/ui/command\";\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\r\nimport { format } from \"date-fns\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\nconst priorityConfig = {\r\n  Low: { color: \"bg-emerald-100 text-emerald-800\", icon: \"Low\", badge: \"Low\" },\r\n  Medium: { color: \"bg-amber-100 text-amber-800\", icon: \"Medium\", badge: \"Medium\" },\r\n  High: { color: \"bg-rose-100 text-rose-800\", icon: \"High\", badge: \"High\" },\r\n};\r\n\r\nconst CreateTaskModal = ({ onTaskAssingn, projectId, project, onClose, isOpen }) => {\r\n  const dispatch = useDispatch();\r\n  const { teamsByProject: teams, status: teamStatus } = useSelector((state) => state.team);\r\n  const { status: taskStatus, error: taskError } = useSelector((state) => state.task);\r\n\r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    priority: \"Medium\",\r\n    projectId: projectId || \"\",\r\n    projectName: project?.data?.name || \"\",\r\n    teamId: \"\",\r\n    assignedTo: [],        // ← NOW ARRAY OF FULL OBJECTS\r\n    assignedBy: \"\",        // ← team lead name\r\n  });\r\n\r\n  const [selectedAssignees, setSelectedAssignees] = useState([]); // UI state\r\n  const [errors, setErrors] = useState({});\r\n  const [selectedTeam, setSelectedTeam] = useState(null);\r\n  const [selectedDate, setSelectedDate] = useState(null);\r\n  const [selectedTime, setSelectedTime] = useState(\"\");\r\n  const [memberSearchQuery, setMemberSearchQuery] = useState(\"\");\r\n  const [memberOpen, setMemberOpen] = useState(false);\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (projectId && !isInitialized && isOpen) {\r\n      dispatch(fetchTeamByProjectId(projectId));\r\n      setIsInitialized(true);\r\n    }\r\n  }, [dispatch, projectId, isInitialized, isOpen]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setFormData({\r\n        title: \"\",\r\n        description: \"\",\r\n        priority: \"\",\r\n        projectId: projectId || \"\",\r\n        projectName: project?.data?.name || \"\",\r\n        teamId: \"\",\r\n        assignedTo: [],\r\n        assignedBy: \"\",\r\n      });\r\n      setSelectedAssignees([]);\r\n      setErrors({});\r\n      setSelectedTeam(null);\r\n      setSelectedDate(null);\r\n      setSelectedTime(\"\");\r\n      setMemberSearchQuery(\"\");\r\n    }\r\n  }, [isOpen, projectId, project?.data?.name]);\r\n\r\n  const handleTeamSelect = useCallback((value) => {\r\n    const team = teams.find(t => t.teamId === value);\r\n    setSelectedTeam(team);\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      teamId: value,\r\n      assignedBy: team?.teamLeadName || \"Unknown\",\r\n      assignedTo: [],\r\n    }));\r\n    setSelectedAssignees([]);\r\n  }, [teams]);\r\n\r\n  const availableMembers = useMemo(() => {\r\n    if (!selectedTeam?.teamMembers) return [];\r\n    const q = memberSearchQuery.toLowerCase();\r\n    return selectedTeam.teamMembers\r\n      .filter(m => \r\n        m.memberName.toLowerCase().includes(q) &&\r\n        !selectedAssignees.some(a => a.memberId === m.memberId)\r\n      )\r\n      .map(m => ({\r\n        memberId: m.memberId,\r\n        memberName: m.memberName,\r\n        role: m.role || \"Member\",\r\n      }));\r\n  }, [selectedTeam, memberSearchQuery, selectedAssignees]);\r\n\r\n  const toggleAssignee = useCallback((member) => {\r\n    setSelectedAssignees(prev => {\r\n      const exists = prev.some(a => a.memberId === member.memberId);\r\n      const newList = exists\r\n        ? prev.filter(a => a.memberId !== member.memberId)\r\n        : [...prev, member];\r\n\r\n      // Update assignedTo with full array of objects\r\n      setFormData(f => ({\r\n        ...f,\r\n        assignedTo: newList,\r\n      }));\r\n\r\n      return newList;\r\n    });\r\n  }, []);\r\n\r\n  const validate = useCallback(() => {\r\n    const newErrors = {};\r\n    if (!formData.title.trim()) newErrors.title = \"Title is required\";\r\n    if (!formData.priority) newErrors.priority = \"Priority is required\";\r\n    if (!selectedDate) newErrors.deadline = \"Deadline is required\";\r\n    if (!formData.description.trim()) newErrors.description = \"Description is required\";\r\n    if (!selectedTeam) newErrors.team = \"Team selection is required\";\r\n    if (selectedAssignees.length === 0) newErrors.assignedTo = \"Assign at least one member\";\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  }, [formData, selectedDate, selectedTeam, selectedAssignees]);\r\n\r\n  const handleSubmit = useCallback(async (e) => {\r\n    e.preventDefault();\r\n    if (!validate()) {\r\n      toast.error(\"Please fill all required fields\");\r\n      return;\r\n    }\r\n\r\n    const pad = (n) => (n < 10 ? \"0\" + n : n);\r\n    let deadline = null;\r\n    if (selectedDate) {\r\n      const d = new Date(selectedDate);\r\n      const [h, m] = selectedTime ? selectedTime.split(\":\").map(Number) : [23, 59];\r\n      d.setHours(h, m, 0, 0);\r\n      deadline = `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}T${pad(d.getHours())}:${pad(d.getMinutes())}:00`;\r\n    }\r\n\r\n    const payload = {\r\n      ...formData,\r\n      projectId: selectedTeam?.projectId || projectId,\r\n      projectName: selectedTeam?.projectName || project?.data?.name || \"N/A\",\r\n      teamId: selectedTeam?.teamId,\r\n      deadline,\r\n      assignedTo: formData.assignedTo,  // ← FULL ARRAY OF ALL ASSIGNEES\r\n      assignedBy: formData.assignedBy,\r\n    };\r\n\r\n    try {\r\n      await dispatch(createTask(payload)).unwrap();\r\n      onTaskAssingn?.();\r\n      toast.success(\"Task assigned successfully!\");\r\n      onClose();\r\n    } catch (err) {\r\n      toast.error(taskError || \"Failed to assign task\");\r\n    }\r\n  }, [validate, formData, selectedDate, selectedTime, selectedTeam, dispatch, projectId, project, taskError, onTaskAssingn, onClose]);\r\n\r\n  const displayDeadline = selectedDate\r\n    ? `${format(selectedDate, \"MMM dd, yyyy\")}${selectedTime ? ` • ${selectedTime}` : \"\"}`\r\n    : \"No deadline\";\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"w-full max-w-full h-[100vh] max-h-[100vh] sm:max-w-6xl sm:max-h-[85vh] bg-white shadow-lg border border-gray-200 rounded-lg text-black p-2\">\r\n        <DialogHeader className=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-2 border-b border-gray-200 sticky top-0 z-10\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <DialogTitle className=\"text-base sm:text-lg font-bold text-gray-800 flex items-center\">\r\n              <Edit className=\"mr-2 h-4 w-4 text-blue-500\" />\r\n              Assign New Task\r\n            </DialogTitle>\r\n            <DialogClose asChild>\r\n              <Button variant=\"ghost\" size=\"icon\" className=\"text-gray-500 hover:bg-gray-100 rounded-full h-7 w-7\">\r\n                <X className=\"h-3 w-3\" />\r\n              </Button>\r\n            </DialogClose>\r\n          </div>\r\n        </DialogHeader>\r\n\r\n        <div className=\"p-4 sm:p-6 overflow-y-auto max-h-[calc(85vh-60px)]\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n\r\n            {/* Title */}\r\n            <div className=\"w-full\">\r\n              <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                <Edit className=\"h-4 w-4 text-blue-500 mr-2\" /> Task Title <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <Textarea\r\n                value={formData.title}\r\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                className=\"w-full h-24 sm:h-28 md:h-32 bg-white border border-gray-300 rounded-lg text-sm resize-vertical focus:ring-2 focus:ring-blue-200 focus:border-blue-500 p-3\"\r\n                placeholder=\"Enter task title...\"\r\n              />\r\n              {errors.title && <p className=\"text-red-500 text-xs mt-1 flex items-center\"><AlertCircle className=\"h-3 w-3 mr-1\" /> {errors.title}</p>}\r\n            </div>\r\n\r\n            {/* Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n\r\n              {/* Priority */}\r\n              <div>\r\n                <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                  <Flag className=\"h-4 w-4 text-blue-500 mr-2\" /> Priority <span className=\"text-red-500 ml-1\">*</span>\r\n                </label>\r\n                <Select value={formData.priority} onValueChange={(v) => setFormData({ ...formData, priority: v })}>\r\n                  <SelectTrigger className=\"w-full h-10 rounded-lg\">\r\n                    <SelectValue>\r\n                      {formData.priority && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                         \r\n                          <span className={cn(\"px-2 py-1 rounded-full text-xs font-medium\", priorityConfig[formData.priority].color)}>\r\n                            {priorityConfig[formData.priority].badge}\r\n                          </span>\r\n                        </div>\r\n                      )}\r\n                    </SelectValue>\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {Object.entries(priorityConfig).map(([key, config]) => (\r\n                      <SelectItem key={key} value={key}>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          \r\n                          <span className={cn(\"px-2 py-1 rounded-full text-xs font-medium\", config.color)}>{config.badge}</span>\r\n                        </div>\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {/* Deadline + Time */}\r\n              <div>\r\n                <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                  <CalendarIcon className=\"h-4 w-4 text-blue-500 mr-2\" /> Deadline <span className=\"text-red-500 ml-1\">*</span>\r\n                </label>\r\n                <Popover>\r\n                  <PopoverTrigger asChild>\r\n                    <Button variant=\"outline\" className={cn(\"w-full justify-start h-10 rounded-lg\", !selectedDate && \"text-gray-500\")}>\r\n                      <CalendarIcon className=\"mr-2 h-4 w-4\" />\r\n                      {displayDeadline}\r\n                    </Button>\r\n                  </PopoverTrigger>\r\n                  <PopoverContent className=\"w-auto p-0\" align=\"start\">\r\n                    <Calendar mode=\"single\" selected={selectedDate} onSelect={setSelectedDate} initialFocus />\r\n                    <div className=\"p-3 border-t flex items-center gap-2\">\r\n                      <Clock className=\"h-4 w-4 text-gray-500\" />\r\n                      <Input type=\"time\" value={selectedTime} onChange={(e) => setSelectedTime(e.target.value)} className=\"h-9\" />\r\n                    </div>\r\n                  </PopoverContent>\r\n                </Popover>\r\n                {errors.deadline && <p className=\"text-red-500 text-xs mt-1 flex items-center\"><AlertCircle className=\"h-3 w-3 mr-1\" /> {errors.deadline}</p>}\r\n              </div>\r\n\r\n              {/* Team */}\r\n              <div>\r\n                <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                  <User className=\"h-4 w-4 text-blue-500 mr-2\" /> Team <span className=\"text-red-500 ml-1\">*</span>\r\n                </label>\r\n                <Select value={selectedTeam?.teamId || \"\"} onValueChange={handleTeamSelect}>\r\n                  <SelectTrigger className=\"w-full h-10 rounded-lg\">\r\n                    <SelectValue placeholder={teamStatus === \"loading\" ? \"Loading teams...\" : \"Select team\"} />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {teams.map((team) => (\r\n                      <SelectItem key={team.teamId} value={team.teamId}>{team.teamName}</SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Assigned To - Multiple in UI, assignedTo = full array */}\r\n            <div>\r\n              <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                <User className=\"h-4 w-4 text-blue-500 mr-2\" /> Assigne <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <div className=\"cursor-pointer flex flex-wrap items-center gap-3 min-h-10\">\r\n                <TooltipProvider>\r\n                  {selectedAssignees.map((person) => (\r\n                    <Tooltip key={person.memberId}>\r\n                      <TooltipTrigger asChild>\r\n                        <div className=\"relative group \">\r\n                          <Avatar className=\"  h-10 w-10 ring-2 ring-white shadow\">\r\n                            <AvatarFallback className=\"cursor-pointer bg-teal-600  text-white text-sm font-medium\">\r\n                              {person.memberName.split(\" \").map((n) => n[0]).join(\"\").toUpperCase()}\r\n                            </AvatarFallback>\r\n                          </Avatar>\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => toggleAssignee(person)}\r\n                            className=\"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition\"\r\n                          >\r\n                            <X className=\"h-3 w-3\" />\r\n                          </button>\r\n                        </div>\r\n                      </TooltipTrigger>\r\n                      <TooltipContent>\r\n                        <div>{person.memberName}</div>\r\n                        <div className=\"text-xs text-gray-500\">{person.role}</div>\r\n                      </TooltipContent>\r\n                    </Tooltip>\r\n                  ))}\r\n\r\n                  <Popover open={memberOpen} onOpenChange={setMemberOpen}>\r\n                    <PopoverTrigger asChild>\r\n                      <button\r\n                        type=\"button\"\r\n                        disabled={!selectedTeam}\r\n                        className={cn(\r\n                          \"flex items-center justify-center w-10 h-10 rounded-full transition-all\",\r\n                          selectedAssignees.length === 0\r\n                            ? \"bg-gray-200 hover:bg-gray-300\"\r\n                            : \"bg-gray-100 hover:bg-gray-200 border-2 border-dashed border-gray-300\"\r\n                        )}\r\n                      >\r\n                        <User className=\"h-5 w-5 text-gray-500\" />\r\n                      </button>\r\n                    </PopoverTrigger>\r\n                    <PopoverContent className=\"w-80 p-0\">\r\n                      <Command>\r\n                        <CommandInput placeholder=\"Search members...\" value={memberSearchQuery} onValueChange={setMemberSearchQuery} />\r\n                        <CommandEmpty>No members found.</CommandEmpty>\r\n                        <CommandGroup className=\"max-h-64 overflow-auto\">\r\n                          {availableMembers.map((member) => (\r\n                            <CommandItem key={member.memberId} onSelect={() => toggleAssignee(member)} className=\"cursor-pointer\">\r\n                              <Avatar className=\"cursor-pointer h-8 w-8 mr-3\">\r\n                                <AvatarFallback className=\"text-xs\">{member.memberName.split(\" \").map(n => n[0]).join(\"\").toUpperCase()}</AvatarFallback>\r\n                              </Avatar>\r\n                              <div>\r\n                                <div className=\"font-medium\">{member.memberName}</div>\r\n                                <div className=\"text-xs text-gray-500\">{member.role}</div>\r\n                              </div>\r\n                            </CommandItem>\r\n                          ))}\r\n                        </CommandGroup>\r\n                      </Command>\r\n                    </PopoverContent>\r\n                  </Popover>\r\n                </TooltipProvider>\r\n              </div>\r\n              {errors.assignedTo && <p className=\"text-red-500 text-xs mt-1 flex items-center\"><AlertCircle className=\"h-3 w-3 mr-1\" /> {errors.assignedTo}</p>}\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div className=\"w-full\">\r\n              <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                <Info className=\"h-4 w-4 text-blue-500 mr-2\" /> Description <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <Textarea\r\n                value={formData.description}\r\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                className=\"w-full h-40 sm:h-48 md:h-52 bg-white border border-gray-300 rounded-lg text-sm resize-vertical focus:ring-2 focus:ring-blue-200 focus:border-blue-500 p-3\"\r\n                placeholder=\"Enter detailed task description...\"\r\n              />\r\n              {errors.description && <p className=\"text-red-500 text-xs mt-1 flex items-center\"><AlertCircle className=\"h-3 w-3 mr-1\" /> {errors.description}</p>}\r\n            </div>\r\n\r\n            {/* Buttons */}\r\n            <div className=\"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t border-gray-200 mt-6\">\r\n              <Button type=\"button\" variant=\"outline\" onClick={onClose} className=\"w-full sm:w-auto bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 rounded-lg text-sm px-4 py-2 h-10\">\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={!formData.title.trim() || !selectedDate || selectedAssignees.length === 0 || taskStatus === \"loading\"}\r\n                className=\"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm px-6 py-2 h-10 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {taskStatus === \"loading\" ? (\r\n                  <> <Loader className=\"h-4 w-4 animate-spin mr-2\" /> Assigning Task...</>\r\n                ) : (\r\n                  \"Assign Task\"\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default CreateTaskModal;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1083, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/task/components/EditTaskModal.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateTask, fetchTaskById } from \"@/modules/project-management/task/slices/taskSlice\";\r\nimport { fetchTeamByProjectId } from \"@/modules/project-management/team/slices/teamSlice\";\r\nimport { Edit, User, Flag, CalendarIcon, Info, X, Loader, Clock, AlertCircle } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\r\nimport { Calendar } from \"@/components/ui/calendar\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogClose } from \"@/components/ui/dialog\";\r\nimport { Command, CommandEmpty, CommandGroup, CommandInput, CommandItem } from \"@/components/ui/command\";\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\r\nimport { format } from \"date-fns\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\nconst priorityConfig = {\r\n  Low: { color: \"bg-emerald-100 text-emerald-800\", badge: \"Low\" },\r\n  Medium: { color: \"bg-amber-100 text-amber-800\", badge: \"Medium\" },\r\n  High: { color: \"bg-rose-100 text-rose-800\", badge: \"High\" },\r\n};\r\n\r\nconst EditTaskModal = ({ taskId, isOpen, onClose, onTaskUpdated }) => {\r\n  const dispatch = useDispatch();\r\n  const task = useSelector((state) => state.task.currentTask);\r\n  const { teamsByProject: teams } = useSelector((state) => state.team);\r\n  const { status: taskStatus, error: taskError } = useSelector((state) => state.task);\r\n\r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    priority: \"Medium\",\r\n    deadline: null,\r\n    teamId: \"\",\r\n    assignedTo: [],\r\n  });\r\n\r\n  const [selectedAssignees, setSelectedAssignees] = useState([]);\r\n  const [selectedTeam, setSelectedTeam] = useState(null);\r\n  const [selectedDate, setSelectedDate] = useState(null);\r\n  const [selectedTime, setSelectedTime] = useState(\"\");\r\n  const [memberSearchQuery, setMemberSearchQuery] = useState(\"\");\r\n  const [memberOpen, setMemberOpen] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  // Fetch task + team\r\n  useEffect(() => {\r\n    if (isOpen && taskId) {\r\n      dispatch(fetchTaskById(taskId));\r\n      if (task?.projectId) {\r\n        dispatch(fetchTeamByProjectId(task.projectId));\r\n      }\r\n    }\r\n  }, [isOpen, taskId, dispatch]);\r\n\r\n  // Pre-fill form when task loads\r\n  useEffect(() => {\r\n    if (!task || !isOpen) return;\r\n\r\n    const deadlineDate = task.deadline ? new Date(task.deadline) : null;\r\n\r\n    setFormData({\r\n      title: task.title || \"\",\r\n      description: task.description || \"\",\r\n      priority: task.priority || \"Medium\",\r\n      deadline: deadlineDate,\r\n      teamId: task.teamId || \"\",\r\n    });\r\n\r\n    setSelectedDate(deadlineDate);\r\n    if (deadlineDate) {\r\n      setSelectedTime(format(deadlineDate, \"HH:mm\"));\r\n    }\r\n\r\n    // Handle both old single assignee & new array format\r\n    const assignees = Array.isArray(task.assignedTo)\r\n      ? task.assignedTo.map(a => ({\r\n          memberId: a.memberId || a._id,\r\n          memberName: a.memberName,\r\n          role: a.role || \"Member\",\r\n        }))\r\n      : task.assignedToDetails\r\n      ? [{\r\n          memberId: task.assignedToDetails.memberId,\r\n          memberName: task.assignedToDetails.memberName,\r\n          role: task.assignedToDetails.role || \"Member\",\r\n        }]\r\n      : [];\r\n\r\n    setSelectedAssignees(assignees);\r\n\r\n    const team = teams.find(t => t.teamId === task.teamId);\r\n    setSelectedTeam(team || null);\r\n  }, [task, teams, isOpen]);\r\n\r\n  const handleTeamSelect = useCallback((value) => {\r\n    const team = teams.find(t => t.teamId === value);\r\n    setSelectedTeam(team);\r\n    setSelectedAssignees([]);\r\n  }, [teams]);\r\n\r\n  const availableMembers = useMemo(() => {\r\n    if (!selectedTeam?.teamMembers) return [];\r\n    const q = memberSearchQuery.toLowerCase();\r\n    return selectedTeam.teamMembers\r\n      .filter(m =>\r\n        m.memberName.toLowerCase().includes(q) &&\r\n        !selectedAssignees.some(a => a.memberId === m.memberId)\r\n      )\r\n      .map(m => ({\r\n        memberId: m.memberId,\r\n        memberName: m.memberName,\r\n        role: m.role || \"Member\",\r\n      }));\r\n  }, [selectedTeam, memberSearchQuery, selectedAssignees]);\r\n\r\n  const toggleAssignee = useCallback((member) => {\r\n    setSelectedAssignees(prev => {\r\n      const exists = prev.some(a => a.memberId === member.memberId);\r\n      const newList = exists\r\n        ? prev.filter(a => a.memberId !== member.memberId)\r\n        : [...prev, member];\r\n      return newList;\r\n    });\r\n  }, []);\r\n\r\n  const validate = useCallback(() => {\r\n    const newErrors = {};\r\n    if (!formData.title.trim()) newErrors.title = \"Title is required\";\r\n    if (!formData.priority) newErrors.priority = \"Priority is required\";\r\n    if (!selectedDate) newErrors.deadline = \"Deadline is required\";\r\n    if (!formData.description.trim()) newErrors.description = \"Description is required\";\r\n    if (!selectedTeam) newErrors.team = \"Team selection is required\";\r\n    if (selectedAssignees.length === 0) newErrors.assignedTo = \"Assign at least one member\";\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  }, [formData, selectedDate, selectedTeam, selectedAssignees]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!validate()) {\r\n      toast.error(\"Please fill all required fields\");\r\n      return;\r\n    }\r\n\r\n    const pad = (n) => (n < 10 ? \"0\" + n : n);\r\n    let deadline = null;\r\n    if (selectedDate) {\r\n      const d = new Date(selectedDate);\r\n      const [h, m] = selectedTime ? selectedTime.split(\":\").map(Number) : [23, 59];\r\n      d.setHours(h, m, 0, 0);\r\n      deadline = `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}T${pad(d.getHours())}:${pad(d.getMinutes())}:00`;\r\n    }\r\n\r\n    const payload = {\r\n      task_id: taskId,\r\n      title: formData.title,\r\n      description: formData.description,\r\n      priority: formData.priority,\r\n      deadline,\r\n      teamId: selectedTeam.teamId,\r\n      assignedTo: selectedAssignees,\r\n    };\r\n\r\n    try {\r\n      await dispatch(updateTask(payload)).unwrap();\r\n      toast.success(\"Task updated successfully!\");\r\n      onTaskUpdated?.();\r\n      onClose();\r\n    } catch (err) {\r\n      toast.error(taskError || \"Failed to update task\");\r\n    }\r\n  };\r\n\r\n  const displayDeadline = selectedDate\r\n    ? `${format(selectedDate, \"MMM dd, yyyy\")}${selectedTime ? ` • ${selectedTime}` : \"\"}`\r\n    : \"No deadline\";\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"w-full max-w-full h-[100vh] max-h-[100vh] sm:max-w-6xl sm:max-h-[85vh] bg-white shadow-lg border border-gray-200 rounded-lg text-black p-2\">\r\n        <DialogHeader className=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-2 border-b border-gray-200 sticky top-0 z-10\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <DialogTitle className=\"text-base sm:text-lg font-bold text-gray-800 flex items-center\">\r\n              <Edit className=\"mr-2 h-4 w-4 text-blue-500\" />\r\n              Edit Task\r\n            </DialogTitle>\r\n            <DialogClose asChild>\r\n              <Button variant=\"ghost\" size=\"icon\" className=\"text-gray-500 hover:bg-gray-100 rounded-full h-7 w-7\">\r\n                <X className=\"h-3 w-3\" />\r\n              </Button>\r\n            </DialogClose>\r\n          </div>\r\n        </DialogHeader>\r\n\r\n        <div className=\"p-4 sm:p-6 overflow-y-auto max-h-[calc(85vh-60px)]\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n\r\n            {/* Title */}\r\n            <div className=\"w-full\">\r\n              <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                <Edit className=\"h-4 w-4 text-blue-500 mr-2\" /> Task Title <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <Textarea\r\n                value={formData.title}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\r\n                className=\"w-full h-24 sm:h-28 md:h-32 bg-white border border-gray-300 rounded-lg text-sm resize-vertical focus:ring-2 focus:ring-blue-200 focus:border-blue-500 p-3\"\r\n                placeholder=\"Enter task title...\"\r\n              />\r\n              {errors.title && <p className=\"text-red-500 text-xs mt-1 flex items-center\"><AlertCircle className=\"h-3 w-3 mr-1\" /> {errors.title}</p>}\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              {/* Priority */}\r\n              <div>\r\n                <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                  <Flag className=\"h-4 w-4 text-blue-500 mr-2\" /> Priority <span className=\"text-red-500 ml-1\">*</span>\r\n                </label>\r\n                <Select value={formData.priority} onValueChange={(v) => setFormData(prev => ({ ...prev, priority: v }))}>\r\n                  <SelectTrigger className=\"w-full h-10 rounded-lg\">\r\n                    <SelectValue>\r\n                      <span className={cn(\"px-2 py-1 rounded-full text-xs font-medium\", priorityConfig[formData.priority]?.color)}>\r\n                        {priorityConfig[formData.priority]?.badge}\r\n                      </span>\r\n                    </SelectValue>\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {Object.entries(priorityConfig).map(([k, c]) => (\r\n                      <SelectItem key={k} value={k}>\r\n                        <span className={cn(\"px-2 py-1 rounded-full text-xs font-medium\", c.color)}>{c.badge}</span>\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {/* Deadline */}\r\n              <div>\r\n                <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                  <CalendarIcon className=\"h-4 w-4 text-blue-500 mr-2\" /> Deadline <span className=\"text-red-500 ml-1\">*</span>\r\n                </label>\r\n                <Popover>\r\n                  <PopoverTrigger asChild>\r\n                    <Button variant=\"outline\" className={cn(\"w-full justify-start h-10 rounded-lg\", !selectedDate && \"text-gray-500\")}>\r\n                      <CalendarIcon className=\"mr-2 h-4 w-4\" />\r\n                      {displayDeadline}\r\n                    </Button>\r\n                  </PopoverTrigger>\r\n                  <PopoverContent className=\"w-auto p-0\" align=\"start\">\r\n                    <Calendar mode=\"single\" selected={selectedDate} onSelect={setSelectedDate} initialFocus />\r\n                    <div className=\"p-3 border-t flex items-center gap-2\">\r\n                      <Clock className=\"h-4 w-4 text-gray-500\" />\r\n                      <Input type=\"time\" value={selectedTime} onChange={(e) => setSelectedTime(e.target.value)} className=\"h-9\" />\r\n                    </div>\r\n                  </PopoverContent>\r\n                </Popover>\r\n                {errors.deadline && <p className=\"text-red-500 text-xs mt-1 flex items-center\"><AlertCircle className=\"h-3 w-3 mr-1\" /> {errors.deadline}</p>}\r\n              </div>\r\n\r\n              {/* Team */}\r\n              <div>\r\n                <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                  <User className=\"h-4 w-4 text-blue-500 mr-2\" /> Team <span className=\"text-red-500 ml-1\">*</span>\r\n                </label>\r\n                <Select value={selectedTeam?.teamId || \"\"} onValueChange={handleTeamSelect}>\r\n                  <SelectTrigger className=\"w-full h-10 rounded-lg\">\r\n                    <SelectValue placeholder=\"Select team\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {teams.map((team) => (\r\n                      <SelectItem key={team.teamId} value={team.teamId}>{team.teamName}</SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Assignees */}\r\n            <div>\r\n              <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                <User className=\"h-4 w-4 text-blue-500 mr-2\" /> Assigned To <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <div className=\"flex flex-wrap items-center gap-3 min-h-12 p-3 border rounded-lg bg-gray-50\">\r\n                <TooltipProvider>\r\n                  {selectedAssignees.map((person) => (\r\n                    <Tooltip key={person.memberId}>\r\n                      <TooltipTrigger asChild>\r\n                        <div className=\"relative group\">\r\n                          <Avatar className=\"h-10 w-10 ring-2 ring-white\">\r\n                            <AvatarFallback className=\"bg-teal-600 text-white text-sm\">\r\n                              {person.memberName.split(\" \").map(n => n[0]).join(\"\").toUpperCase()}\r\n                            </AvatarFallback>\r\n                          </Avatar>\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => toggleAssignee(person)}\r\n                            className=\"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition\"\r\n                          >\r\n                            <X className=\"h-3 w-3\" />\r\n                          </button>\r\n                        </div>\r\n                      </TooltipTrigger>\r\n                      <TooltipContent>\r\n                        <div>{person.memberName}</div>\r\n                        <div className=\"text-xs text-gray-500\">{person.role}</div>\r\n                      </TooltipContent>\r\n                    </Tooltip>\r\n                  ))}\r\n\r\n                  <Popover open={memberOpen} onOpenChange={setMemberOpen}>\r\n                    <PopoverTrigger asChild>\r\n                      <button\r\n                        type=\"button\"\r\n                        disabled={!selectedTeam}\r\n                        className={cn(\r\n                          \"flex items-center justify-center w-10 h-10 rounded-full transition-all\",\r\n                          selectedAssignees.length === 0\r\n                            ? \"bg-gray-200 hover:bg-gray-300\"\r\n                            : \"bg-gray-100 hover:bg-gray-200 border-2 border-dashed border-gray-300\"\r\n                        )}\r\n                      >\r\n                        <User className=\"h-5 w-5 text-gray-500\" />\r\n                      </button>\r\n                    </PopoverTrigger>\r\n                    <PopoverContent className=\"w-80 p-0\">\r\n                      <Command>\r\n                        <CommandInput placeholder=\"Search members...\" value={memberSearchQuery} onValueChange={setMemberSearchQuery} />\r\n                        <CommandEmpty>No members found.</CommandEmpty>\r\n                        <CommandGroup className=\"max-h-64 overflow-auto\">\r\n                          {availableMembers.map((member) => (\r\n                            <CommandItem key={member.memberId} onSelect={() => toggleAssignee(member)} className=\"cursor-pointer\">\r\n                              <Avatar className=\"h-8 w-8 mr-3\">\r\n                                <AvatarFallback className=\"text-xs\">\r\n                                  {member.memberName.split(\" \").map(n => n[0]).join(\"\").toUpperCase()}\r\n                                </AvatarFallback>\r\n                              </Avatar>\r\n                              <div>\r\n                                <div className=\"font-medium\">{member.memberName}</div>\r\n                                <div className=\"text-xs text-gray-500\">{member.role}</div>\r\n                              </div>\r\n                            </CommandItem>\r\n                          ))}\r\n                        </CommandGroup>\r\n                      </Command>\r\n                    </PopoverContent>\r\n                  </Popover>\r\n                </TooltipProvider>\r\n              </div>\r\n              {errors.assignedTo && <p className=\"text-red-500 text-xs mt-1 flex items-center\"><AlertCircle className=\"h-3 w-3 mr-1\" /> {errors.assignedTo}</p>}\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div className=\"w-full\">\r\n              <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                <Info className=\"h-4 w-4 text-blue-500 mr-2\" /> Description <span className=\"text-red-500 ml-1\">*</span>\r\n              </label>\r\n              <Textarea\r\n                value={formData.description}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                className=\"w-full h-40 sm:h-48 md:h-52 bg-white border border-gray-300 rounded-lg text-sm resize-vertical focus:ring-2 focus:ring-blue-200 focus:border-blue-500 p-3\"\r\n                placeholder=\"Enter detailed task description...\"\r\n              />\r\n              {errors.description && <p className=\"text-red-500 text-xs mt-1 flex items-center\"><AlertCircle className=\"h-3 w-3 mr-1\" /> {errors.description}</p>}\r\n            </div>\r\n\r\n            <div className=\"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t border-gray-200 mt-6\">\r\n              <Button type=\"button\" variant=\"outline\" onClick={onClose}>\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={taskStatus === \"loading\"}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n              >\r\n                {taskStatus === \"loading\" ? (\r\n                  <> <Loader className=\"h-4 w-4 animate-spin mr-2\" /> Updating...</>\r\n                ) : (\r\n                  \"Update Task\"\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default EditTaskModal;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2129, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev%20Directory/live/frontend/Blueprint_Front/src/modules/project-management/task/components/AllTaskListByProjectId.jsx"],"sourcesContent":["\r\n\r\n// \"use client\";\r\n\r\n// import { format } from \"date-fns\";\r\n// import { useEffect, useState, useMemo } from \"react\";\r\n// import { useSelector, useDispatch } from \"react-redux\";\r\n// import { useRouter } from \"next/navigation\";\r\n// import {\r\n//   fetchTasksByProjectId,\r\n//   deleteTask,\r\n//   downloadTasksReport,\r\n//   selectTasksByProjectId,\r\n//   selectTaskStatus,\r\n//   selectEmployeeProjectTasks,\r\n//   fetchEmployeeProjectTasks,\r\n// } from \"@/modules/project-management/task/slices/taskSlice\";\r\n// import {\r\n//   MoreVertical,\r\n//   CalendarIcon,\r\n//   Filter,\r\n//   Eye,\r\n//   Edit,\r\n//   Trash2,\r\n//   Download,\r\n//   Plus,\r\n//   Search,\r\n//   AlertCircle,\r\n//   X,\r\n// } from \"lucide-react\";\r\n// import { toast } from \"sonner\";\r\n// import { Input } from \"@/components/ui/input\";\r\n// import {\r\n//   Select,\r\n//   SelectContent,\r\n//   SelectItem,\r\n//   SelectTrigger,\r\n//   SelectValue,\r\n// } from \"@/components/ui/select\";\r\n// import { Button } from \"@/components/ui/button\";\r\n// import { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\r\n// import { Calendar } from \"@/components/ui/calendar\";\r\n// import {\r\n//   Table,\r\n//   TableBody,\r\n//   TableCell,\r\n//   TableHead,\r\n//   TableHeader,\r\n//   TableRow,\r\n// } from \"@/components/ui/table\";\r\n// import {\r\n//   Dialog,\r\n//   DialogContent,\r\n//   DialogHeader,\r\n//   DialogTitle,\r\n// } from \"@/components/ui/dialog\";\r\n// import {\r\n//   DropdownMenu,\r\n//   DropdownMenuContent,\r\n//   DropdownMenuItem,\r\n//   DropdownMenuTrigger,\r\n// } from \"@/components/ui/dropdown-menu\";\r\n// import {\r\n//   Tooltip,\r\n//   TooltipContent,\r\n//   TooltipProvider,\r\n//   TooltipTrigger,\r\n// } from \"@/components/ui/tooltip\";\r\n// import { cn } from \"@/lib/utils\";\r\n// import { formatDateTimeIST } from \"@/utils/formatDate\";\r\n// import CreateTaskModal from \"./CreateTaskModal\";\r\n// import { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\n// import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n\r\n// const AllTaskListByProjectId = ({ projectId, project }) => {\r\n//   const { currentUser, isTeamLead } = useCurrentUser(project?.teamLeadId);\r\n//   const dispatch = useDispatch();\r\n//   const router = useRouter();\r\n//   const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n//   const [taskIdToDelete, setTaskIdToDelete] = useState(null);\r\n//   const [showLoader, setShowLoader] = useState(true);\r\n//   const [showCreateTaskModal, setShowCreateTaskModal] = useState(false);\r\n//   const [showFilterDialog, setShowFilterDialog] = useState(false);\r\n//   const isCpc = currentUser?.role === \"cpc\";\r\n//   const isTeamLeadOrCpc = isCpc || isTeamLead;\r\n//   const [viewMode, setViewMode] = useState(isTeamLeadOrCpc ? \"all\" : \"my\");\r\n//   const [searchQuery, setSearchQuery] = useState(\"\");\r\n//   const [tempPriorityFilter, setTempPriorityFilter] = useState(\"all\");\r\n//   const [tempStatusFilter, setTempStatusFilter] = useState(\"all\");\r\n//   const [tempAssignedToFilter, setTempAssignedToFilter] = useState(\"all\");\r\n//   const [tempDateFrom, setTempDateFrom] = useState(null);\r\n//   const [tempDateTo, setTempDateTo] = useState(null);\r\n//   const [priorityFilter, setPriorityFilter] = useState(\"all\");\r\n//   const [statusFilter, setStatusFilter] = useState(\"all\");\r\n//   const [assignedToFilter, setAssignedToFilter] = useState(\"all\");\r\n//   const [dateFrom, setDateFrom] = useState(null);\r\n//   const [dateTo, setDateTo] = useState(null);\r\n//   const [sortConfig, setSortConfig] = useState({ key: \"\", direction: \"asc\" });\r\n//   const [currentPage, setCurrentPage] = useState(1);\r\n//   const tasksPerPage = 10;\r\n\r\n//   // Fetch tasks\r\n//   useEffect(() => {\r\n//     if (projectId) {\r\n//       setShowLoader(true);\r\n//       dispatch(fetchTasksByProjectId(projectId))\r\n//         .unwrap()\r\n//         .then(() => setShowLoader(false))\r\n//         .catch((err) => {\r\n//           toast.error(\"Failed to fetch tasks: \" + err);\r\n//           setShowLoader(false);\r\n//         });\r\n//     }\r\n//   }, [dispatch, projectId]);\r\n\r\n//   const employeeId = currentUser?.id;\r\n//   const tasksFromStore = useSelector((state) => selectTasksByProjectId(state, projectId));\r\n//   const status = useSelector(selectTaskStatus);\r\n//   const employeeProjectTasks = useSelector((state) =>\r\n//     selectEmployeeProjectTasks(state, projectId, employeeId)\r\n//   );\r\n\r\n//   // Fetch employee tasks for non-CPC, non-team-lead users or when viewMode is \"my\"\r\n//   useEffect(() => {\r\n//     if (projectId && employeeId && (!isTeamLeadOrCpc || viewMode === \"my\")) {\r\n//       setShowLoader(true);\r\n//       dispatch(fetchEmployeeProjectTasks({ projectId, employeeId }))\r\n//         .unwrap()\r\n//         .then(() => setShowLoader(false))\r\n//         .catch((err) => {\r\n//           toast.error(\"Failed to fetch employee tasks: \" + err);\r\n//           setShowLoader(false);\r\n//         });\r\n//     }\r\n//   }, [dispatch, projectId, employeeId, isTeamLeadOrCpc, viewMode]);\r\n\r\n//   const tasks = useMemo(() => {\r\n//     if (!isTeamLeadOrCpc || viewMode === \"my\") {\r\n//       return employeeProjectTasks || [];\r\n//     }\r\n//     return tasksFromStore || [];\r\n//   }, [isTeamLeadOrCpc, viewMode, tasksFromStore, employeeProjectTasks]);\r\n\r\n//   const showAllViewOption = isTeamLeadOrCpc;\r\n//   const showAssignedFilter = showAllViewOption && viewMode === \"all\";\r\n\r\n//   const handleDeleteTask = async () => {\r\n//     try {\r\n//       await dispatch(deleteTask(taskIdToDelete)).unwrap();\r\n//       toast.success(\"Task deleted successfully!\");\r\n//       setCurrentPage(1);\r\n//     } catch (err) {\r\n//       toast.error(err || \"Failed to delete task.\");\r\n//     }\r\n//     setShowDeleteModal(false);\r\n//     setTaskIdToDelete(null);\r\n//   };\r\n\r\n//   const handleSort = (key) => {\r\n//     setSortConfig((prev) => ({\r\n//       key,\r\n//       direction: prev.key === key && prev.direction === \"asc\" ? \"desc\" : \"asc\",\r\n//     }));\r\n//     setCurrentPage(1);\r\n//   };\r\n\r\n//   const handleViewModeChange = (newMode) => {\r\n//     setViewMode(newMode);\r\n//     setCurrentPage(1);\r\n//     handleResetFilters();\r\n//   };\r\n\r\n//   const assignedMembers = useMemo(() => {\r\n//     if (!Array.isArray(tasks)) return [];\r\n//     return Array.from(\r\n//       new Set(tasks.map((t) => t?.assignedToDetails?.memberName).filter(Boolean))\r\n//     );\r\n//   }, [tasks]);\r\n\r\n//   const assignedMembersMap = useMemo(() => {\r\n//     if (!Array.isArray(tasks)) return {};\r\n//     return tasks.reduce((map, task) => {\r\n//       if (task.assignedToDetails?.memberName && task.assignedTo) {\r\n//         map[task.assignedToDetails.memberName] = task.assignedTo;\r\n//       }\r\n//       return map;\r\n//     }, {});\r\n//   }, [tasks]);\r\n\r\n//   const filteredTasks = useMemo(() => {\r\n//     let filtered = Array.isArray(tasks) ? [...tasks] : [];\r\n\r\n//     if (searchQuery.trim()) {\r\n//       const query = searchQuery.toLowerCase();\r\n//       filtered = filtered.filter(\r\n//         (task) =>\r\n//           task.title?.toLowerCase().includes(query) ||\r\n//           task.task_id?.toLowerCase().includes(query) ||\r\n//           task?.assignedToDetails?.memberName?.toLowerCase().includes(query)\r\n//       );\r\n//     }\r\n\r\n//     if (priorityFilter !== \"all\") filtered = filtered.filter((task) => task.priority === priorityFilter);\r\n//     if (statusFilter !== \"all\") filtered = filtered.filter((task) => task.status === statusFilter);\r\n//     if (assignedToFilter !== \"all\" && showAssignedFilter) {\r\n//       filtered = filtered.filter((task) => task?.assignedToDetails?.memberName === assignedToFilter);\r\n//     }\r\n//     if (dateFrom || dateTo) {\r\n//       filtered = filtered.filter((task) => {\r\n//         if (!task.deadline) return false;\r\n//         const taskDate = new Date(task.deadline);\r\n//         return (!dateFrom || taskDate >= dateFrom) && (!dateTo || taskDate <= dateTo);\r\n//       });\r\n//     }\r\n\r\n//     if (sortConfig.key) {\r\n//       filtered.sort((a, b) => {\r\n//         let aValue = sortConfig.key.includes(\".\")\r\n//           ? sortConfig.key.split(\".\").reduce((obj, key) => obj?.[key], a)\r\n//           : a[sortConfig.key];\r\n//         let bValue = sortConfig.key.includes(\".\")\r\n//           ? sortConfig.key.split(\".\").reduce((obj, key) => obj?.[key], b)\r\n//           : b[sortConfig.key];\r\n\r\n//         if (typeof aValue === \"string\") aValue = aValue.toLowerCase();\r\n//         if (typeof bValue === \"string\") bValue = bValue.toLowerCase();\r\n\r\n//         return aValue < bValue\r\n//           ? sortConfig.direction === \"asc\" ? -1 : 1\r\n//           : aValue > bValue\r\n//           ? sortConfig.direction === \"asc\" ? 1 : -1\r\n//           : 0;\r\n//       });\r\n//     }\r\n\r\n//     return filtered;\r\n//   }, [tasks, searchQuery, priorityFilter, statusFilter, assignedToFilter, dateFrom, dateTo, sortConfig, showAssignedFilter]);\r\n\r\n//   const handleResetFilters = () => {\r\n//     setSearchQuery(\"\");\r\n//     setPriorityFilter(\"all\");\r\n//     setStatusFilter(\"all\");\r\n//     setAssignedToFilter(\"all\");\r\n//     setDateFrom(null);\r\n//     setDateTo(null);\r\n//     setTempPriorityFilter(\"all\");\r\n//     setTempStatusFilter(\"all\");\r\n//     setTempAssignedToFilter(\"all\");\r\n//     setTempDateFrom(null);\r\n//     setTempDateTo(null);\r\n//     setSortConfig({ key: \"\", direction: \"asc\" });\r\n//     setCurrentPage(1);\r\n//   };\r\n\r\n//   const handleApplyFilters = () => {\r\n//     setPriorityFilter(tempPriorityFilter);\r\n//     setStatusFilter(tempStatusFilter);\r\n//     setAssignedToFilter(tempAssignedToFilter);\r\n//     setDateFrom(tempDateFrom);\r\n//     setDateTo(tempDateTo);\r\n//     setShowFilterDialog(false);\r\n//     setCurrentPage(1);\r\n//   };\r\n\r\n//   const handleDownloadReport = async () => {\r\n//     const filterObj = {\r\n//       search: searchQuery || undefined,\r\n//       priority: priorityFilter !== \"all\" ? priorityFilter : undefined,\r\n//       status: statusFilter !== \"all\" ? statusFilter : undefined,\r\n//       assignedTo: assignedToFilter !== \"all\" ? assignedMembersMap[assignedToFilter] : undefined,\r\n//       dateFrom: dateFrom ? format(dateFrom, \"yyyy-MM-dd\") : undefined,\r\n//       dateTo: dateTo ? format(dateTo, \"yyyy-MM-dd\") : undefined,\r\n//     };\r\n//     const sortKey = sortConfig.key ? `${sortConfig.key}_${sortConfig.direction}` : undefined;\r\n//     try {\r\n//       await dispatch(downloadTasksReport({ projectId, assignedTo: filterObj.assignedTo, filterObj, sortKey })).unwrap();\r\n//       toast.success(\"Report downloaded successfully!\");\r\n//     } catch (err) {\r\n//       toast.error(err || \"Failed to download report.\");\r\n//     }\r\n//   };\r\n\r\n//   const totalPages = Math.max(1, Math.ceil(filteredTasks.length / tasksPerPage));\r\n//   const paginatedTasks = filteredTasks.slice(\r\n//     (currentPage - 1) * tasksPerPage,\r\n//     currentPage * tasksPerPage\r\n//   );\r\n\r\n//   const handlePageChange = (page) => {\r\n//     if (page >= 1 && page <= totalPages) {\r\n//       setCurrentPage(page);\r\n//     }\r\n//   };\r\n\r\n//   const getPaginationButtons = () => {\r\n//     const maxButtons = 8;\r\n//     const buttons = [];\r\n//     let startPage = Math.max(1, currentPage - Math.floor(maxButtons / 2));\r\n//     let endPage = Math.min(totalPages, startPage + maxButtons - 1);\r\n\r\n//     if (endPage - startPage + 1 < maxButtons) {\r\n//       startPage = Math.max(1, endPage - maxButtons + 1);\r\n//     }\r\n\r\n//     for (let page = startPage; page <= endPage; page++) {\r\n//       buttons.push(page);\r\n//     }\r\n\r\n//     return buttons;\r\n//   };\r\n\r\n//   const getInitials = (name) => {\r\n//     if (!name) return \"N/A\";\r\n//     if (name === currentUser?.name && (!isTeamLeadOrCpc || viewMode === \"my\")) return \"Me\";\r\n//     const words = name.split(\" \");\r\n//     return words.length > 1\r\n//       ? `${words[0][0]}${words[1][0]}`.toUpperCase()\r\n//       : name.slice(0, 2).toUpperCase();\r\n//   };\r\n\r\n//   const truncateTitle = (title) => {\r\n//     if (!title) return \"N/A\";\r\n//     return title.length > 70 ? `${title.slice(0, 70)}...` : title;\r\n//   };\r\n\r\n//   return (\r\n//     <TooltipProvider delayDuration={150} skipDelayDuration={0}>\r\n//       <div className=\"w-full bg-white\">\r\n//         <div className=\"space-y-2\">\r\n//           {/* Search and Controls */}\r\n//           <div className=\"flex flex-wrap gap-4\">\r\n//             <div className=\"flex-1 min-w-[180px]\">\r\n//               <div className=\"relative w-full\">\r\n//                 <Search\r\n//                   className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"\r\n//                 />\r\n//                 <Input\r\n//                   placeholder=\"Search tasks...\"\r\n//                   value={searchQuery}\r\n//                   onChange={(e) => setSearchQuery(e.target.value)}\r\n//                   className=\"pl-10 text-sm w-full bg-white border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 rounded-lg\"\r\n//                 />\r\n//               </div>\r\n//             </div>\r\n//             {showAllViewOption && (\r\n//               <div className=\"flex-1 min-w-[140px]\">\r\n//                 <Select value={viewMode} onValueChange={handleViewModeChange}>\r\n//                   <SelectTrigger\r\n//                     className=\"text-sm w-full bg-white border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 rounded-lg\"\r\n//                   >\r\n//                     <SelectValue placeholder=\"View Mode\" />\r\n//                   </SelectTrigger>\r\n//                   <SelectContent className=\"bg-white shadow-lg border-gray-200 rounded-lg\">\r\n//                     <SelectItem value=\"my\">My Tasks</SelectItem>\r\n//                     <SelectItem value=\"all\">All Tasks</SelectItem>\r\n//                   </SelectContent>\r\n//                 </Select>\r\n//               </div>\r\n//             )}\r\n//             <div className=\"flex-1 min-w-[140px]\">\r\n//               <Button\r\n//                 variant=\"outline\"\r\n//                 className=\"w-full bg-white text-black border-gray-300 hover:bg-gray-100 rounded-lg h-[38px] text-sm flex items-center justify-center\"\r\n//                 onClick={() => setShowFilterDialog(true)}\r\n//               >\r\n//                 <Filter className=\"w-4 h-4 mr-2\" />\r\n//                 Filter\r\n//               </Button>\r\n//             </div>\r\n//             <div className=\"flex-1 min-w-[140px]\">\r\n//               <Button\r\n//                 variant=\"outline\"\r\n//                 className=\"w-full bg-white text-black border-gray-300 hover:bg-gray-100 rounded-lg h-[38px] text-sm flex items-center justify-center\"\r\n//                 onClick={handleResetFilters}\r\n//               >\r\n//                 <X className=\"w-4 h-4 mr-2\" />\r\n//                 Reset\r\n//               </Button>\r\n//             </div>\r\n//             {isTeamLeadOrCpc && (\r\n//               <>\r\n//                 <div className=\"flex-1 min-w-[140px]\">\r\n//                   <Button\r\n//                     variant=\"default\"\r\n//                     className=\"w-full bg-blue-600 text-white hover:bg-blue-700 rounded-lg h-[38px] text-sm flex items-center justify-center\"\r\n//                     onClick={handleDownloadReport}\r\n//                   >\r\n//                     <Download className=\"w-4 h-4 mr-2\" />\r\n//                     Download\r\n//                   </Button>\r\n//                 </div>\r\n//                 <div className=\"flex-1 min-w-[140px]\">\r\n//                   <Button\r\n//                     variant=\"default\"\r\n//                     className=\"w-full bg-blue-600 text-white hover:bg-blue-700 rounded-lg h-[38px] text-sm flex items-center justify-center\"\r\n//                     onClick={() => setShowCreateTaskModal(true)}\r\n//                   >\r\n//                     <Plus className=\"w-4 h-4 mr-2\" />\r\n//                     Create Task\r\n//                   </Button>\r\n//                 </div>\r\n//               </>\r\n//             )}\r\n//           </div>\r\n\r\n//           {/* Filter Dialog */}\r\n//           <Dialog open={showFilterDialog} onOpenChange={setShowFilterDialog}>\r\n//             <DialogContent className=\"max-w-[95vw] sm:max-w-md bg-white shadow-lg border-gray-200 rounded-lg\">\r\n//               <DialogHeader>\r\n//                 <DialogTitle className=\"text-lg font-semibold text-gray-900\">\r\n//                   Filter Tasks\r\n//                 </DialogTitle>\r\n//               </DialogHeader>\r\n//               <div className=\"grid gap-4 py-4\">\r\n//                 <Select value={tempPriorityFilter} onValueChange={setTempPriorityFilter}>\r\n//                   <SelectTrigger className=\"w-full bg-white border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 rounded-lg text-sm\">\r\n//                     <SelectValue placeholder=\"Priority\" />\r\n//                   </SelectTrigger>\r\n//                   <SelectContent className=\"bg-white shadow-lg border-gray-200 rounded-lg\">\r\n//                     <SelectItem value=\"all\">All Priorities</SelectItem>\r\n//                     <SelectItem value=\"Low\">Low</SelectItem>\r\n//                     <SelectItem value=\"Medium\">Medium</SelectItem>\r\n//                     <SelectItem value=\"High\">High</SelectItem>\r\n//                   </SelectContent>\r\n//                 </Select>\r\n//                 <Select value={tempStatusFilter} onValueChange={setTempStatusFilter}>\r\n//                   <SelectTrigger className=\"w-full bg-white border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 rounded-lg text-sm\">\r\n//                     <SelectValue placeholder=\"Status\" />\r\n//                   </SelectTrigger>\r\n//                   <SelectContent className=\"bg-white shadow-lg border-gray-200 rounded-lg\">\r\n//                     <SelectItem value=\"all\">All Statuses</SelectItem>\r\n//                     <SelectItem value=\"Pending\">Pending</SelectItem>\r\n//                     <SelectItem value=\"In Progress\">In Progress</SelectItem>\r\n//                     <SelectItem value=\"Completed\">Completed</SelectItem>\r\n//                   </SelectContent>\r\n//                 </Select>\r\n//                 {showAssignedFilter && (\r\n//                   <Select value={tempAssignedToFilter} onValueChange={setTempAssignedToFilter}>\r\n//                     <SelectTrigger className=\"w-full bg-white border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 rounded-lg text-sm\">\r\n//                       <SelectValue placeholder=\"Assignee\" />\r\n//                     </SelectTrigger>\r\n//                     <SelectContent className=\"bg-white shadow-lg border-gray-200 rounded-lg\">\r\n//                       <SelectItem value=\"all\">All Assignees</SelectItem>\r\n//                       {assignedMembers.map((name) => (\r\n//                         <SelectItem key={name} value={name}>\r\n//                           {name}\r\n//                         </SelectItem>\r\n//                       ))}\r\n//                     </SelectContent>\r\n//                   </Select>\r\n//                 )}\r\n//                 <Popover>\r\n//                   <PopoverTrigger asChild>\r\n//                     <Button\r\n//                       variant=\"outline\"\r\n//                       className={cn(\r\n//                         \"w-full justify-between bg-white border-gray-300 hover:bg-gray-100 rounded-lg text-sm\",\r\n//                         !tempDateFrom && \"text-gray-500\"\r\n//                       )}\r\n//                     >\r\n//                       {tempDateFrom ? format(tempDateFrom, \"PPP\") : <span>From Date</span>}\r\n//                       <CalendarIcon className=\"ml-2 h-4 w-4 text-black\" />\r\n//                     </Button>\r\n//                   </PopoverTrigger>\r\n//                   <PopoverContent className=\"w-auto p-0 bg-white shadow-lg border-gray-200 rounded-lg\">\r\n//                     <Calendar\r\n//                       mode=\"single\"\r\n//                       selected={tempDateFrom}\r\n//                       onSelect={setTempDateFrom}\r\n//                       initialFocus\r\n//                       className=\"rounded-lg text-black\"\r\n//                     />\r\n//                   </PopoverContent>\r\n//                 </Popover>\r\n//                 <Popover>\r\n//                   <PopoverTrigger asChild>\r\n//                     <Button\r\n//                       variant=\"outline\"\r\n//                       className={cn(\r\n//                         \"w-full justify-between bg-white border-gray-300 hover:bg-gray-100 rounded-lg text-sm\",\r\n//                         !tempDateTo && \"text-gray-500\"\r\n//                       )}\r\n//                     >\r\n//                       {tempDateTo ? format(tempDateTo, \"PPP\") : <span>To Date</span>}\r\n//                       <CalendarIcon className=\"ml-2 h-4 w-4 text-black\" />\r\n//                     </Button>\r\n//                   </PopoverTrigger>\r\n//                   <PopoverContent className=\"w-auto p-0 bg-white shadow-lg border-gray-200 rounded-lg\">\r\n//                     <Calendar\r\n//                       mode=\"single\"\r\n//                       selected={tempDateTo}\r\n//                       onSelect={setTempDateTo}\r\n//                       initialFocus\r\n//                       className=\"rounded-lg text-black\"\r\n//                     />\r\n//                   </PopoverContent>\r\n//                 </Popover>\r\n//                 <Button\r\n//                   onClick={handleApplyFilters}\r\n//                   className=\"bg-blue-600 text-white hover:bg-blue-700 rounded-lg text-sm\"\r\n//                 >\r\n//                   Apply Filters\r\n//                 </Button>\r\n//               </div>\r\n//             </DialogContent>\r\n//           </Dialog>\r\n\r\n//           {/* Table */}\r\n//           <div className=\"overflow-x-auto rounded-md border\">\r\n//             <Table>\r\n//               <TableHeader>\r\n//                 <TableRow className=\"bg-gray-50 text-xs sm:text-sm\">\r\n//                   <TableHead className=\"font-bold text-gray-700 w-[60px]\">S.N</TableHead>\r\n//                   <TableHead\r\n//                     className=\"font-bold text-gray-700 cursor-pointer w-[300px] sm:w-[400px]\"\r\n//                     onClick={() => handleSort(\"title\")}\r\n//                   >\r\n//                     Title\r\n//                   </TableHead>\r\n//                   <TableHead\r\n//                     className=\"font-bold text-gray-700 cursor-pointer w-[100px]\"\r\n//                     onClick={() => handleSort(\"assignedToDetails.memberName\")}\r\n//                   >\r\n//                     Assignee\r\n//                   </TableHead>\r\n//                   <TableHead\r\n//                     className=\"font-bold text-gray-700 cursor-pointer w-[100px]\"\r\n//                     onClick={() => handleSort(\"priority\")}\r\n//                   >\r\n//                     Priority\r\n//                   </TableHead>\r\n//                   <TableHead\r\n//                     className=\"font-bold text-gray-700 cursor-pointer w-[150px]\"\r\n//                     onClick={() => handleSort(\"deadline\")}\r\n//                   >\r\n//                     Deadline\r\n//                   </TableHead>\r\n//                   <TableHead\r\n//                     className=\"font-bold text-gray-700 cursor-pointer w-[100px]\"\r\n//                     onClick={() => handleSort(\"status\")}\r\n//                   >\r\n//                     Status\r\n//                   </TableHead>\r\n//                   <TableHead className=\"font-bold text-gray-700 w-[60px]\">Action</TableHead>\r\n//                 </TableRow>\r\n//               </TableHeader>\r\n//               <TableBody>\r\n//                 {showLoader ? (\r\n//                   <TableRow>\r\n//                     <TableCell colSpan={7} className=\"text-center text-gray-500 py-6 text-sm\">\r\n//                       Loading tasks...\r\n//                     </TableCell>\r\n//                   </TableRow>\r\n//                 ) : status === \"failed\" ? (\r\n//                   <TableRow>\r\n//                     <TableCell colSpan={7} className=\"text-center text-red-500 py-6 text-sm\">\r\n//                       Failed to load tasks. Please try again.\r\n//                     </TableCell>\r\n//                   </TableRow>\r\n//                 ) : paginatedTasks.length === 0 ? (\r\n//                   <TableRow>\r\n//                     <TableCell colSpan={7} className=\"text-center text-gray-500 py-6 text-sm\">\r\n//                       No tasks found\r\n//                     </TableCell>\r\n//                   </TableRow>\r\n//                 ) : (\r\n//                   paginatedTasks.map((task, index) => (\r\n//                     <TableRow\r\n//                       key={task._id}\r\n//                       className=\"\r\n//                         text-xs sm:text-sm cursor-pointer\r\n//                         transition-all duration-300 ease-in-out\r\n//                         hover:bg-gray-600 hover:bg-opacity-100\r\n//                         hover:shadow-md\r\n//                       \"\r\n//                       onClick={() => router.push(`/workspace/task/${task.task_id}`)}\r\n//                     >\r\n//                       <TableCell>{(currentPage - 1) * tasksPerPage + index + 1}</TableCell>\r\n//                       <TableCell>\r\n//                         <span className=\"line-clamp-1\">{truncateTitle(task.title)}</span>\r\n//                       </TableCell>\r\n                     \r\n// <TableCell>\r\n//   {task?.assignedTo?.length > 0 ? (\r\n//     <div className=\"flex -space-x-2 mt-1\">\r\n//       {task.assignedTo.slice(0, 3).map((p) => (\r\n//         <Tooltip key={p._id}>\r\n//           <TooltipTrigger>\r\n//             <Avatar\r\n//               className=\"w-8 h-8 ring-2 ring-white cursor-pointer hover:ring-teal-400 transition-all hover:z-10\"\r\n//               onClick={() => {\r\n//                 setSelectedPerson(p);\r\n//                 setAssigneeOpen(true);\r\n//               }}\r\n//             >\r\n//               <AvatarFallback className=\"bg-teal-600 text-white text-xs font-bold\">\r\n//                 {getInitials(p.memberName)}\r\n//               </AvatarFallback>\r\n//             </Avatar>\r\n//           </TooltipTrigger>\r\n//           <TooltipContent className=\"bg-gray-50 text-gray-800 text-xs rounded-lg p-2 shadow-md\">\r\n//             {p.memberName}\r\n//           </TooltipContent>\r\n//         </Tooltip>\r\n//       ))}\r\n\r\n//       {task.assignedTo.length > 3 && (\r\n//         <Tooltip>\r\n//           <TooltipTrigger>\r\n//             <div className=\"w-8 h-8 rounded-full bg-gray-200 text-gray-700 flex items-center justify-center text-xs font-bold ring-2 ring-white cursor-pointer hover:ring-teal-400 transition-all hover:z-10\">\r\n//               +{task.assignedTo.length - 3}\r\n//             </div>\r\n//           </TooltipTrigger>\r\n//           <TooltipContent className=\"bg-gray-50 text-gray-800 text-xs rounded-lg p-2 shadow-md max-w-[200px]\">\r\n//             {task.assignedTo.slice(3).map((p) => p.memberName).join(\", \")}\r\n//           </TooltipContent>\r\n//         </Tooltip>\r\n//       )}\r\n//     </div>\r\n//   ) : (\r\n//     <span className=\"text-gray-400 text-sm\">—</span>\r\n//   )}\r\n// </TableCell>\r\n\r\n\r\n\r\n//                       <TableCell>\r\n//                         <span\r\n//                           className={cn(\r\n//                             \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\",\r\n//                             task.priority === \"Low\"\r\n//                               ? \"bg-green-200 text-green-800\"\r\n//                               : task.priority === \"Medium\"\r\n//                               ? \"bg-yellow-200 text-yellow-800\"\r\n//                               : task.priority === \"High\"\r\n//                               ? \"bg-red-200 text-red-800\"\r\n//                               : \"bg-gray-200 text-gray-800\"\r\n//                           )}\r\n//                         >\r\n//                           {task.priority || \"N/A\"}\r\n//                         </span>\r\n//                       </TableCell>\r\n//                       <TableCell>\r\n//                         <p className=\"text-xs text-gray-700\">\r\n//                           {formatDateTimeIST(task.deadline) || \"N/A\"}\r\n//                         </p>\r\n//                       </TableCell>\r\n//                       <TableCell>\r\n//                         <span\r\n//                           className={cn(\r\n//                             \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\",\r\n//                             task.status === \"Pending\"\r\n//                               ? \"bg-yellow-200 text-yellow-800\"\r\n//                               : task.status === \"In Progress\"\r\n//                               ? \"bg-blue-200 text-blue-800\"\r\n//                               : task.status === \"Completed\"\r\n//                               ? \"bg-green-200 text-green-800\"\r\n//                               : \"bg-gray-200 text-gray-800\"\r\n//                           )}\r\n//                         >\r\n//                           {task.status || \"N/A\"}\r\n//                         </span>\r\n//                         {task.isResolved === false && (\r\n//                           <Tooltip>\r\n//                             <TooltipTrigger asChild>\r\n//                               <span\r\n//                                 className={cn(\r\n//                                   \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium whitespace-nowrap cursor-default\",\r\n//                                   \"bg-red-100 text-red-700\"\r\n//                                 )}\r\n//                               >\r\n//                                 Bug Found\r\n//                               </span>\r\n//                             </TooltipTrigger>\r\n//                             <TooltipContent className=\"text-xs px-2 py-1 rounded shadow-md bg-red-600 text-white\">\r\n//                               Bug is active. Resolve now!\r\n//                             </TooltipContent>\r\n//                           </Tooltip>\r\n//                         )}\r\n//                       </TableCell>\r\n//                       <TableCell onClick={(e) => e.stopPropagation()}>\r\n//                         <DropdownMenu>\r\n//                           <DropdownMenuTrigger asChild>\r\n//                             <Button\r\n//                               variant=\"ghost\"\r\n//                               size=\"sm\"\r\n//                               className=\"h-6 w-6 sm:h-8 sm:w-8 p-0\"\r\n//                               onClick={(e) => e.stopPropagation()}\r\n//                             >\r\n//                               <MoreVertical className=\"h-4 w-4 text-gray-600\" />\r\n//                             </Button>\r\n//                           </DropdownMenuTrigger>\r\n//                           <DropdownMenuContent\r\n//                             align=\"end\"\r\n//                             className=\"bg-white shadow-lg border-gray-200 rounded-lg\"\r\n//                           >\r\n//                             <DropdownMenuItem\r\n//                               onClick={(e) => {\r\n//                                 e.stopPropagation();\r\n//                                 router.push(`/workspace/task/${task.task_id}`);\r\n//                               }}\r\n//                               className=\"flex items-center gap-2 cursor-pointer focus:bg-blue-50 text-sm\"\r\n//                             >\r\n//                               <Eye className=\"w-4 h-4 text-blue-700\" />\r\n//                               View\r\n//                             </DropdownMenuItem>\r\n//                             {isTeamLeadOrCpc && viewMode === \"all\" && (\r\n//                               <>\r\n//                                 <DropdownMenuItem\r\n//                                   onClick={(e) => {\r\n//                                     e.stopPropagation();\r\n//                                     router.push(`/workspace/task/edit/${task.task_id}`);\r\n//                                   }}\r\n//                                   className=\"flex items-center gap-2 cursor-pointer focus:bg-green-50 text-sm\"\r\n//                                 >\r\n//                                   <Edit className=\"w-4 h-4 text-green-700\" />\r\n//                                   Edit\r\n//                                 </DropdownMenuItem>\r\n//                                 <DropdownMenuItem\r\n//                                   onClick={(e) => {\r\n//                                     e.stopPropagation();\r\n//                                     setTaskIdToDelete(task.task_id);\r\n//                                     setShowDeleteModal(true);\r\n//                                   }}\r\n//                                   className=\"flex items-center gap-2 cursor-pointer focus:bg-red-50 text-sm\"\r\n//                                 >\r\n//                                   <Trash2 className=\"w-4 h-4 text-red-700\" />\r\n//                                   Delete\r\n//                                 </DropdownMenuItem>\r\n//                               </>\r\n//                             )}\r\n//                           </DropdownMenuContent>\r\n//                         </DropdownMenu>\r\n//                       </TableCell>\r\n//                     </TableRow>\r\n//                   ))\r\n//                 )}\r\n//               </TableBody>\r\n//             </Table>\r\n//           </div>\r\n\r\n//           {/* Pagination */}\r\n//           <div className=\"flex flex-col sm:flex-row items-center justify-between px-2 py-4 gap-4 sm:gap-0\">\r\n//             <div className=\"text-xs sm:text-sm text-gray-700\">\r\n//               Showing {Math.min((currentPage - 1) * tasksPerPage + 1, filteredTasks.length)}-\r\n//               {Math.min(currentPage * tasksPerPage, filteredTasks.length)} of {filteredTasks.length} tasks\r\n//             </div>\r\n//             {totalPages > 1 && (\r\n//               <div className=\"flex items-center gap-2\">\r\n//                 <Button\r\n//                   variant=\"outline\"\r\n//                   size=\"sm\"\r\n//                   onClick={() => handlePageChange(currentPage - 1)}\r\n//                   disabled={currentPage === 1}\r\n//                   className=\"bg-white text-black border-gray-300 hover:bg-gray-100 rounded-lg text-xs sm:text-sm\"\r\n//                 >\r\n//                   Previous\r\n//                 </Button>\r\n//                 {getPaginationButtons().map((page) => (\r\n//                   <Button\r\n//                     key={page}\r\n//                     variant={currentPage === page ? \"default\" : \"outline\"}\r\n//                     size=\"sm\"\r\n//                     onClick={() => handlePageChange(page)}\r\n//                     className={cn(\r\n//                       \"w-8 h-8 p-0\",\r\n//                       currentPage === page\r\n//                         ? \"bg-blue-600 text-white hover:bg-blue-700\"\r\n//                         : \"bg-white text-black border-gray-300 hover:bg-gray-100\",\r\n//                       \"rounded-lg text-xs sm:text-sm\"\r\n//                     )}\r\n//                   >\r\n//                     {page}\r\n//                   </Button>\r\n//                 ))}\r\n//                 <Button\r\n//                   variant=\"outline\"\r\n//                   size=\"sm\"\r\n//                   onClick={() => handlePageChange(currentPage + 1)}\r\n//                   disabled={currentPage === totalPages}\r\n//                   className=\"bg-white text-black border-gray-300 hover:bg-gray-100 rounded-lg text-xs sm:text-sm\"\r\n//                 >\r\n//                   Next\r\n//                 </Button>\r\n//               </div>\r\n//             )}\r\n//           </div>\r\n\r\n//           {/* Delete Confirmation Dialog */}\r\n//           {isTeamLeadOrCpc && viewMode === \"all\" && (\r\n//             <Dialog\r\n//               open={showDeleteModal}\r\n//               onOpenChange={() => {\r\n//                 setShowDeleteModal(false);\r\n//                 setTaskIdToDelete(null);\r\n//               }}\r\n//             >\r\n//               <DialogContent className=\"max-w-[95vw] sm:max-w-md\">\r\n//                 <DialogHeader>\r\n//                   <DialogTitle className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\r\n//                     <AlertCircle className=\"w-5 h-5 text-red-500\" />\r\n//                     Delete Task\r\n//                   </DialogTitle>\r\n//                   <p className=\"text-sm text-gray-600\">\r\n//                     Are you sure you want to delete this task? This action cannot be undone.\r\n//                   </p>\r\n//                 </DialogHeader>\r\n//                 <div className=\"flex gap-3 pt-4\">\r\n//                   <Button\r\n//                     variant=\"outline\"\r\n//                     onClick={() => {\r\n//                       setShowDeleteModal(false);\r\n//                       setTaskIdToDelete(null);\r\n//                     }}\r\n//                     className=\"flex-1 text-sm bg-white text-black border-gray-300 hover:bg-gray-100 rounded-lg\"\r\n//                   >\r\n//                     Cancel\r\n//                   </Button>\r\n//                   <Button\r\n//                     variant=\"destructive\"\r\n//                     onClick={handleDeleteTask}\r\n//                     className=\"flex-1 text-sm bg-red-600 text-white hover:bg-red-700 rounded-lg\"\r\n//                   >\r\n//                     <Trash2 className=\"w-4 h-4 mr-2\" />\r\n//                     Delete\r\n//                   </Button>\r\n//                 </div>\r\n//               </DialogContent>\r\n//             </Dialog>\r\n//           )}\r\n\r\n//           {/* Create Task Modal */}\r\n//           {isTeamLeadOrCpc && (\r\n//             <CreateTaskModal\r\n//               onTaskAssingn={() => {\r\n//                 dispatch(fetchTasksByProjectId(projectId));\r\n//                 if (!isTeamLeadOrCpc || viewMode === \"my\") {\r\n//                   dispatch(fetchEmployeeProjectTasks({ projectId, employeeId }));\r\n//                 }\r\n//               }}\r\n//               projectId={projectId}\r\n//               project={project}\r\n//               isOpen={showCreateTaskModal}\r\n//               onClose={() => setShowCreateTaskModal(false)}\r\n//             />\r\n//           )}\r\n//         </div>\r\n//       </div>\r\n//     </TooltipProvider>\r\n//   );\r\n// };\r\n\r\n// export default AllTaskListByProjectId;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\"use client\";\r\n\r\nimport { format } from \"date-fns\";\r\nimport { useEffect, useState, useMemo } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n  fetchTasksByProjectId,\r\n  deleteTask,\r\n  downloadTasksReport,\r\n  selectTasksByProjectId,\r\n  selectTaskStatus,\r\n  selectEmployeeProjectTasks,\r\n  fetchEmployeeProjectTasks,\r\n} from \"@/modules/project-management/task/slices/taskSlice\";\r\nimport {\r\n  MoreVertical,\r\n  CalendarIcon,\r\n  Filter,\r\n  Eye,\r\n  Edit,\r\n  Trash2,\r\n  Download,\r\n  Plus,\r\n  Search,\r\n  AlertCircle,\r\n  X,\r\n} from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\r\nimport { Calendar } from \"@/components/ui/calendar\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { formatDateTimeIST } from \"@/utils/formatDate\";\r\nimport CreateTaskModal from \"./CreateTaskModal\";\r\nimport EditTaskModal from \"./EditTaskModal\";\r\nimport { useCurrentUser } from \"@/hooks/useCurrentUser\";\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n\r\nconst AllTaskListByProjectId = ({ projectId, project }) => {\r\n  const { currentUser, isTeamLead } = useCurrentUser(project?.teamLeadId);\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [taskIdToDelete, setTaskIdToDelete] = useState(null);\r\n  const [showLoader, setShowLoader] = useState(true);\r\n  const [showCreateTaskModal, setShowCreateTaskModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [editingTaskId, setEditingTaskId] = useState(null);\r\n  const [showFilterDialog, setShowFilterDialog] = useState(false);\r\n\r\n  const isCpc = currentUser?.role === \"cpc\";\r\n  const isTeamLeadOrCpc = isCpc || isTeamLead;\r\n  const [viewMode, setViewMode] = useState(isTeamLeadOrCpc ? \"all\" : \"my\");\r\n\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [tempPriorityFilter, setTempPriorityFilter] = useState(\"all\");\r\n  const [tempStatusFilter, setTempStatusFilter] = useState(\"all\");\r\n  const [tempAssignedToFilter, setTempAssignedToFilter] = useState(\"all\");\r\n  const [tempDateFrom, setTempDateFrom] = useState(null);\r\n  const [tempDateTo, setTempDateTo] = useState(null);\r\n  const [priorityFilter, setPriorityFilter] = useState(\"all\");\r\n  const [statusFilter, setStatusFilter] = useState(\"all\");\r\n  const [assignedToFilter, setAssignedToFilter] = useState(\"all\");\r\n  const [dateFrom, setDateFrom] = useState(null);\r\n  const [dateTo, setDateTo] = useState(null);\r\n  const [sortConfig, setSortConfig] = useState({ key: \"\", direction: \"asc\" });\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const tasksPerPage = 10;\r\n\r\n  useEffect(() => {\r\n    if (projectId) {\r\n      setShowLoader(true);\r\n      dispatch(fetchTasksByProjectId(projectId))\r\n        .unwrap()\r\n        .finally(() => setShowLoader(false));\r\n    }\r\n  }, [dispatch, projectId]);\r\n\r\n  const employeeId = currentUser?.id;\r\n  const tasksFromStore = useSelector((state) => selectTasksByProjectId(state, projectId));\r\n  const status = useSelector(selectTaskStatus);\r\n  const employeeProjectTasks = useSelector((state) =>\r\n    selectEmployeeProjectTasks(state, projectId, employeeId)\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (projectId && employeeId && (!isTeamLeadOrCpc || viewMode === \"my\")) {\r\n      setShowLoader(true);\r\n      dispatch(fetchEmployeeProjectTasks({ projectId, employeeId }))\r\n        .unwrap()\r\n        .finally(() => setShowLoader(false));\r\n    }\r\n  }, [dispatch, projectId, employeeId, isTeamLeadOrCpc, viewMode]);\r\n\r\n  const tasks = useMemo(() => {\r\n    return (!isTeamLeadOrCpc || viewMode === \"my\") ? employeeProjectTasks || [] : tasksFromStore || [];\r\n  }, [isTeamLeadOrCpc, viewMode, tasksFromStore, employeeProjectTasks]);\r\n\r\n  const showAllViewOption = isTeamLeadOrCpc;\r\n  const showAssignedFilter = showAllViewOption && viewMode === \"all\";\r\n\r\n  const refreshTasks = () => {\r\n    dispatch(fetchTasksByProjectId(projectId));\r\n    if (!isTeamLeadOrCpc || viewMode === \"my\") {\r\n      dispatch(fetchEmployeeProjectTasks({ projectId, employeeId }));\r\n    }\r\n  };\r\n\r\n  const handleDeleteTask = async () => {\r\n    try {\r\n      await dispatch(deleteTask(taskIdToDelete)).unwrap();\r\n      toast.success(\"Task deleted successfully!\");\r\n      refreshTasks();\r\n    } catch (err) {\r\n      toast.error(\"Failed to delete task.\");\r\n    }\r\n    setShowDeleteModal(false);\r\n    setTaskIdToDelete(null);\r\n  };\r\n\r\n  const handleSort = (key) => {\r\n    setSortConfig((prev) => ({\r\n      key,\r\n      direction: prev.key === key && prev.direction === \"asc\" ? \"desc\" : \"asc\",\r\n    }));\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handleViewModeChange = (newMode) => {\r\n    setViewMode(newMode);\r\n    setCurrentPage(1);\r\n    handleResetFilters();\r\n  };\r\n\r\n  const assignedMembers = useMemo(() => {\r\n    return Array.from(new Set(tasks.flatMap(t => t.assignedTo?.map(a => a.memberName) || []))).filter(Boolean);\r\n  }, [tasks]);\r\n\r\n  const filteredTasks = useMemo(() => {\r\n    let filtered = [...tasks];\r\n\r\n    if (searchQuery.trim()) {\r\n      const q = searchQuery.toLowerCase();\r\n      filtered = filtered.filter(t =>\r\n        t.title?.toLowerCase().includes(q) ||\r\n        t.task_id?.toLowerCase().includes(q) ||\r\n        t.assignedTo?.some(a => a.memberName?.toLowerCase().includes(q))\r\n      );\r\n    }\r\n\r\n    if (priorityFilter !== \"all\") filtered = filtered.filter(t => t.priority === priorityFilter);\r\n    if (statusFilter !== \"all\") filtered = filtered.filter(t => t.status === statusFilter);\r\n    if (assignedToFilter !== \"all\" && showAssignedFilter) {\r\n      filtered = filtered.filter(t => t.assignedTo?.some(a => a.memberName === assignedToFilter));\r\n    }\r\n    if (dateFrom || dateTo) {\r\n      filtered = filtered.filter(t => {\r\n        if (!t.deadline) return false;\r\n        const d = new Date(t.deadline);\r\n        return (!dateFrom || d >= dateFrom) && (!dateTo || d <= dateTo);\r\n      });\r\n    }\r\n\r\n    if (sortConfig.key) {\r\n      filtered.sort((a, b) => {\r\n        let aVal = sortConfig.key.includes(\".\") ? sortConfig.key.split(\".\").reduce((o, k) => o?.[k], a) : a[sortConfig.key];\r\n        let bVal = sortConfig.key.includes(\".\") ? sortConfig.key.split(\".\").reduce((o, k) => o?.[k], b) : b[sortConfig.key];\r\n        if (typeof aVal === \"string\") aVal = aVal.toLowerCase();\r\n        if (typeof bVal === \"string\") bVal = bVal.toLowerCase();\r\n        return (aVal < bVal ? -1 : 1) * (sortConfig.direction === \"asc\" ? 1 : -1);\r\n      });\r\n    }\r\n\r\n    return filtered;\r\n  }, [tasks, searchQuery, priorityFilter, statusFilter, assignedToFilter, dateFrom, dateTo, sortConfig, showAssignedFilter]);\r\n\r\n  const handleResetFilters = () => {\r\n    setSearchQuery(\"\");\r\n    setPriorityFilter(\"all\");\r\n    setStatusFilter(\"all\");\r\n    setAssignedToFilter(\"all\");\r\n    setDateFrom(null);\r\n    setDateTo(null);\r\n    setTempPriorityFilter(\"all\");\r\n    setTempStatusFilter(\"all\");\r\n    setTempAssignedToFilter(\"all\");\r\n    setTempDateFrom(null);\r\n    setTempDateTo(null);\r\n    setSortConfig({ key: \"\", direction: \"asc\" });\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handleApplyFilters = () => {\r\n    setPriorityFilter(tempPriorityFilter);\r\n    setStatusFilter(tempStatusFilter);\r\n    setAssignedToFilter(tempAssignedToFilter);\r\n    setDateFrom(tempDateFrom);\r\n    setDateTo(tempDateTo);\r\n    setShowFilterDialog(false);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const totalPages = Math.max(1, Math.ceil(filteredTasks.length / tasksPerPage));\r\n  const paginatedTasks = filteredTasks.slice((currentPage - 1) * tasksPerPage, currentPage * tasksPerPage);\r\n\r\n  const getInitials = (name) => {\r\n    if (!name) return \"NA\";\r\n    const words = name.split(\" \");\r\n    return words.length > 1 ? `${words[0][0]}${words[1][0]}`.toUpperCase() : name.slice(0, 2).toUpperCase();\r\n  };\r\n\r\n  const truncateTitle = (title) => title?.length > 70 ? `${title.slice(0, 70)}...` : title || \"N/A\";\r\n\r\n  return (\r\n    <TooltipProvider>\r\n      <div className=\"w-full bg-white\">\r\n        <div className=\"space-y-6\">\r\n\r\n          <div className=\"flex flex-wrap gap-4\">\r\n            <div className=\"flex-1 min-w-[180px]\">\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n                <Input\r\n                  placeholder=\"Search tasks...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  className=\"pl-10\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {showAllViewOption && (\r\n              <Select value={viewMode} onValueChange={handleViewModeChange}>\r\n                <SelectTrigger className=\"w-[140px]\">\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"my\">My Tasks</SelectItem>\r\n                  <SelectItem value=\"all\">All Tasks</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            )}\r\n\r\n            <Button variant=\"outline\" onClick={() => setShowFilterDialog(true)}>\r\n              <Filter className=\"w-4 h-4 mr-2\" /> Filter\r\n            </Button>\r\n            <Button variant=\"outline\" onClick={handleResetFilters}>\r\n              <X className=\"w-4 h-4 mr-2\" /> Reset\r\n            </Button>\r\n\r\n            {isTeamLeadOrCpc && (\r\n              <>\r\n                <Button variant=\"default\" onClick={() => dispatch(downloadTasksReport({ projectId }))}>\r\n                  <Download className=\"w-4 h-4 mr-2\" /> Download\r\n                </Button>\r\n                <Button variant=\"default\" onClick={() => setShowCreateTaskModal(true)}>\r\n                  <Plus className=\"w-4 h-4 mr-2\" /> Create Task\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"border rounded-lg overflow-hidden\">\r\n            <Table>\r\n              <TableHeader>\r\n                <TableRow className=\"bg-gray-50\">\r\n                  <TableHead className=\"w-16\">S.N</TableHead>\r\n                  <TableHead onClick={() => handleSort(\"title\")} className=\"cursor-pointer\">Title</TableHead>\r\n                  <TableHead>Assignee</TableHead>\r\n                  <TableHead onClick={() => handleSort(\"priority\")} className=\"cursor-pointer\">Priority</TableHead>\r\n                  <TableHead onClick={() => handleSort(\"deadline\")} className=\"cursor-pointer\">Deadline</TableHead>\r\n                  <TableHead onClick={() => handleSort(\"status\")} className=\"cursor-pointer\">Status</TableHead>\r\n                  <TableHead className=\"w-20\">Action</TableHead>\r\n                </TableRow>\r\n              </TableHeader>\r\n              <TableBody>\r\n                {showLoader ? (\r\n                  <TableRow><TableCell colSpan={7} className=\"text-center py-10\">Loading...</TableCell></TableRow>\r\n                ) : paginatedTasks.length === 0 ? (\r\n                  <TableRow><TableCell colSpan={7} className=\"text-center py-10 text-gray-500\">No tasks found</TableCell></TableRow>\r\n                ) : (\r\n                  paginatedTasks.map((task, idx) => (\r\n                    <TableRow key={task._id} className=\"hover:bg-gray-50 cursor-pointer\" onClick={() => router.push(`/workspace/task/${task.task_id}`)}>\r\n                      <TableCell>{(currentPage - 1) * tasksPerPage + idx + 1}</TableCell>\r\n                      <TableCell className=\"font-medium\">{truncateTitle(task.title)}</TableCell>\r\n\r\n                      <TableCell>\r\n                        {task.assignedTo?.length > 0 ? (\r\n                          <div className=\"flex -space-x-2\">\r\n                            {task.assignedTo.slice(0, 3).map((a) => (\r\n                              <Tooltip key={a.memberId || a._id}>\r\n                                <TooltipTrigger asChild>\r\n                                  <Avatar className=\"w-8 h-8 ring-2 ring-white\">\r\n                                    <AvatarFallback className=\"bg-teal-600 text-white text-xs\">\r\n                                      {getInitials(a.memberName)}\r\n                                    </AvatarFallback>\r\n                                  </Avatar>\r\n                                </TooltipTrigger>\r\n                                <TooltipContent>{a.memberName}</TooltipContent>\r\n                              </Tooltip>\r\n                            ))}\r\n                            {task.assignedTo.length > 3 && (\r\n                              <div className=\"w-8 h-8 rounded-full bg-gray-300 text-xs flex items-center justify-center ring-2 ring-white\">\r\n                                +{task.assignedTo.length - 3}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        ) : \"—\"}\r\n                      </TableCell>\r\n\r\n                      <TableCell>\r\n                        <span className={cn(\r\n                          \"px-2.5 py-0.5 rounded-full text-xs font-medium\",\r\n                          task.priority === \"Low\" && \"bg-green-100 text-green-800\",\r\n                          task.priority === \"Medium\" && \"bg-yellow-100 text-yellow-800\",\r\n                          task.priority === \"High\" && \"bg-red-100 text-red-800\"\r\n                        )}>\r\n                          {task.priority}\r\n                        </span>\r\n                      </TableCell>\r\n\r\n                      <TableCell className=\"text-xs\">\r\n                        {formatDateTimeIST(task.deadline) || \"—\"}\r\n                      </TableCell>\r\n\r\n                      <TableCell>\r\n                        <span className={cn(\r\n                          \"px-2.5 py-0.5 rounded-full text-xs font-medium\",\r\n                          task.status === \"Pending\" && \"bg-yellow-100 text-yellow-800\",\r\n                          task.status === \"In Progress\" && \"bg-blue-100 text-blue-800\",\r\n                          task.status === \"Completed\" && \"bg-green-100 text-green-800\"\r\n                        )}>\r\n                          {task.status}\r\n                        </span>\r\n                      </TableCell>\r\n\r\n                      <TableCell onClick={(e) => e.stopPropagation()}>\r\n                        <DropdownMenu>\r\n                          <DropdownMenuTrigger asChild>\r\n                            <Button variant=\"ghost\" size=\"icon\"><MoreVertical className=\"h-4 w-4\" /></Button>\r\n                          </DropdownMenuTrigger>\r\n                          <DropdownMenuContent align=\"end\">\r\n                            <DropdownMenuItem onClick={() => router.push(`/workspace/task/${task.task_id}`)}>\r\n                              <Eye className=\"w-4 h-4 mr-2\" /> View\r\n                            </DropdownMenuItem>\r\n                            {isTeamLeadOrCpc && viewMode === \"all\" && (\r\n                              <>\r\n                                <DropdownMenuItem onClick={() => { setEditingTaskId(task.task_id); setShowEditModal(true); }}>\r\n                                  <Edit className=\"w-4 h-4 mr-2\" /> Edit\r\n                                </DropdownMenuItem>\r\n                                <DropdownMenuItem onClick={() => { setTaskIdToDelete(task.task_id); setShowDeleteModal(true); }} className=\"text-red-600\">\r\n                                  <Trash2 className=\"w-4 h-4 mr-2\" /> Delete\r\n                                </DropdownMenuItem>\r\n                              </>\r\n                            )}\r\n                          </DropdownMenuContent>\r\n                        </DropdownMenu>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </div>\r\n\r\n          {totalPages > 1 && (\r\n            <div className=\"flex justify-center gap-2\">\r\n              <Button variant=\"outline\" size=\"sm\" disabled={currentPage === 1} onClick={() => setCurrentPage(p => p - 1)}>Previous</Button>\r\n              {Array.from({ length: Math.min(7, totalPages) }, (_, i) => {\r\n                const page = i + 1;\r\n                return (\r\n                  <Button key={page} variant={currentPage === page ? \"default\" : \"outline\"} size=\"sm\" onClick={() => setCurrentPage(page)}>\r\n                    {page}\r\n                  </Button>\r\n                );\r\n              })}\r\n              <Button variant=\"outline\" size=\"sm\" disabled={currentPage === totalPages} onClick={() => setCurrentPage(p => p + 1)}>Next</Button>\r\n            </div>\r\n          )}\r\n\r\n          <Dialog open={showDeleteModal} onOpenChange={setShowDeleteModal}>\r\n            <DialogContent>\r\n              <DialogHeader>\r\n                <DialogTitle className=\"flex items-center gap-2\">\r\n                  <AlertCircle className=\"w-5 h-5 text-red-600\" /> Delete Task\r\n                </DialogTitle>\r\n              </DialogHeader>\r\n              <p>Are you sure you want to delete this task? This action cannot be undone.</p>\r\n              <div className=\"flex justify-end gap-3 mt-4\">\r\n                <Button variant=\"outline\" onClick={() => setShowDeleteModal(false)}>Cancel</Button>\r\n                <Button variant=\"destructive\" onClick={handleDeleteTask}>Delete</Button>\r\n              </div>\r\n            </DialogContent>\r\n          </Dialog>\r\n\r\n          {isTeamLeadOrCpc && (\r\n            <CreateTaskModal\r\n              onTaskAssingn={refreshTasks}\r\n              projectId={projectId}\r\n              project={project}\r\n              isOpen={showCreateTaskModal}\r\n              onClose={() => setShowCreateTaskModal(false)}\r\n            />\r\n          )}\r\n\r\n          {isTeamLeadOrCpc && (\r\n            <EditTaskModal\r\n              taskId={editingTaskId}\r\n              isOpen={showEditModal}\r\n              onClose={() => { setShowEditModal(false); setEditingTaskId(null); }}\r\n              onTaskUpdated={refreshTasks}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </TooltipProvider>\r\n  );\r\n};\r\n\r\nexport default AllTaskListByProjectId;"],"names":[],"mappings":"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","debugId":null}}]
}